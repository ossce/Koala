<?php public $table_order_verify = "\x66\171\137\154\145\163\163\x6f\x6e\x5f\x6f\x72\144\145\x72\x5f\166\x65\x72\x69\x66\171"; public $table_lesson_parent = "\x66\171\137\x6c\145\x73\163\157\x6e\x5f\x70\x61\x72\145\x6e\x74"; public $table_playrecord = "\x66\x79\137\154\145\x73\163\x6f\x6e\137\160\154\x61\171\x72\145\143\x6f\x72\x64"; public $table_poster = "\x66\171\137\x6c\x65\x73\x73\x6f\x6e\x5f\160\x6f\x73\164\145\162"; public $table_qcloudvod_upload = "\x66\171\x5f\x6c\x65\x73\x73\x6f\x6e\137\161\143\x6c\x6f\165\144\166\157\144\x5f\x75\x70\154\x6f\141\x64"; public $table_qcloud_upload = "\x66\171\137\154\x65\163\163\x6f\156\x5f\161\143\154\x6f\x75\144\137\165\160\154\157\x61\x64"; public $table_qiniu_upload = "\146\x79\137\154\145\163\x73\x6f\156\x5f\x71\151\156\x69\165\x5f\x75\160\x6c\157\141\x64"; public $table_recommend = "\146\171\137\154\x65\x73\163\x6f\156\137\x72\145\143\157\x6d\x6d\x65\x6e\144"; public $table_setting = "\x66\171\x5f\x6c\145\x73\x73\x6f\156\x5f\163\145\x74\164\x69\x6e\147"; public $table_setting_pc = "\x66\x79\137\x6c\x65\x73\x73\157\x6e\x5f\x73\145\164\164\x69\156\x67\137\x70\143"; public $table_signin = "\x66\171\x5f\x6c\x65\x73\x73\157\x6e\137\163\x69\x67\156\151\156"; public $table_lesson_son = "\x66\171\x5f\154\x65\x73\x73\157\156\x5f\163\157\x6e"; public $table_lesson_title = "\x66\171\x5f\154\x65\163\163\x6f\156\137\x74\151\164\x6c\145"; public $table_lesson_spec = "\x66\171\x5f\154\x65\163\163\x6f\156\x5f\163\x70\x65\x63"; public $table_static = "\146\171\137\x6c\145\163\x73\x6f\x6e\137\x73\164\141\x74\x69\143"; public $table_study_duration = "\x66\171\137\x6c\145\x73\163\x6f\x6e\137\x73\164\x75\144\x79\137\x64\x75\162\141\x74\x69\157\156"; public $table_subscribe_msg = "\146\171\137\x6c\x65\x73\x73\157\x6e\137\x73\165\142\x73\143\162\x69\142\x65\137\x6d\163\147"; public $table_syslog = "\x66\171\x5f\154\145\163\163\157\x6e\137\163\x79\x73\x6c\157\x67"; public $table_teacher = "\146\171\137\154\x65\163\x73\157\156\x5f\x74\x65\x61\x63\x68\x65\162"; public $table_teacher_category = "\x66\x79\x5f\x6c\145\x73\x73\x6f\156\137\164\145\141\143\150\145\162\137\143\x61\164\145\147\x6f\162\171"; public $table_teacher_income = "\146\x79\137\154\x65\163\x73\157\156\x5f\164\145\141\x63\x68\x65\x72\137\151\156\x63\157\x6d\x65"; public $table_teacher_order = "\146\171\137\x6c\x65\163\x73\157\156\137\164\145\x61\x63\x68\145\x72\x5f\157\162\144\145\162"; public $table_teacher_price = "\146\171\137\154\145\163\163\x6f\x6e\x5f\x74\145\x61\x63\150\x65\x72\x5f\x70\x72\x69\143\x65"; public $table_tplmessage = "\x66\x79\x5f\x6c\x65\163\x73\157\x6e\137\x74\160\154\x6d\x65\163\163\x61\x67\x65"; public $table_vip_level = "\x66\x79\137\154\145\x73\x73\157\x6e\x5f\166\x69\x70\137\154\145\166\145\x6c"; public $table_vipcard = "\x66\171\137\x6c\145\x73\x73\157\156\x5f\x76\x69\x70\143\141\162\x64"; public $table_mc_members = "\x6d\143\x5f\155\x65\155\142\145\x72\163"; public $table_fans = "\155\143\x5f\x6d\141\x70\160\x69\x6e\147\x5f\x66\x61\156\x73"; public $table_core_paylog = "\143\x6f\x72\x65\137\160\141\x79\x6c\157\147"; public $table_users = "\165\x73\x65\x72\x73"; public $table_live_award = "\146\171\x5f\x6c\x65\163\x73\x6f\156\x5f\160\x6c\165\147\x69\156\x5f\x6c\x69\x76\x65\137\141\x77\x61\162\144"; public $table_live_chatrecord = "\x66\171\137\154\145\x73\x73\x6f\156\x5f\x70\x6c\x75\147\151\x6e\x5f\154\x69\x76\145\137\x63\150\141\164\162\x65\143\157\x72\x64"; public $table_live_chatroom = "\146\x79\137\x6c\145\x73\x73\157\156\x5f\160\x6c\165\147\151\x6e\x5f\x6c\x69\166\145\137\x63\x68\x61\164\x72\x6f\x6f\x6d"; public $table_live_stream = "\x66\171\137\x6c\145\163\x73\x6f\156\137\160\154\x75\x67\151\156\x5f\154\x69\x76\145\137\163\x74\162\x65\141\x6d"; public function getNavigation($template) { goto ibsJc; VK_ji: if (!empty($navigation)) { goto dcJGu; } goto h5St_; A8q73: foreach ($nav as $v) { goto Mv8WA; OpirQ: $v["\163\x65\154\145\143\x74\145\x64\x5f\x69\x63\x6f\156"] = $_W["\x61\x74\164\141\x63\x68\165\162\154"] . $v["\163\x65\154\145\x63\x74\145\x64\137\151\143\157\x6e"]; goto rZRuE; nWUaq: w0lKo: goto jmQJs; Mv8WA: $v["\165\156\163\145\x6c\145\143\164\x65\x64\x5f\151\143\x6f\x6e"] = $_W["\141\164\x74\141\x63\150\x75\162\x6c"] . $v["\165\156\x73\x65\x6c\x65\x63\164\x65\144\x5f\151\143\157\x6e"]; goto OpirQ; rZRuE: $navigation[$v["\156\141\166\x5f\x69\144\145\x6e\x74"]] = $v; goto nWUaq; jmQJs: } goto LzmMR; RYJfO: return $navigation; goto BIEJK; ODi2X: Fk3hf: goto U6UED; NYMjl: if ($navigation["\x73\x65\x61\162\143\150"]) { goto NjTCW; } goto xi_o0; ibsJc: global $_W; goto MxPYV; Mudqe: dcJGu: goto RYJfO; U6UED: cache_write("\146\x79\137\x6c\x65\x73\163\x6f\156\x5f" . $uniacid . "\x5f\156\141\166\151\147\141\164\x69\157\x6e", $navigation); goto Mudqe; LzmMR: x65wC: goto s13F4; YmlUt: $nav = pdo_fetchall("\123\105\x4c\105\103\124\40\x2a\x20\106\x52\x4f\115\x20" . tablename($this->table_navigation) . "\x20\x57\x48\x45\x52\105\40\165\x6e\151\141\143\x69\x64\75\x3a\x75\x6e\151\x61\x63\x69\144\x20\101\x4e\104\x20\x69\x73\x5f\x70\x63\x3d\x3a\x69\163\x5f\x70\143\x20\101\116\104\40\x6c\157\x63\141\164\x69\157\156\75\x3a\x6c\157\x63\141\x74\151\x6f\156\40\x4f\x52\x44\105\x52\40\102\x59\40\x64\151\x73\160\x6c\x61\x79\157\162\x64\x65\162\x20\x41\123\x43", array("\72\x75\x6e\x69\141\143\151\144" => $uniacid, "\x3a\151\x73\137\160\x63" => 0, "\72\x6c\157\143\141\x74\151\x6f\x6e" => 1)); goto A8q73; MxPYV: $uniacid = $_W["\x75\x6e\x69\141\x63\151\x64"]; goto dVcw4; YHTNq: T4GlD: goto NYMjl; dVcw4: $navigation = cache_load("\x66\x79\137\154\145\x73\163\157\156\137" . $uniacid . "\x5f\x6e\141\x76\x69\x67\x61\164\151\157\156"); goto VK_ji; S56Zg: if ($navigation["\163\x65\x6c\x66"]) { goto Fk3hf; } goto lt3Io; sHAJl: NjTCW: goto S56Zg; h5St_: $navigation = []; goto YmlUt; lt3Io: $navigation["\x73\145\154\x66"] = array("\x6e\x61\166\x5f\x6e\141\155\x65" => "\xe4\270\xaa\344\xba\272\xe4\xb8\xad\345\277\x83", "\165\x6e\x73\145\154\145\x63\164\x65\x64\x5f\151\143\157\x6e" => MODULE_URL . "\x74\x65\155\160\154\x61\x74\145\57\155\157\142\151\154\x65\x2f{$template}\57\151\155\141\147\x65\x73\57\x75\x6e\x73\x65\x6c\145\143\x74\145\144\x5f\163\145\154\x66\137\151\x63\x6f\156\x2e\x70\x6e\x67", "\x73\x65\154\x65\x63\x74\145\144\137\151\143\x6f\156" => MODULE_URL . "\x74\x65\155\160\x6c\x61\x74\145\x2f\155\157\x62\151\154\145\57{$template}\57\x69\155\141\147\x65\163\57\163\145\x6c\145\x63\x74\145\144\x5f\x73\x65\154\x66\137\x69\x63\x6f\156\x2e\x70\x6e\x67", "\x75\x72\154\137\x6c\151\156\153" => $this->redefineUrl($this->createMobileUrl("\163\x65\154\146", array("\164" => time())))); goto ODi2X; xi_o0: $navigation["\x73\145\141\x72\143\x68"] = array("\x6e\x61\x76\137\156\141\x6d\145" => "\345\x85\250\351\203\250\350\257\276\xe7\xa8\x8b", "\x75\x6e\x73\145\x6c\145\x63\x74\x65\144\137\151\x63\157\x6e" => MODULE_URL . "\x74\145\155\x70\154\141\x74\x65\x2f\155\x6f\142\151\154\x65\57{$template}\57\x69\155\x61\x67\145\x73\57\x75\x6e\163\145\154\x65\x63\x74\x65\144\x5f\163\145\x61\162\x63\x68\x5f\151\143\x6f\x6e\x2e\x70\156\x67", "\x73\x65\154\145\x63\164\x65\x64\x5f\151\143\x6f\x6e" => MODULE_URL . "\164\145\x6d\160\154\141\x74\x65\57\x6d\x6f\x62\x69\x6c\x65\x2f{$template}\x2f\x69\155\x61\x67\x65\x73\x2f\163\145\154\x65\143\x74\x65\x64\x5f\163\145\141\162\x63\x68\137\151\x63\157\156\56\160\156\147", "\165\162\154\x5f\154\x69\156\x6b" => $this->redefineUrl($this->createMobileUrl("\163\x65\141\162\x63\150", array("\x74" => time())))); goto sHAJl; hp1OQ: $navigation["\151\156\144\145\170"] = array("\156\141\166\137\x6e\141\155\x65" => "\xe9\xa6\226\xe9\xa1\265", "\165\x6e\163\x65\154\x65\x63\x74\145\144\137\151\143\157\156" => MODULE_URL . "\164\x65\155\160\x6c\x61\164\x65\57\155\157\142\151\x6c\145\x2f{$template}\x2f\x69\x6d\x61\x67\145\x73\57\x75\x6e\163\145\x6c\x65\x63\x74\x65\144\x5f\151\x6e\x64\145\170\x5f\x69\143\x6f\x6e\56\x70\156\147", "\163\145\x6c\145\x63\164\x65\144\x5f\151\143\157\156" => MODULE_URL . "\164\x65\155\x70\x6c\141\164\x65\57\x6d\157\142\x69\x6c\x65\x2f{$template}\57\x69\155\141\147\x65\163\57\163\x65\x6c\x65\143\164\x65\x64\x5f\x69\156\x64\145\170\137\151\x63\157\x6e\x2e\160\x6e\x67", "\165\162\x6c\137\154\151\x6e\153" => $this->redefineUrl($this->createMobileUrl("\x69\156\144\x65\x78", array("\x74" => time())))); goto YHTNq; s13F4: if ($navigation["\151\x6e\144\x65\170"]) { goto T4GlD; } goto hp1OQ; BIEJK: } public function setFooter($navigation) { goto i4sMe; ueXZt: if (!$navigation["\x73\145\x61\162\143\x68"]["\x75\x72\x6c\x5f\x6c\151\156\x6b"]) { goto XQB1R; } goto T8F7y; sb_YU: if (!$navigation["\x64\151\171\x6e\x61\166"]["\x75\x72\154\137\x6c\x69\x6e\153"]) { goto gkoTI; } goto ftadv; zX8W6: lfXD9: goto mpXPk; EStIA: if (!$navigation["\x73\x65\154\146"]["\165\162\154\x5f\x6c\151\156\153"]) { goto fXf_L; } goto xO9Lk; ftadv: parse_str(@array_pop(explode("\77", $navigation["\144\151\x79\156\x61\x76"]["\165\x72\x6c\137\154\x69\156\x6b"])), $diynav_params); goto VHQmP; BXhVn: if (!$navigation["\155\171\x6c\x65\163\x73\x6f\x6e"]["\165\x72\154\x5f\154\151\156\153"]) { goto jWww6; } goto s5xF9; bvVGQ: $foot_params["\151\x6e\144\145\170"] = true; goto zNiPh; oiLFW: $com_do = $params["\144\157"] ? $params["\144\x6f"] : $_GPC["\x64\x6f"]; goto GAyfM; GAyfM: $com_op = $params["\157\160"] ? $params["\157\160"] : "\144\x69\x73\160\154\x61\171"; goto JxRSA; OQ9_x: fXf_L: goto uTAqT; i4sMe: global $_W, $_GPC; goto Ef7te; Ky02f: A0kCf: goto d2SaC; AGr6M: $index_do = $index_params["\144\x6f"]; goto lHH47; OV1fl: $foot_params["\x6d\x79\154\145\163\163\157\156"] = true; goto Ky02f; Jaksj: $self_op = $self_params["\x6f\160"] ? $self_params["\x6f\x70"] : "\x64\x69\x73\160\154\141\171"; goto bcYha; d2SaC: jWww6: goto EStIA; HUSVp: $diynav_op = $diynav_params["\157\160"] ? $diynav_params["\x6f\x70"] : "\144\151\163\x70\154\x61\x79"; goto bWTiM; bWTiM: if (!($com_do == $diynav_do && $com_op == $diynav_op)) { goto lfXD9; } goto NDCQ0; WeEXQ: if (!($com_do == $search_do && $com_op == $search_op)) { goto Fuqka; } goto xGUqo; lHH47: $index_op = $index_params["\157\160"] ? $index_params["\x6f\160"] : "\x64\151\x73\160\x6c\x61\x79"; goto wkx90; lLAmo: $search_do = $search_params["\144\x6f"]; goto p070z; xGUqo: $foot_params["\163\145\141\x72\143\150"] = true; goto GOu6A; xO9Lk: parse_str(@array_pop(explode("\x3f", $navigation["\163\145\x6c\x66"]["\165\162\x6c\x5f\x6c\151\156\x6b"])), $self_params); goto U_Bl7; RoCM9: if (!($com_do == $lesson_do && $com_op == $lesson_op)) { goto A0kCf; } goto OV1fl; lrs8L: $foot_params["\163\145\x6c\146"] = true; goto XGu7C; zNiPh: lnZII: goto E20zO; s5xF9: parse_str(@array_pop(explode("\x3f", $navigation["\x6d\x79\x6c\145\x73\163\x6f\156"]["\165\162\x6c\x5f\x6c\x69\x6e\153"])), $lesson_params); goto NozLp; GOu6A: Fuqka: goto EkLAL; NozLp: $lesson_do = $lesson_params["\x64\157"]; goto sEjlP; EkLAL: XQB1R: goto sb_YU; NDCQ0: $foot_params["\x64\x69\171\x6e\141\x76"] = true; goto zX8W6; VHQmP: $diynav_do = $diynav_params["\144\x6f"]; goto HUSVp; efILP: if (!$navigation["\x69\156\x64\145\170"]["\x75\162\x6c\x5f\x6c\x69\156\x6b"]) { goto fel73; } goto YUtzg; mpXPk: gkoTI: goto BXhVn; U_Bl7: $self_do = $self_params["\x64\x6f"]; goto Jaksj; YUtzg: parse_str(@array_pop(explode("\77", $navigation["\x69\156\x64\x65\x78"]["\165\162\154\137\154\151\x6e\x6b"])), $index_params); goto AGr6M; bcYha: if (!($com_do == $self_do && $com_op == $self_op)) { goto qt4_w; } goto lrs8L; p070z: $search_op = $search_params["\157\160"] ? $search_params["\157\160"] : "\144\151\163\x70\154\x61\171"; goto WeEXQ; sEjlP: $lesson_op = $lesson_params["\157\160"] ? $lesson_params["\x6f\160"] : "\144\151\x73\160\x6c\141\x79"; goto RoCM9; wkx90: if (!($com_do == $index_do && $com_op == $index_op)) { goto lnZII; } goto bvVGQ; JxRSA: $foot_params = array(); goto efILP; Ef7te: parse_str(@array_pop(explode("\x3f", $_W["\163\151\x74\145\x75\x72\154"])), $params); goto oiLFW; T8F7y: parse_str(@array_pop(explode("\77", $navigation["\163\x65\141\x72\143\x68"]["\165\162\x6c\x5f\154\x69\156\x6b"])), $search_params); goto lLAmo; XGu7C: qt4_w: goto OQ9_x; uTAqT: return $foot_params; goto LXjzK; E20zO: fel73: goto ueXZt; LXjzK: } public function getRightBarMenu() { goto wXiVt; wXiVt: global $_W; goto eivhD; eivhD: $uniacid = $_W["\165\156\151\x61\x63\x69\144"]; goto pYoRN; YuVd9: Euv9t: goto QtzHn; DK576: $right_menu = pdo_fetchall("\123\x45\114\x45\x43\x54\x20\x2a\40\x46\x52\117\115\x20" . tablename($this->table_navigation) . "\40\127\x48\105\x52\105\40\x75\156\151\141\143\x69\144\x3d\x3a\x75\156\x69\x61\x63\x69\x64\40\101\116\104\40\151\x73\x5f\x70\143\x3d\x3a\151\x73\137\160\143\x20\101\x4e\x44\x20\154\157\143\141\x74\x69\157\156\x3d\72\x6c\x6f\x63\141\164\151\x6f\x6e\x20\x4f\x52\104\x45\122\40\102\x59\40\144\x69\163\160\154\x61\x79\157\162\x64\145\x72\x20\104\105\x53\x43\54\x20\156\141\166\x5f\x69\x64\x20\104\105\x53\103", array("\x3a\165\156\x69\141\143\x69\144" => $uniacid, "\x3a\151\163\137\x70\143" => 0, "\x3a\154\x6f\x63\x61\164\151\157\156" => 5)); goto mjvM_; I9XxC: if (!empty($right_menu)) { goto Euv9t; } goto DK576; pYoRN: $right_menu = cache_load("\146\x79\137\x6c\145\163\163\x6f\x6e\x5f" . $uniacid . "\x5f\156\141\x76\x69\x67\x61\x74\151\157\156\x5f\x72\151\147\x68\x74\x42\141\162"); goto I9XxC; mjvM_: cache_write("\146\x79\137\154\x65\163\163\x6f\156\137" . $uniacid . "\x5f\x6e\141\166\x69\x67\141\x74\x69\x6f\x6e\137\x72\151\x67\150\164\102\141\162", $right_menu); goto YuVd9; QtzHn: return $right_menu; goto qX9sb; qX9sb: } public function getSelfMenu() { goto ppd2Q; krFGz: return $right_menu; goto gxHt2; Y9C04: $uniacid = $_W["\165\156\x69\141\x63\x69\x64"]; goto K11rx; K11rx: $right_menu = cache_load("\146\171\137\154\145\x73\163\x6f\x6e\137" . $uniacid . "\x5f\156\x61\x76\151\x67\141\x74\x69\x6f\x6e\x5f\163\x65\x6c\x66"); goto fHKo8; EF43s: w37bR: goto krFGz; tCUJL: $right_menu = pdo_fetchall("\123\105\x4c\x45\x43\x54\x20\x2a\x20\x46\122\117\115\40" . tablename($this->table_navigation) . "\x20\x57\110\105\x52\105\x20\x75\156\151\x61\143\x69\x64\x3d\72\x75\156\151\141\143\x69\x64\x20\101\x4e\104\x20\x69\x73\x5f\160\143\x3d\x3a\151\x73\137\x70\143\x20\101\116\x44\x20\x6c\157\143\x61\x74\151\157\156\x3d\72\154\157\143\x61\164\x69\x6f\x6e\40\117\122\x44\105\122\x20\x42\x59\x20\144\151\x73\x70\154\x61\171\157\162\144\145\x72\40\x44\x45\x53\x43\54\x20\x6e\141\166\x5f\x69\144\x20\104\105\x53\x43", array("\72\x75\156\151\x61\143\151\144" => $uniacid, "\x3a\x69\163\x5f\x70\143" => 0, "\x3a\x6c\157\x63\141\164\151\x6f\156" => 3)); goto vTez1; vTez1: cache_write("\x66\x79\137\x6c\145\x73\163\x6f\x6e\137" . $uniacid . "\137\x6e\141\x76\x69\x67\x61\x74\151\157\156\x5f\163\145\154\146", $right_menu); goto EF43s; fHKo8: if (!empty($right_menu)) { goto w37bR; } goto tCUJL; ppd2Q: global $_W; goto Y9C04; gxHt2: } public function getLessonAttribute($type = '') { goto P1ea1; mFl36: o2kW7: goto xZNz8; LmYuu: yBK9J: goto C60m0; X2J2B: cache_write("\146\171\137\154\x65\163\x73\157\156\137" . $uniacid . "\x5f\x61\164\x74\x72\151\142\x75\x74\x65\x31", $attribute); goto LmYuu; Y9GL0: if (!empty($attribute)) { goto yBK9J; } goto U0HiA; fCK8w: return; goto Fiucf; xZNz8: $attribute = cache_load("\146\171\x5f\x6c\145\163\x73\157\x6e\137" . $uniacid . "\x5f\141\164\164\x72\151\x62\x75\164\145\x31"); goto Y9GL0; EGvto: if (!empty($attribute)) { goto I_RHe; } goto UJxbd; cuYG3: if ($type == 1) { goto o2kW7; } goto DPOXu; UJxbd: $attribute = pdo_fetchall("\x53\105\114\105\x43\124\x20\x2a\40\106\122\117\x4d\x20" . tablename($this->table_attribute) . "\x20\127\110\105\122\x45\x20\165\x6e\151\x61\143\151\x64\75\72\x75\x6e\151\141\143\x69\x64\x20\101\116\104\40\141\164\164\x72\137\x74\x79\x70\x65\75\72\141\x74\164\162\x5f\x74\x79\160\x65\40\x4f\x52\104\x45\x52\40\102\131\x20\x64\x69\163\160\x6c\x61\x79\x6f\x72\x64\x65\x72\40\x44\x45\123\103", array("\72\165\156\151\141\x63\151\x64" => $uniacid, "\72\141\164\x74\x72\x5f\x74\x79\x70\x65" => "\x61\164\x74\162\x69\x62\x75\x74\x65\62")); goto KGB4E; vuQVM: return $attribute; goto c8eFY; adkzO: $attribute = cache_load("\146\171\x5f\154\145\163\x73\157\x6e\x5f" . $uniacid . "\x5f\141\x74\x74\162\151\x62\x75\x74\145\62"); goto EGvto; DPOXu: if ($type == 2) { goto uvqlM; } goto fCK8w; G3gah: ljLmn: goto vuQVM; U0HiA: $attribute = pdo_fetchall("\123\x45\114\105\103\x54\40\x2a\x20\106\122\117\x4d\40" . tablename($this->table_attribute) . "\x20\x57\x48\x45\x52\x45\40\x75\156\x69\x61\x63\151\x64\x3d\x3a\165\x6e\x69\x61\x63\x69\144\x20\x41\116\104\x20\x61\164\164\x72\137\x74\171\x70\145\x3d\72\141\164\x74\x72\x5f\x74\x79\x70\x65\x20\117\122\x44\x45\122\40\x42\x59\40\x64\151\163\x70\154\x61\x79\x6f\x72\x64\145\x72\40\x44\x45\123\x43", array("\x3a\165\156\x69\x61\x63\x69\144" => $uniacid, "\72\141\164\164\x72\x5f\164\171\x70\145" => "\x61\x74\x74\x72\x69\142\x75\x74\145\x31")); goto X2J2B; C60m0: goto ljLmn; goto iyq2s; rxYo3: $uniacid = $_W["\x75\x6e\151\141\143\x69\144"]; goto cuYG3; Fiucf: goto ljLmn; goto mFl36; iyq2s: uvqlM: goto adkzO; ayZxw: I_RHe: goto G3gah; P1ea1: global $_W; goto rxYo3; KGB4E: cache_write("\146\x79\137\x6c\x65\x73\x73\157\156\x5f" . $uniacid . "\137\141\x74\164\162\151\x62\165\x74\x65\62", $attribute); goto ayZxw; c8eFY: } public function redefineUrl($url) { $new_url = str_replace("\46\x6d\x3d", '', $url); return $new_url . "\x26\155\75\146\x79\137\154\x65\x73\x73\157\156\166\x32"; } public function getDiyTemplate($id = '', $page_type = 1) { goto qoOrs; c_ROY: goto lELCP; goto T400y; x_0Pr: return $diy_data; goto NtJKE; vRtpK: d950t: goto wyu0x; zUSex: if ($page_type == 2) { goto ibcqI; } goto T1Syj; lAh24: $diy_data = json_decode($diy_tpl["\x64\x61\x74\141"], true); goto HMzG_; MjXd4: $diy_data = cache_load("\x66\x79\x5f\x6c\x65\163\163\x6f\x6e\137" . $uniacid . "\x5f\144\151\171\137\x74\x65\x6d\160\x6c\x61\x74\145"); goto KcMXM; kiVuC: foreach ($diy_data as $k => $v) { goto Fjphp; ajk0J: foreach ($banner as $v1) { $v["\144\x61\164\x61"][] = array("\x69\x6d\x67\x75\x72\x6c" => $_W["\141\164\x74\141\143\x68\x75\x72\154"] . $v1["\x70\x69\x63\x74\x75\x72\x65"], "\151\155\x67\x73\162\143" => $_W["\141\164\164\x61\143\150\165\x72\154"] . $v1["\160\x69\143\x74\x75\162\145"], "\154\x69\x6e\x6b" => $v1["\154\x69\x6e\x6b"]); HZb2z: } goto L94dV; ZMyt9: cache_write("\x66\x79\137\154\145\163\x73\157\x6e\137" . $uniacid . "\x5f\x69\x6e\x64\x65\x78\137\x62\x61\156\156\x65\162", $banner); goto N7QN1; dnEyf: $article_params = array("\x3a\x75\156\151\141\143\151\x64" => $uniacid, "\72\x63\157\155\x6d\x65\156\x64" => 1, "\72\x69\163\163\150\157\167" => 1); goto QfEaX; Jnq1u: if (!($v["\x6e\141\x6d\145"] == "\x74\145\141\x63\x68\x65\162")) { goto KPjYh; } goto rPQN0; Wi6S7: $recommend_teacher = pdo_fetchall("\x53\x45\x4c\x45\103\124\40\x2a\x20\106\x52\x4f\115\40" . tablename($this->table_teacher) . "\40\127\x48\x45\x52\x45\x20\165\156\x69\141\x63\151\144\75\x3a\165\x6e\x69\141\x63\151\x64\40\x41\x4e\104\x20\163\x74\x61\x74\165\x73\75\x3a\x73\164\141\x74\x75\163\40\101\116\104\40\x69\x73\137\x72\145\x63\x6f\x6d\155\145\156\x64\x3d\72\151\x73\x5f\x72\x65\143\x6f\x6d\155\145\x6e\x64\x20\x4f\x52\104\x45\122\x20\x42\131\x20\x64\x69\x73\x70\154\141\x79\x6f\x72\144\x65\x72\x20\x44\105\123\103", array("\x3a\x75\156\151\141\x63\151\144" => $uniacid, "\x3a\x73\x74\141\x74\x75\x73" => 1, "\x3a\x69\x73\x5f\x72\x65\143\157\x6d\x6d\145\156\144" => 1)); goto jm2pZ; rPQN0: $recommend_teacher = cache_load("\146\171\x5f\x6c\145\x73\x73\157\156\x5f" . $uniacid . "\x5f\x72\145\143\157\x6d\155\145\x6e\144\137\x74\145\141\x63\x68\x65\162"); goto Q68Q1; mArpQ: $article_condition .= "\40\x41\116\104\x20\x69\163\x5f\166\151\x70\75\72\x69\163\x5f\x76\x69\x70"; goto jDC5l; fR2sD: aEcFK: goto ESfiO; iln7U: N3Wza: goto w99up; nCLPe: if (!$v["\x73\164\x79\154\x65"]["\141\x64\137\x73\x77\151\164\x63\x68"]) { goto Gq8Uh; } goto sBi1m; LO8FZ: kAdi5: goto iln7U; JwjQy: $v["\x74\160\x6c\137\156\x61\x6d\x65"] = random(10); goto nCLPe; QfEaX: if ($uid) { goto isYiV; } goto mArpQ; nllZq: $diy_data[$k] = $v; goto oVQ4a; NUC4p: foreach ($v["\144\x61\164\141"] as $k1 => $v1) { goto Ohaog; GHEv6: RvPmv: goto X1ISo; Ohaog: parse_str(@array_pop(explode("\77", $v1["\x6c\x69\x6e\153"])), $params); goto zwiAq; Owsfa: $v["\x64\141\x74\x61"][$k1] = $v1; goto GHEv6; zwiAq: $v1["\156\141\x76\137\x64\x6f"] = $params["\144\157"]; goto Up8Fx; Up8Fx: $v1["\x6e\x61\166\137\x6f\x70"] = $params["\157\x70"] ? $params["\157\x70"] : "\144\x69\x73\160\x6c\x61\171"; goto Owsfa; X1ISo: } goto ako6g; jDC5l: $article_params["\72\151\x73\137\166\x69\160"] = 0; goto yDM1n; pLc0e: if (!$v["\163\x74\x79\x6c\x65"]["\156\157\x74\x69\x63\145\137\x66\162\x6f\155"]) { goto Fcj2D; } goto J7yWb; It9CQ: if (!($v["\156\x61\155\x65"] == "\156\x6f\164\151\143\x65")) { goto WcSvS; } goto pLc0e; DSF9G: unset($v["\144\x61\x74\141"]); goto ajk0J; N7QN1: o9ux6: goto DSF9G; IGV40: Gq8Uh: goto orEBi; ESfiO: Fcj2D: goto nllZq; HeboJ: $diy_data[$k] = $v; goto McR1D; CNsgG: $diy_data["\x66\157\x6f\164\x6e\x61\166"] = $v; goto gzw_Y; krgMe: foreach ($articlelist as $v1) { $v["\x64\141\164\141"][] = array("\x74\x69\x74\154\145" => $v1["\x74\x69\x74\x6c\145"], "\x6c\151\x6e\x6b" => $this->redefineUrl($this->createMobileUrl("\141\x72\x74\x69\x63\x6c\x65", array("\x61\151\x64" => $v1["\x69\x64"]))), "\151\163\x5f\166\x69\160" => $v1["\151\163\x5f\x76\151\x70"]); uVzHJ: } goto fR2sD; xXV2V: foreach ($v["\144\x61\x74\x61"] as $k1 => $v1) { goto JZPqD; vtk2x: $v1["\143\x6f\x75\x6e\164"] = pdo_fetchcolumn("\x53\105\x4c\x45\x43\x54\x20\x43\117\125\116\x54\50\52\x29\40\x46\122\117\x4d\40" . tablename($this->table_lesson_son) . "\x20\127\x48\x45\122\105\40\160\141\162\145\x6e\x74\151\144\x3d\x3a\160\x61\x72\x65\x6e\164\x69\x64\x20\x41\116\104\40\x73\164\141\164\x75\x73\75\72\163\x74\x61\x74\x75\x73\40", array("\x3a\x70\x61\x72\145\156\164\151\144" => $v1["\151\x64"], "\72\x73\x74\x61\x74\165\163" => 1)); goto WUBX0; gMJJI: h1iTH: goto sr_Nh; VHFDh: unset($v1["\143\157\165\156\164"]); goto un7JV; EVqAQ: $v1["\x64\151\x73\143\157\x75\156\x74"] = $this->getLessonDiscount($v1["\x69\144"]); goto WJPbA; K3ZK8: if (!($v1["\x64\151\x73\143\157\x75\x6e\x74"] < 1 && !$v1["\x69\x63\157\137\x6e\141\x6d\x65"])) { goto M1crQ; } goto pdQSZ; lTZ9u: if (time() > $starttime && time() < $endtime) { goto q0kza; } goto dgng7; uBuqn: if (time() > $endtime) { goto oscTt; } goto lTZ9u; fDzA_: $v1["\x69\x63\157\156\137\154\x69\166\145\x5f\163\164\x61\x74\165\163"] = "\x69\x63\157\x6e\55\154\x69\166\145\x2d\163\164\x61\x72\164\151\x6e\x67"; goto r2FTN; sX8QD: $v1["\151\x63\157\156\x5f\154\151\x76\x65\137\163\x74\141\x74\165\163"] = "\x69\143\157\x6e\55\x6c\x69\166\x65\x2d\x65\156\x64\145\x64"; goto Za7z8; MyMjS: $v["\x64\141\x74\141"][$k1] = $v1; goto gMJJI; G7alp: M1crQ: goto qJlMW; Za7z8: goto OHq5g; goto ykHaX; f2d0k: yh8Vd: goto j_m12; JZPqD: $v1 = pdo_get($this->table_lesson_parent, array("\x75\x6e\x69\x61\143\x69\144" => $uniacid, "\x69\144" => $v1["\154\145\163\x73\x6f\x6e\x69\x64"])); goto vtk2x; CI38O: $live_info = json_decode($v1["\154\151\166\x65\x5f\x69\156\x66\157"], true); goto nQhMb; qJlMW: $v1["\163\145\x63\164\151\x6f\156"] = pdo_fetch("\x53\x45\114\x45\x43\x54\x20\x74\x69\x74\154\x65\x20\x46\122\x4f\x4d\x20" . tablename($this->table_lesson_son) . "\40\x57\x48\x45\x52\105\x20\x70\141\x72\x65\156\164\x69\144\75\72\160\141\x72\x65\156\x74\x69\x64\x20\117\x52\x44\x45\122\x20\102\131\x20\x69\144\40\x44\105\123\x43\x20\114\111\115\111\124\40\60\x2c\x31", array("\72\160\141\x72\145\x6e\164\x69\144" => $v1["\x69\144"])); goto CjfNB; Sj0Ih: $v1["\151\143\157\137\156\141\x6d\x65"] = "\x69\x63\x6f\x2d\x76\x69\x70"; goto fg_X5; WJPbA: $v1["\160\x72\x69\x63\145"] = round($v1["\x70\162\x69\143\x65"] * $v1["\x64\151\x73\x63\x6f\x75\x6e\x74"], 2); goto K3ZK8; ykHaX: q0kza: goto fDzA_; CjfNB: $v1["\x74\x65\141\x63\150\145\x72"] = pdo_get($this->table_teacher, array("\x69\144" => $v1["\x74\x65\141\143\x68\x65\162\151\144"]), array("\164\145\141\143\150\x65\x72")); goto kqFLh; xTJg9: $v1["\163\x74\x75\x64\171\x5f\x6e\165\155\142\145\x72"] = $v1["\142\165\x79\156\x75\155"] + $v1["\x76\x69\x72\164\x75\141\x6c\137\x62\x75\171\156\165\155"] + $v1["\x76\151\x70\137\x6e\165\x6d\x62\x65\162"] + $v1["\164\145\141\x63\150\x65\x72\137\156\x75\155\142\x65\162"] + $v1["\166\151\163\x69\164\137\156\x75\x6d\142\145\162"]; goto RNqk0; nQhMb: $starttime = strtotime($live_info["\163\164\141\x72\164\x74\151\x6d\145"]); goto ZYdXI; WUBX0: if (!($v1["\x69\x63\x6f\137\156\141\x6d\145"] == "\x69\x63\157\x2d\x76\151\160" && (!empty($v1["\166\151\160\166\x69\145\167"]) && $v1["\166\151\x70\x76\151\145\x77"] != "\x6e\165\x6c\x6c"))) { goto RQBcI; } goto Sj0Ih; ZYdXI: $endtime = strtotime($live_info["\145\156\x64\x74\151\x6d\x65"]); goto r4Ogn; r4Ogn: if (time() < $starttime) { goto yh8Vd; } goto uBuqn; dgng7: goto OHq5g; goto f2d0k; r2FTN: OHq5g: goto VHFDh; fg_X5: RQBcI: goto F2ejP; aZ_I3: oOuMm: goto E8Ra7; E8Ra7: $v1["\163\x74\165\x64\x79\x5f\156\165\x6d\x62\x65\162"] = $v1["\142\165\171\156\x75\x6d"] + $v1["\x76\151\162\164\165\141\x6c\x5f\142\x75\171\x6e\x75\x6d"] + $v1["\166\x69\160\x5f\156\165\155\142\x65\x72"] + $v1["\164\x65\x61\143\150\x65\x72\x5f\156\165\x6d\x62\145\162"]; goto yeTLH; pdQSZ: $v1["\151\143\157\137\156\141\x6d\x65"] = "\151\143\157\55\144\151\163\143\x6f\x75\x6e\164"; goto G7alp; kqFLh: if (!($v1["\154\145\163\163\157\x6e\137\164\x79\160\145"] == 3)) { goto fG73Y; } goto CI38O; RNqk0: goto u2a99; goto aZ_I3; yeTLH: u2a99: goto EVqAQ; QL65g: goto OHq5g; goto UIv2r; j_m12: $v1["\x69\x63\x6f\156\x5f\154\x69\x76\x65\x5f\163\x74\x61\164\165\163"] = "\x69\x63\157\156\x2d\154\151\x76\x65\x2d\156\157\163\164\141\162\x74"; goto QL65g; F2ejP: if ($v1["\160\162\151\x63\x65"] > 0) { goto oOuMm; } goto xTJg9; un7JV: fG73Y: goto MyMjS; UIv2r: oscTt: goto sX8QD; sr_Nh: } goto o3WUS; XIPM3: isYiV: goto JtJk6; dQwWM: $article_condition .= "\40\101\x4e\x44\40\x69\163\x5f\166\x69\160\x3d\x3a\151\163\137\x76\151\160"; goto cwm06; J7yWb: $article_condition = "\x20\165\x6e\x69\141\143\151\144\75\x3a\165\156\x69\x61\x63\x69\x64\x20\x41\x4e\104\x20\143\157\x6d\155\145\x6e\144\x3d\72\x63\157\x6d\x6d\x65\156\x64\40\x41\x4e\x44\40\x69\x73\163\x68\x6f\x77\x3d\72\x69\x73\163\150\157\x77\40"; goto dnEyf; aDs_s: if (!($v["\156\141\155\145"] == "\162\145\x63\x6c\145\x73\x73\157\x6e")) { goto PAZSd; } goto xXV2V; VAycs: rh2Pz: goto It9CQ; o3WUS: B9u2w: goto HeboJ; orEBi: $diy_data[$k] = $v; goto VAycs; C4eDY: KPjYh: goto aDs_s; cwm06: $article_params["\x3a\151\x73\x5f\166\151\x70"] = 0; goto LO8FZ; JtJk6: $member_vip = pdo_fetch("\x53\105\x4c\x45\x43\124\x20\x6c\x65\x76\145\154\x5f\151\x64\40\106\122\117\115\40" . tablename($this->table_member_vip) . "\40\127\x48\x45\122\105\x20\x75\156\151\141\x63\151\144\x3d\x3a\165\x6e\151\141\143\x69\144\x20\101\x4e\x44\x20\165\151\144\75\72\165\151\x64\40\x41\x4e\104\40\166\141\x6c\x69\x64\151\x74\x79\x3e\x3a\166\141\x6c\151\144\151\x74\171\40\x4c\111\x4d\x49\x54\40\61", array("\72\x75\x6e\151\141\x63\151\144" => $uniacid, "\72\x75\151\144" => $uid, "\72\x76\141\x6c\x69\x64\x69\164\x79" => time())); goto BD2x0; L94dV: xZSUT: goto IGV40; gzw_Y: unset($diy_data[$k]); goto hyYXc; geCtS: if (!empty($banner)) { goto o9ux6; } goto KENh5; Fjphp: if (!($v["\x6e\x61\155\x65"] == "\163\x77\x69\160\145\162")) { goto rh2Pz; } goto JwjQy; MlDvU: unset($v["\144\x61\x74\141"]); goto krgMe; hyYXc: viCkt: goto E6DtK; KENh5: $banner = pdo_fetchall("\123\x45\x4c\105\103\124\x20\52\x20\106\122\x4f\x4d\x20" . tablename($this->table_banner) . "\40\127\x48\105\122\x45\40\x75\156\151\141\143\151\x64\75\x3a\165\x6e\x69\141\143\x69\144\x20\101\116\104\x20\x69\x73\x5f\x73\150\x6f\x77\75\72\x69\163\x5f\163\x68\157\167\40\x41\116\104\x20\151\x73\x5f\160\143\x3d\72\x69\163\x5f\x70\x63\40\101\116\x44\x20\x62\141\156\x6e\x65\162\137\164\x79\x70\145\x3d\x3a\142\x61\x6e\156\x65\162\x5f\164\x79\x70\x65\40\117\122\x44\x45\122\40\102\131\40\144\151\163\160\x6c\141\171\157\162\144\x65\x72\x20\x44\105\123\x43", array("\72\x75\156\151\x61\x63\151\x64" => $uniacid, "\72\x69\163\x5f\x73\x68\x6f\167" => 1, "\x3a\151\163\137\x70\143" => 0, "\142\141\156\156\x65\x72\137\164\171\x70\x65" => 0)); goto ZMyt9; E6DtK: W31jY: goto SyMHk; FDZ3t: $diy_data[$k] = $v; goto C4eDY; w99up: $articlelist = pdo_fetchall("\x53\x45\114\105\x43\124\40\x69\144\x2c\x74\151\164\x6c\145\x2c\x69\x73\x5f\x76\151\x70\54\x61\x64\144\164\x69\x6d\x65\x20\x46\122\117\x4d\40" . tablename($this->table_article) . "\40\x57\x48\x45\x52\x45\x20{$article_condition}\40\x4f\122\x44\x45\122\40\102\x59\x20\144\x69\163\x70\x6c\141\171\x6f\x72\x64\145\x72\x20\104\105\x53\103\x2c\151\x64\40\104\x45\x53\x43", $article_params); goto MlDvU; yDM1n: goto N3Wza; goto XIPM3; sBi1m: $banner = cache_load("\x66\x79\137\x6c\145\x73\x73\157\156\x5f" . $uniacid . "\x5f\151\156\144\x65\x78\137\x62\141\156\x6e\145\x72"); goto geCtS; oVQ4a: WcSvS: goto Jnq1u; BD2x0: if (!empty($member_vip)) { goto kAdi5; } goto dQwWM; McR1D: PAZSd: goto ldNCb; jm2pZ: cache_write("\x66\x79\x5f\154\145\163\163\x6f\x6e\x5f" . $uniacid . "\x5f\162\145\143\157\155\155\x65\156\x64\x5f\164\x65\x61\143\x68\145\162", $recommend_teacher); goto Qh5o9; ldNCb: if (!($v["\x6e\x61\155\x65"] == "\146\157\157\164\156\141\166")) { goto viCkt; } goto NUC4p; Q68Q1: if (!empty($recommend_teacher)) { goto jFuXG; } goto Wi6S7; ako6g: YnL7G: goto CNsgG; rZu7z: $v["\144\141\x74\141"] = $recommend_teacher; goto FDZ3t; Qh5o9: jFuXG: goto rZu7z; SyMHk: } goto wcqk3; HMzG_: lELCP: goto wGQQc; wPiY5: if (!$id) { goto KC0cA; } goto hZBKv; fIJfD: goto ZepPC; goto S1i7N; KcMXM: if (!empty($diy_data)) { goto OKOrA; } goto UynaT; DUY7S: if (!empty($diy_data)) { goto wChZj; } goto nCbFe; UynaT: $diy_tpl = pdo_get($this->table_diy_template, array("\x75\156\151\141\143\151\144" => $uniacid, "\160\141\147\145\137\164\171\160\145" => $page_type, "\163\164\141\164\165\x73" => 1)); goto lrgyo; Wdozc: v_R1E: goto c3iEx; c3iEx: goto fmEGd; goto BnBRI; nNKZ7: $diy_data = cache_load("\x66\171\137\x6c\145\163\163\157\156\x5f" . $uniacid . "\x5f\144\151\x79\x5f\164\x65\x6d\x70\x6c\x61\164\x65\137" . $id); goto DUY7S; Ysnp2: fmEGd: goto kiVuC; IGqsj: return; goto HdRHw; hpfeR: Hr3nF: goto ZBsLN; nCbFe: $diy_tpl = pdo_get($this->table_diy_template, array("\x75\x6e\151\141\143\x69\x64" => $uniacid, "\x70\x61\x67\x65\x5f\x74\x79\160\x65" => $page_type, "\151\x64" => $id)); goto P2IP4; NtJKE: hkNWW: goto Ysnp2; SqNgg: OKOrA: goto MoNcD; oVbas: KZJ0s: goto MjXd4; ZBsLN: goto hkNWW; goto qDRBk; Q5X4i: return; goto hpfeR; Yn3yM: $uniacid = $_W["\165\156\x69\x61\143\x69\144"]; goto swb3K; S1i7N: KC0cA: goto lGVn8; qoOrs: global $_W; goto Yn3yM; wGQQc: if (!empty($diy_data)) { goto Hr3nF; } goto Q5X4i; lrgyo: if (empty($diy_tpl)) { goto d950t; } goto qigGE; iF0Y9: message("\351\xa1\265\xe9\x9d\242\344\xb8\x8d\345\xad\x98\345\234\250"); goto c_ROY; HdRHw: EBK36: goto IW3ju; T400y: DsNkj: goto lAh24; swb3K: if ($page_type == 1) { goto KZJ0s; } goto zUSex; P2IP4: if (!empty($diy_tpl)) { goto DsNkj; } goto iF0Y9; qDRBk: wChZj: goto x_0Pr; wyu0x: if (!empty($diy_data)) { goto EBK36; } goto IGqsj; MoNcD: return $diy_data; goto Wdozc; fWJia: return $diy_data; goto jpBL5; wcqk3: zQkZs: goto wPiY5; T1Syj: goto fmEGd; goto oVbas; BnBRI: ibcqI: goto nNKZ7; hZBKv: cache_write("\x66\171\x5f\x6c\x65\x73\x73\x6f\x6e\137" . $uniacid . "\x5f\x64\151\171\x5f\x74\x65\155\x70\154\x61\x74\x65\137" . $id, $diy_data); goto fIJfD; qigGE: $diy_data = json_decode($diy_tpl["\144\x61\x74\141"], true); goto vRtpK; rdN33: ZepPC: goto fWJia; lGVn8: cache_write("\x66\x79\137\x6c\145\x73\x73\157\156\137" . $uniacid . "\x5f\x64\x69\171\x5f\x74\x65\x6d\x70\154\x61\x74\x65", $diy_data); goto rdN33; IW3ju: goto v_R1E; goto SqNgg; jpBL5: } public function recommendLessonByFreeStudy($junior, $last_junior_id) { goto ZHH7N; Eoixx: $tplmessage = pdo_get($this->table_tplmessage, array("\165\x6e\x69\x61\x63\x69\x64" => $uniacid), array("\x72\x65\x63\157\155\155\145\x6e\144\x5f\152\x75\156\151\x6f\x72")); goto X5VAB; Ze3Yl: $sendmessage1 = array("\164\x6f\x75\x73\145\162" => $rec_member["\x6f\160\145\156\x69\144"], "\164\x65\155\160\x6c\141\164\145\x5f\x69\144" => $tplmessage["\162\145\x63\x6f\x6d\x6d\145\x6e\144\137\x6a\165\156\x69\x6f\x72"], "\x75\x72\x6c" => $url, "\164\x6f\160\143\x6f\154\157\162" => '', "\144\141\x74\141" => array("\x66\151\x72\x73\x74" => array("\166\141\x6c\x75\145" => $first, "\x63\157\x6c\157\162" => ''), "\x6b\145\x79\167\157\x72\x64\x31" => array("\166\141\154\x75\145" => $junior_member["\156\151\143\153\156\141\x6d\145"], "\x63\157\154\157\x72" => ''), "\153\x65\x79\167\157\162\144\x32" => array("\x76\141\154\x75\x65" => "\x75\x69\144\50{$junior["\152\x75\x6e\x69\x6f\x72\x5f\165\x69\x64"]}\51", "\143\x6f\x6c\157\x72" => ''), "\153\x65\x79\167\157\162\144\63" => array("\166\x61\154\x75\145" => date("\x59\xe5\271\xb4\x6d\346\x9c\x88\144\xe6\227\xa5", time()), "\143\157\154\x6f\162" => ''), "\x72\145\x6d\x61\x72\x6b" => array("\166\141\x6c\x75\145" => $remark, "\x63\157\154\x6f\x72" => "\346\x84\x9f\xe8\xb0\xa2\xe6\202\xa8\xe7\x9a\x84\346\x94\xaf\346\214\201\xe3\200\202"))); goto WynJ4; GzhBj: pdo_insert($this->table_order, $orderdata); goto sVlJY; rcBd3: if (empty($activity)) { goto heNHR; } goto BHzdn; bMFWE: goto lMROW; goto KH4HW; L31Ha: $lesson = pdo_get($this->table_lesson_parent, array("\165\x6e\151\141\x63\x69\144" => $_W["\165\x6e\x69\x61\143\x69\144"], "\x69\144" => $junior["\154\x65\x73\x73\x6f\156\x69\144"])); goto fq9vj; vMj91: $junior["\141\143\164\x69\x76\151\164\171\x5f\151\144"] = $activity_id; goto vFuA0; ZHH7N: global $_W; goto af50u; GfAbA: if (!(!empty($activity) && time() > $activity["\x61\x64\x64\x74\151\155\x65"] + $lesson["\x72\145\x63\x6f\x6d\x6d\x65\156\x64\x5f\146\x72\145\x65\137\x6c\x69\x6d\x69\164"] * 86400)) { goto hEWGQ; } goto Kwfbl; WJUpJ: if (!(!$lesson || !$lesson["\x72\x65\x63\157\x6d\x6d\x65\x6e\x64\137\146\162\x65\145\137\x6e\x75\x6d"] || $order)) { goto ViQ3m; } goto okc3x; bMAdE: $remain_num = $lesson["\x72\x65\143\157\x6d\155\x65\x6e\144\x5f\x66\x72\145\x65\x5f\x6e\x75\x6d"] - $already_num; goto ttKrC; T7twe: goto enSMI; goto pSMYd; A6Pve: if (empty($activity)) { goto E1Zws; } goto ORtNU; Kwfbl: pdo_update($this->table_recommend_activity, array("\163\x74\141\x74\165\x73" => -1), array("\x69\144" => $activity["\151\144"])); goto H3zKj; Sq9rn: $activity_id = pdo_insertid(); goto Rtw8A; WynJ4: $this->send_template_message($sendmessage1, $uniacid); goto Ys1p1; H3zKj: unset($activity); goto nqPPS; PQDEx: if ($already_num >= $lesson["\162\145\x63\x6f\155\155\145\156\x64\137\x66\x72\145\145\x5f\156\165\155"]) { goto sLbGl; } goto A6Pve; X5VAB: if ($tplmessage["\x72\x65\x63\x6f\x6d\x6d\x65\156\144\x5f\152\165\156\x69\157\x72"]) { goto W2xWj; } goto ffS6k; izy9j: $rec_member = pdo_get($this->table_fans, array("\x75\151\144" => $junior["\165\151\144"]), array("\157\x70\x65\x6e\x69\x64")); goto Eoixx; ffS6k: $custom = array("\155\163\x67\164\x79\160\145" => "\x74\145\170\164", "\x74\x65\x78\x74" => array("\x63\157\x6e\x74\x65\156\x74" => urlencode($first . "\134\156\x5c\x6e\xe6\230\265\xe7\xa7\xb0\xef\274\x9a" . $junior_member["\x6e\151\143\153\x6e\x61\155\145"] . "\134\156\344\274\x9a\345\221\230\x49\x44\357\274\232" . $junior["\152\x75\156\x69\x6f\162\137\165\x69\144"] . "\x5c\156\346\xb3\xa8\xe5\206\x8c\xe6\x97\xb6\xe9\227\xb4\xef\274\232" . date("\x59\xe5\271\264\155\xe6\x9c\210\144\346\x97\245", time()) . "\134\156\134\x6e\346\204\x9f\350\260\242\346\x82\250\347\x9a\x84\xe6\224\xaf\346\214\201\357\274\x8c\74\x61\x20\150\x72\x65\146\x3d\134\42" . $url . "\x5c\x22\x3e\xe7\x82\271\xe5\x87\xbb\346\255\xa4\xe5\244\204\xe5\x8f\xaf\346\x9f\245\347\x9c\213\xe8\257\246\xe6\203\x85\x3c\57\141\76")), "\x74\x6f\165\163\x65\162" => $rec_member["\x6f\160\145\x6e\x69\144"]); goto JAPaV; R7mA5: $activity = pdo_get($this->table_recommend_activity, array("\x75\151\144" => $junior["\165\x69\144"], "\x6c\145\x73\163\x6f\156\151\x64" => $junior["\154\x65\x73\x73\157\x6e\x69\144"], "\163\164\141\164\x75\163" => 0)); goto GfAbA; VHn8g: E1Zws: goto bMAdE; mbcEn: $first = "\xe6\202\250\xe5\267\262\xe9\200\x9a\xe8\277\x87\343\x80\x8a{$lesson["\x62\x6f\x6f\153\x6e\141\155\145"]}\343\200\213\350\xaf\276\xe7\xa8\x8b\xe6\xb5\xb7\xe6\x8a\245\xe6\210\226\xe9\223\276\346\x8e\245\351\202\200\350\xaf\xb7{$already_num}\344\275\215\346\226\xb0\xe5\245\275\xe5\x8f\213\357\xbc\x8c\346\210\220\xe5\x8a\237\xe5\xae\214\xe6\210\x90\344\xbb\xbb\xe5\212\241\350\216\xb7\xe5\xbe\227\345\x85\x8d\xe8\xb4\xb9\345\255\246\xe4\xb9\240\xe8\257\245\xe8\xaf\xbe\347\250\x8b\xe7\x9a\x84\345\245\226\345\x8a\261\357\xbc\x8c\xe5\x85\x8d\xe8\xb4\xb9\345\255\246\344\xb9\240\xe6\234\237\351\231\x90{$lesson["\162\145\x63\157\x6d\x6d\x65\156\144\137\146\x72\x65\x65\137\x64\x61\x79"]}\xe5\xa4\xa9\343\x80\x82"; goto oVuHy; bDP92: $already_num = pdo_fetchcolumn("\123\105\114\x45\103\124\x20\103\x4f\125\x4e\124\x28\x2a\x29\x20\x46\x52\117\115\x20" . tablename($this->table_recommend_junior) . "\40\x57\x48\105\x52\105\40\x61\143\x74\x69\166\x69\x74\171\x5f\151\x64\x3d\72\141\x63\164\151\166\x69\x74\171\x5f\x69\x64\x20\101\x4e\x44\40\x75\151\x64\x3d\72\165\151\144\x20\101\116\x44\40\154\x65\163\x73\157\x6e\x69\144\x3d\x3a\x6c\145\x73\x73\x6f\156\x69\x64", array("\72\x61\x63\x74\151\166\151\x74\x79\137\151\x64" => $activity_id, "\72\x75\x69\144" => $junior["\x75\x69\x64"], "\72\154\145\163\163\157\156\x69\x64" => $junior["\154\145\163\x73\157\156\151\x64"])); goto PQDEx; oVuHy: enSMI: goto elekq; okc3x: return; goto flJVY; pdUsl: pdo_insert($this->table_recommend_activity, $activity_data); goto Sq9rn; CIl2u: $junior_member = pdo_get($this->table_fans, array("\x75\x69\x64" => $junior["\152\x75\156\x69\x6f\162\137\x75\151\x64"]), array("\156\151\x63\x6b\x6e\141\155\x65", "\157\x70\145\x6e\151\144")); goto izy9j; BHzdn: pdo_update($this->table_recommend_activity, array("\151\156\166\x69\164\145\x5f\x6e\x75\x6d\x62\x65\162\x20\53\75" => 1, "\x73\164\x61\x74\x75\x73" => 1, "\165\160\x64\141\x74\145\137\164\151\x6d\x65" => time()), array("\151\x64" => $activity["\151\x64"])); goto LvfjM; fq9vj: $order = pdo_get($this->table_order, array("\x75\x69\144" => $junior["\x75\x69\144"], "\154\145\x73\163\157\156\x69\144" => $junior["\x6c\145\163\x73\157\156\151\144"], "\x70\x61\171\164\x79\x70\x65" => "\x72\x65\143\147\x69\x76\145", "\x69\x73\x5f\144\145\x6c\x65\x74\x65" => 0)); goto WJUpJ; pSMYd: sLbGl: goto iDdop; Ys1p1: ns4Dw: goto nIrhn; flJVY: ViQ3m: goto R7mA5; gJuzO: $activity_data = array("\x75\156\x69\141\x63\151\x64" => $uniacid, "\165\151\x64" => $junior["\x75\151\144"], "\x6c\145\163\x73\x6f\156\x69\144" => $junior["\154\x65\x73\163\157\x6e\x69\x64"], "\x62\x6f\x6f\153\x6e\x61\x6d\145" => $lesson["\142\157\157\x6b\156\x61\x6d\145"], "\x69\155\141\147\145\163" => $lesson["\x69\x6d\x61\147\x65\163"], "\151\x6e\x76\x69\x74\145\x5f\x6e\165\x6d\x62\x65\x72" => 1, "\141\x64\144\164\151\x6d\x65" => time()); goto pdUsl; LvfjM: heNHR: goto mbcEn; X0Lh7: if (empty($activity)) { goto k1UcL; } goto FBjsn; ttKrC: $first = "\xe6\202\250\346\210\x90\345\212\237\351\200\232\350\xbf\x87\343\200\212{$lesson["\142\157\157\153\156\x61\x6d\x65"]}\xe3\x80\213\350\xaf\276\xe7\250\213\xe6\xb5\xb7\xe6\212\245\346\210\x96\xe9\223\276\xe6\216\xa5\351\x82\200\350\257\267\61\xe4\275\215\xe6\x96\260\xe5\xa5\xbd\345\x8f\x8b\357\274\x8c\345\x86\x8d\xe9\202\x80\350\257\xb7{$remain_num}\xe4\275\215\xe6\226\xb0\xe5\245\275\xe5\217\213\357\274\x8c\xe5\215\263\xe5\217\xaf\xe8\x8e\xb7\345\xbe\227\345\x85\215\xe8\264\271\xe5\xad\246\344\xb9\xa0\350\xaf\245\xe8\257\276\xe7\xa8\x8b\347\x9a\x84\345\245\x96\xe5\212\xb1\343\x80\x82"; goto T7twe; nqPPS: hEWGQ: goto X0Lh7; ORtNU: pdo_update($this->table_recommend_activity, array("\x69\156\x76\151\164\x65\137\156\165\155\x62\x65\x72\40\53\x3d" => 1, "\x75\x70\x64\x61\164\x65\x5f\164\151\155\145" => time()), array("\x69\x64" => $activity["\151\144"])); goto VHn8g; af50u: $uniacid = $_W["\x75\156\151\141\x63\x69\x64"]; goto L31Ha; vFuA0: pdo_insert($this->table_recommend_junior, $junior); goto bDP92; iDdop: $orderdata = array("\x61\x63\151\x64" => $_W["\x61\143\143\x6f\165\156\164"]["\141\x63\x69\144"], "\165\156\151\x61\143\151\144" => $uniacid, "\157\x72\144\145\x72\x73\156" => "\114" . date("\131\x6d\x64") . substr(time(), -5) . substr(microtime(), 2, 5) . sprintf("\45\x30\62\144", rand(1000, 9999)), "\x75\151\x64" => $junior["\165\x69\x64"], "\154\145\163\163\x6f\x6e\137\164\x79\x70\x65" => $lesson["\154\145\163\x73\157\x6e\x5f\x74\171\x70\145"], "\154\145\163\x73\x6f\x6e\151\x64" => $junior["\x6c\x65\163\x73\157\x6e\x69\144"], "\142\x6f\x6f\x6b\x6e\141\155\x65" => $lesson["\142\157\x6f\153\156\x61\x6d\145"], "\155\x61\162\153\145\x74\x70\162\151\143\x65" => 0, "\x70\x72\x69\143\145" => 0, "\x73\x70\145\143\x5f\x64\141\x79" => $lesson["\162\145\143\157\155\155\x65\156\144\x5f\146\x72\145\145\x5f\144\x61\171"], "\x74\145\x61\x63\x68\x65\162\151\x64" => $lesson["\x74\145\141\143\x68\145\x72\151\144"], "\x73\164\x61\x74\x75\163" => 1, "\x70\141\x79\164\171\160\145" => "\x72\145\x63\147\x69\166\x65", "\160\141\x79\164\x69\x6d\x65" => time(), "\166\x61\154\x69\x64\x69\x74\x79" => time() + $lesson["\x72\145\143\157\155\155\145\156\x64\137\x66\162\x65\x65\x5f\144\x61\x79"] * 86400, "\x61\x64\144\164\x69\x6d\x65" => time()); goto GzhBj; JAPaV: $account_api = WeAccount::create(); goto HH_2z; elekq: $url = $_W["\x73\x69\164\145\162\157\x6f\x74"] . "\141\160\160\x2f" . $this->redefineUrl($this->createMobileUrl("\162\x65\143\154\145\x73\163\157\x6e", array("\157\x70" => "\x64\x65\x74\x61\x69\x6c\x73", "\141\143\x74\151\166\151\164\171\x5f\x69\144" => $activity_id))); goto CIl2u; Rtw8A: lMROW: goto vMj91; BW3n0: goto ns4Dw; goto N4ZrK; FBjsn: $activity_id = $activity["\151\x64"]; goto bMFWE; N4ZrK: W2xWj: goto Ze3Yl; KH4HW: k1UcL: goto gJuzO; sVlJY: pdo_update($this->table_lesson_parent, array("\x62\x75\x79\156\x75\x6d\40\53\x3d" => 1), array("\x69\x64" => $junior["\154\x65\163\x73\x6f\x6e\151\x64"])); goto rcBd3; HH_2z: $account_api->sendCustomNotice($custom); goto BW3n0; nIrhn: } public function sendCouponByNewMember($member, $recmember, $setting) { goto QwEyx; HtNOe: BNR72: goto L7jay; HQ5dK: $t = $coupon_amount = 0; goto eIMcd; zOKMF: $account_api = WeAccount::create(); goto LgjFW; mD2TA: WOhOG: goto HtNOe; IXsKU: goto bRXc1; goto QXH5r; dT1ol: $account_api = WeAccount::create(); goto ueF7N; WBXg_: $recFans = pdo_fetch("\x53\x45\x4c\105\103\124\40\157\x70\145\156\x69\x64\x2c\156\x69\143\153\156\x61\155\145\x20\x46\x52\x4f\115\40" . tablename($this->table_fans) . "\40\127\110\x45\122\x45\40\x75\x69\144\75\72\165\x69\x64", array("\x3a\165\151\x64" => $recmember["\165\x69\x64"])); goto odw_l; u_Nyt: $regGive = json_decode($market["\x72\x65\x67\x5f\x67\151\x76\145"], true); goto eyXWf; lCbaP: $receive_coupon_format = json_decode($tplmessage["\x72\145\143\x65\151\x76\145\137\x63\x6f\165\x70\157\x6e\137\x66\x6f\162\155\x61\164"], true); goto u_Nyt; bfsez: bRXc1: goto ine2G; BokKo: $t = $coupon_amount = 0; goto Vzzo6; qN3XH: if (!($recTotal >= $market["\162\x65\143\157\x6d\x6d\x65\156\x64\137\164\x69\x6d\x65"])) { goto TLM7R; } goto PI2hx; O89SQ: if (!$t) { goto lSLg5; } goto WBXg_; FnEvv: if (!$t) { goto H5piJ; } goto Wl2zI; PI2hx: return; goto fUfNV; voqTh: goto U3qZJ; goto vJrvf; Xngw0: if (!$market["\162\x65\x63\157\x6d\x6d\x65\156\x64\137\164\x69\x6d\145"]) { goto eEUcd; } goto nfj0g; D4zQF: BYzry: goto FnEvv; rV2lp: LR14K: goto l9iAA; eIMcd: foreach ($regGive as $item) { goto pVQRX; sTwQ3: goto uCdwT; goto BKi_G; UQ26D: if (!empty($coupon)) { goto wZjW5; } goto sTwQ3; tYiM_: E_rTX: goto wjpnQ; pVQRX: $coupon = pdo_fetch("\x53\105\114\x45\x43\124\x20\52\x20\106\122\117\x4d\x20" . tablename($this->table_mcoupon) . "\x20\127\x48\105\x52\x45\x20\151\144\75\x3a\x69\x64", array("\72\x69\x64" => $item)); goto UQ26D; wjpnQ: uCdwT: goto wS4M_; BKi_G: wZjW5: goto a4C7a; KIsfq: if (!pdo_insert($this->table_member_coupon, $regCoupon)) { goto E_rTX; } goto FAGC4; FAGC4: $t++; goto U44fY; U44fY: $coupon_amount += $coupon["\x61\x6d\157\x75\156\x74"]; goto tYiM_; a4C7a: $regCoupon = array("\x75\156\151\x61\x63\151\144" => $uniacid, "\165\x69\x64" => $member["\165\151\144"], "\x61\x6d\x6f\x75\x6e\x74" => $coupon["\x61\x6d\x6f\x75\x6e\164"], "\143\157\x6e\144\x69\x74\151\x6f\x6e\163" => $coupon["\143\157\156\x64\151\x74\x69\x6f\x6e\x73"], "\x76\141\x6c\x69\x64\151\164\171" => $coupon["\166\x61\154\151\x64\151\164\171\x5f\164\171\160\x65"] == 1 ? $coupon["\x64\x61\x79\163\61"] : time() + $coupon["\144\x61\x79\x73\62"] * 86400, "\x75\163\145\137\164\x79\x70\145" => $coupon["\165\x73\145\x5f\164\x79\x70\145"], "\143\141\164\145\x67\x6f\x72\171\137\151\144" => $coupon["\x63\x61\x74\x65\147\x6f\162\x79\137\151\144"], "\x6c\145\x73\163\157\x6e\137\151\144\163" => $coupon["\154\145\x73\163\x6f\156\137\151\x64\x73"], "\x73\x74\x61\x74\x75\x73" => 0, "\x73\x6f\x75\162\x63\x65" => 6, "\143\157\x75\160\x6f\156\137\151\x64" => $coupon["\151\x64"], "\141\144\x64\x74\x69\x6d\x65" => time()); goto KIsfq; wS4M_: } goto D4zQF; fFvV3: $tplmessage = pdo_fetch("\123\x45\114\x45\x43\x54\40\162\145\x63\145\151\166\x65\137\x63\x6f\165\160\x6f\156\54\x72\x65\x63\145\151\166\145\x5f\x63\157\x75\x70\157\x6e\x5f\x66\x6f\162\155\141\x74\x20\x46\x52\x4f\x4d\40" . tablename($this->table_tplmessage) . "\x20\x57\110\105\122\105\40\165\156\x69\141\x63\151\144\x3d\72\x75\156\x69\141\x63\151\144", array("\x3a\165\x6e\x69\141\143\151\144" => $uniacid)); goto lCbaP; Us8W_: $custom = array("\x6d\x73\x67\164\x79\x70\x65" => "\164\x65\x78\x74", "\164\x65\170\164" => array("\143\157\156\164\x65\x6e\164" => urlencode($newFans["\x6e\151\143\153\156\141\x6d\x65"] . "\xef\274\214\xe7\273\210\xe4\272\x8e\xe7\255\x89\xe5\210\260\xe6\x82\xa8\344\xba\x86\343\x80\x82\347\xb3\273\xe7\273\237\xe8\265\240\346\x82\xa8" . $t . "\345\xbc\240\xe6\x96\xb0\344\274\232\345\x91\230\344\xb8\x93\xe4\xba\253\344\xbc\x98\346\203\240\xe5\210\270\xe5\xb7\xb2\xe5\217\221\346\x94\xbe\345\x88\xb0\xe6\202\250\xe7\232\x84\xe5\xb8\x90\345\x8f\xb7\xef\xbc\x8c\xe8\xaf\267\346\x82\250\346\x9f\xa5\xe6\x94\xb6\343\x80\202\x5c\x6e\134\156\xe8\xb4\246\xe6\210\267\xe5\220\215\357\274\x9a" . $newFans["\x6e\151\143\x6b\x6e\141\x6d\x65"] . "\134\156\xe6\x95\xb0\xe9\x87\x8f\357\xbc\232" . $t . "\xe5\274\240\x5c\x6e\xe6\227\xb6\351\227\xb4\357\xbc\x9a" . date("\x59\xe5\xb9\264\x6d\xe6\234\210\x64\xe6\x97\245", time()) . "\x5c\156\x5c\x6e" . $receive_coupon_format["\162\x65\x6d\141\162\x6b"] . "\74\141\x20\x68\x72\145\x66\x3d\x5c\x22" . $url . "\x5c\42\x3e\xe7\202\271\xe5\x87\xbb\xe6\255\244\xe5\xa4\204\xe5\x8f\257\346\237\xa5\xe7\x9c\x8b\350\xaf\xa6\xe6\203\x85\x3c\x2f\x61\76")), "\x74\x6f\x75\x73\x65\162" => $newFans["\x6f\x70\x65\156\x69\x64"]); goto dT1ol; auJWU: $custom = array("\x6d\163\147\164\171\160\x65" => "\x74\145\170\x74", "\x74\x65\x78\x74" => array("\x63\x6f\x6e\x74\x65\x6e\x74" => urlencode("\xe6\x81\xad\xe5\x96\234\xe6\202\xa8\346\210\x90\345\212\x9f\xe6\x8e\xa8\xe8\215\220\xe4\270\213\xe7\272\xa7\346\x88\220\xe5\221\230\357\xbc\214\xe7\xb3\273\xe7\273\237\xe8\265\xa0\346\202\xa8" . $t . "\345\xbc\240\xe4\274\x98\xe6\x83\240\xe5\210\xb8\345\xb7\262\345\x8f\x91\346\224\276\345\210\260\346\202\xa8\347\x9a\204\xe5\xb8\x90\xe5\217\267\xef\274\x8c\xe8\257\267\xe6\263\250\346\x84\217\xe6\237\245\346\x94\266\343\x80\x82\134\x6e\134\x6e\350\xb4\xa6\346\x88\267\xe5\x90\x8d\357\xbc\x9a" . $recFans["\x6e\151\x63\x6b\x6e\141\x6d\145"] . "\x5c\x6e\xe6\x95\xb0\xe9\207\x8f\357\274\x9a" . $t . "\xe5\xbc\xa0\x5c\x6e\xe6\x97\266\xe9\x97\xb4\357\274\x9a" . date("\131\345\xb9\264\155\346\234\210\x64\xe6\x97\245", time()) . "\x5c\x6e\x5c\156" . $receive_coupon_format["\x72\x65\155\141\162\153"] . "\x3c\141\40\150\x72\145\x66\x3d\x5c\x22" . $url . "\134\x22\x3e\xe7\202\xb9\xe5\x87\273\346\255\244\345\xa4\x84\xe5\217\257\346\x9f\245\347\234\x8b\350\xaf\xa6\346\203\x85\74\57\x61\x3e")), "\164\157\x75\163\145\162" => $recFans["\157\160\x65\156\151\x64"]); goto zOKMF; QXH5r: vMSXP: goto aqFv8; Q33z2: if (empty($regGive)) { goto BNR72; } goto ttDeV; S4uPj: U3qZJ: goto mirvN; QwEyx: global $_W; goto kClnM; wVcai: if ($tplmessage["\162\x65\143\145\151\166\x65\x5f\143\x6f\x75\x70\157\x6e"]) { goto RoPPm; } goto Us8W_; GwsL5: $this->send_template_message($sendmessage1, $uniacid); goto S4uPj; wS2A1: OCYg_: goto O89SQ; ine2G: lSLg5: goto rV2lp; eyXWf: $recommend = json_decode($market["\162\x65\143\157\x6d\155\145\x6e\144"], true); goto kCpRn; FTDvu: $this->send_template_message($sendmessage2, $uniacid); goto bfsez; vJrvf: RoPPm: goto IIccl; kCpRn: $remark = $receive_coupon_format["\x72\145\x6d\x61\162\153"] ? $receive_coupon_format["\x72\145\x6d\x61\x72\153"] : "\347\x82\271\xe5\x87\273\xe8\257\246\346\x83\x85\xe5\x8f\257\xe6\x9f\xa5\xe7\234\213\xe6\x82\xa8\347\x9a\204\xe5\270\x90\xe5\217\xb7\344\xbc\x98\xe6\203\240\345\210\270\350\257\246\346\x83\205\345\x93\xa6\176"; goto NeQq7; ttDeV: $regTotal = pdo_fetchcolumn("\x53\105\114\x45\103\x54\40\x43\117\125\x4e\x54\x28\x2a\x29\x20\x46\x52\x4f\115\40" . tablename($this->table_member_coupon) . "\x20\127\x48\105\122\105\40\x75\x69\x64\x3d\72\x75\x69\x64\40\x41\116\104\40\163\x6f\165\x72\143\x65\75\72\x73\157\165\162\143\x65", array("\x3a\x75\x69\144" => $member["\x75\x69\144"], "\x73\x6f\x75\162\143\x65" => 6)); goto W6wE3; ueF7N: $account_api->sendCustomNotice($custom); goto voqTh; pOckS: eEUcd: goto BokKo; odw_l: if ($tplmessage["\x72\x65\x63\145\151\x76\145\137\x63\157\165\160\157\x6e"]) { goto vMSXP; } goto auJWU; nfj0g: $recTotal = pdo_fetchcolumn("\x53\105\114\x45\103\x54\x20\103\x4f\x55\116\x54\50\52\51\x20\106\x52\x4f\115\x20" . tablename($this->table_member_coupon) . "\40\127\x48\105\x52\x45\x20\165\x69\144\75\x3a\165\x69\x64\40\x41\116\104\x20\x73\157\165\x72\x63\145\75\72\163\x6f\x75\x72\143\145", array("\x3a\x75\151\x64" => $recmember["\x75\151\144"], "\x73\x6f\165\x72\143\x65" => 3)); goto qN3XH; NeQq7: $url = $_W["\x73\x69\164\145\x72\x6f\x6f\x74"] . "\x61\160\160\x2f" . $this->redefineUrl($this->createMobileUrl("\143\x6f\165\160\x6f\x6e")); goto Q33z2; L7jay: if (!(!empty($recommend) && !empty($recmember))) { goto LR14K; } goto Xngw0; IIccl: $sendmessage1 = array("\164\x6f\x75\163\145\162" => $newFans["\x6f\160\145\x6e\x69\x64"], "\164\x65\155\x70\154\x61\164\145\x5f\151\144" => $tplmessage["\162\145\143\x65\x69\166\145\x5f\143\157\x75\x70\157\x6e"], "\x75\x72\154" => $url, "\x74\157\x70\x63\x6f\x6c\x6f\162" => "\x23\x37\x42\66\x38\105\x45", "\x64\141\164\141" => array("\146\x69\x72\x73\x74" => array("\166\x61\154\x75\x65" => $newFans["\156\151\143\153\156\x61\x6d\145"] . "\xef\274\214\347\xbb\x88\344\272\x8e\xe7\255\x89\xe5\x88\xb0\346\x82\xa8\xe4\xba\x86\343\x80\x82\347\xb3\273\xe7\xbb\x9f\xe8\xb5\240\xe6\x82\250{$t}\345\xbc\240\346\x96\xb0\344\xbc\232\345\221\x98\344\270\223\xe4\272\253\xe4\xbc\230\346\203\240\xe5\210\270\345\267\262\xe5\217\x91\xe6\224\xbe\345\x88\xb0\346\x82\250\xe7\x9a\x84\345\270\220\xe5\217\xb7\xef\274\x8c\350\257\xb7\xe6\x82\250\346\x9f\xa5\346\x94\266\343\200\202", "\143\x6f\x6c\x6f\162" => "\43\62\63\x39\x32\x45\101"), "\153\145\171\x77\x6f\162\144\61" => array("\166\141\x6c\165\x65" => "\344\273\267\xe5\x80\xbc" . $coupon_amount . "\345\x85\x83\347\x9a\204\xe4\xbc\230\346\203\xa0\345\210\xb8" . $t . "\x20\345\xbc\xa0", "\143\x6f\154\x6f\162" => ''), "\x6b\x65\x79\x77\157\x72\144\62" => array("\x76\x61\154\x75\145" => date("\131\345\271\264\155\346\234\x88\x64\346\x97\245", time()), "\143\157\154\157\x72" => ''), "\x72\x65\155\x61\162\x6b" => array("\166\x61\x6c\165\145" => $remark, "\x63\157\x6c\157\162" => ''))); goto GwsL5; mirvN: H5piJ: goto mD2TA; OJkqg: $market = pdo_fetch("\123\105\114\x45\103\124\40\x2a\40\106\122\117\115\x20" . tablename($this->table_market) . "\40\x57\x48\x45\122\105\x20\x75\156\x69\141\x63\x69\144\x3d\72\x75\156\151\x61\x63\x69\144", array("\72\165\x6e\x69\x61\143\151\144" => $uniacid)); goto fFvV3; kClnM: $uniacid = $_W["\165\x6e\151\x61\143\x69\x64"]; goto OJkqg; W6wE3: if (!(!$regTotal && $member)) { goto WOhOG; } goto HQ5dK; Wl2zI: $newFans = pdo_fetch("\x53\x45\x4c\105\103\124\x20\157\160\145\x6e\x69\x64\54\156\x69\143\x6b\156\141\x6d\x65\40\106\122\117\115\40" . tablename($this->table_fans) . "\x20\x57\110\x45\122\x45\x20\x75\x69\x64\x3d\x3a\x75\x69\x64", array("\x3a\x75\x69\x64" => $member["\165\x69\144"])); goto wVcai; LgjFW: $account_api->sendCustomNotice($custom); goto IXsKU; Vzzo6: foreach ($recommend as $item) { goto AiZ12; YiBTO: $t++; goto zHNy1; GW8x9: EJEhn: goto zwH_g; RFjhK: if (!pdo_insert($this->table_member_coupon, $recCoupon)) { goto TSpJO; } goto YiBTO; M3A5T: if (!empty($coupon)) { goto w3wWt; } goto z5BGj; AHGnr: w3wWt: goto ncOsX; z5BGj: goto EJEhn; goto AHGnr; h8h5p: TSpJO: goto GW8x9; ncOsX: $recCoupon = array("\x75\156\151\141\143\151\x64" => $uniacid, "\165\x69\144" => $recmember["\165\151\x64"], "\x61\155\x6f\165\x6e\164" => $coupon["\x61\x6d\157\x75\x6e\x74"], "\143\x6f\156\x64\151\164\151\x6f\x6e\x73" => $coupon["\143\x6f\156\144\x69\x74\x69\x6f\x6e\x73"], "\x76\x61\154\x69\x64\x69\164\171" => $coupon["\166\141\x6c\x69\x64\x69\164\171\x5f\x74\171\x70\x65"] == 1 ? $coupon["\x64\141\171\x73\61"] : time() + $coupon["\x64\x61\x79\163\x32"] * 86400, "\x75\163\x65\137\164\171\160\145" => $coupon["\165\163\x65\x5f\164\x79\x70\145"], "\143\141\x74\145\x67\157\162\171\137\x69\144" => $coupon["\143\141\164\x65\x67\157\x72\171\x5f\151\144"], "\x6c\x65\x73\x73\x6f\x6e\x5f\x69\144\x73" => $coupon["\154\145\x73\163\157\156\137\151\x64\x73"], "\163\x74\141\164\x75\x73" => 0, "\x73\157\x75\x72\x63\x65" => 3, "\143\x6f\x75\160\x6f\x6e\x5f\151\x64" => $coupon["\x69\144"], "\141\144\x64\164\151\x6d\x65" => time()); goto RFjhK; zHNy1: $coupon_amount += $coupon["\141\155\157\x75\x6e\x74"]; goto h8h5p; AiZ12: $coupon = pdo_fetch("\x53\x45\x4c\x45\103\x54\x20\x2a\40\106\122\x4f\115\40" . tablename($this->table_mcoupon) . "\40\x57\110\x45\x52\105\40\151\x64\75\72\151\x64", array("\x3a\x69\x64" => $item)); goto M3A5T; zwH_g: } goto wS2A1; fUfNV: TLM7R: goto pOckS; aqFv8: $sendmessage2 = array("\x74\x6f\165\x73\x65\162" => $recFans["\157\x70\x65\x6e\x69\x64"], "\164\145\x6d\160\154\141\x74\145\x5f\151\x64" => $tplmessage["\x72\x65\x63\145\151\x76\145\x5f\143\157\x75\x70\x6f\x6e"], "\x75\162\x6c" => $url, "\x74\x6f\160\x63\x6f\x6c\x6f\x72" => "\x23\67\x42\x36\70\105\105", "\144\141\x74\141" => array("\146\151\162\163\164" => array("\166\141\154\x75\145" => "\xe6\201\xad\345\226\x9c\xe6\202\xa8\346\210\x90\345\212\237\346\x8e\xa8\xe8\215\x90\xe4\270\213\347\xba\247\346\x88\x90\345\221\230\357\xbc\214\xe7\xb3\xbb\xe7\273\x9f\350\xb5\xa0\346\x82\250{$t}\345\274\240\344\xbc\x98\346\x83\240\345\210\270\345\267\262\xe5\217\221\346\x94\xbe\xe5\x88\xb0\xe6\x82\xa8\347\232\x84\xe5\xb8\220\345\x8f\267\357\274\214\xe8\257\267\xe6\xb3\250\346\x84\x8f\346\237\245\xe6\x94\xb6\xe3\x80\202", "\x63\x6f\x6c\x6f\x72" => "\43\x32\63\x39\62\105\101"), "\x6b\145\x79\x77\x6f\162\x64\61" => array("\x76\141\x6c\x75\145" => "\344\xbb\xb7\xe5\x80\xbc" . $coupon_amount . "\xe5\x85\203\347\232\204\344\xbc\x98\346\x83\240\345\210\270" . $t . "\x20\345\xbc\240", "\143\x6f\x6c\x6f\162" => ''), "\x6b\x65\x79\167\x6f\162\144\x32" => array("\x76\x61\154\x75\x65" => date("\x59\345\xb9\xb4\155\xe6\234\210\144\xe6\227\xa5", time()), "\x63\x6f\154\157\162" => ''), "\x72\x65\155\141\162\153" => array("\x76\141\x6c\x75\145" => $remark, "\143\157\154\x6f\x72" => ''))); goto FTDvu; l9iAA: } public function setMemberParentId($member, $recmember, $setting, $comsetting, $source_id) { goto RiKfa; v09th: $this->sendNoticeToMember3($member, $recmember3, $setting, $comsetting); goto dQ1j0; x0wsW: if (!($comsetting["\151\163\x5f\x73\141\154\x65"] == 1 && $recid > 0)) { goto FLhYL; } goto macgI; RiKfa: $recid = $recmember["\163\164\141\164\165\x73"] == 1 ? $recmember["\x75\151\x64"] : 0; goto x0wsW; tb3B6: up_eL: goto J_Aqb; fH3vU: FLhYL: goto LKBld; nWnHc: $this->sendNoticeToMember2($member, $recmember2, $setting, $comsetting); goto tb3B6; J_Aqb: $recmember3 = pdo_fetch("\123\x45\x4c\105\103\x54\x20\x2a\x20\x46\x52\x4f\x4d\40" . tablename($this->table_member) . "\x20\x57\x48\105\122\105\x20\165\x69\144\75\x3a\x75\x69\144", array("\x3a\165\151\x64" => $recmember2["\160\x61\162\145\x6e\x74\151\144"])); goto P31cH; LASWv: if (!($comsetting["\x69\x73\x5f\x73\141\x6c\x65"] == 1 && $recmember2["\165\151\x64"] > 0)) { goto up_eL; } goto nWnHc; macgI: $this->sendNoticeToMember1($member, $recmember, $setting, $source_id, $comsetting); goto fH3vU; LKBld: $recmember2 = pdo_fetch("\x53\x45\x4c\105\x43\124\x20\52\x20\x46\x52\x4f\115\x20" . tablename($this->table_member) . "\40\127\110\105\122\x45\40\165\x69\144\x3d\72\165\151\144", array("\x3a\x75\x69\x64" => $recmember["\160\141\x72\x65\156\x74\x69\x64"])); goto LASWv; dQ1j0: QmFmu: goto ufNj3; P31cH: if (!($comsetting["\x69\163\137\x73\x61\154\x65"] == 1 && $recmember3["\165\151\144"] > 0)) { goto QmFmu; } goto v09th; ufNj3: } public function sendNoticeToMember1($member, $recmember, $setting, $source_id, $comsetting) { goto Q6MG7; T6XiZ: $member_vip = pdo_fetchall("\123\105\114\x45\x43\x54\x20\x2a\x20\x46\x52\117\115\x20" . tablename($this->table_member_vip) . "\40\x57\110\x45\122\x45\40\165\x69\144\75\x3a\165\151\x64\x20\101\x4e\104\40\x76\141\x6c\x69\144\151\164\x79\76\72\166\x61\x6c\x69\x64\x69\164\x79", array("\72\165\x69\144" => $recmember["\165\x69\x64"], "\x3a\166\141\x6c\x69\144\x69\164\171" => time())); goto RVFcg; gXp80: kRuD4: goto lqOso; PLuMR: if (!empty($level)) { goto BYjEB; } goto UEVIN; TXW1D: $this->sendNewUserNoticeToRecmember($fans["\x6f\160\x65\x6e\151\x64"], $setting, $member["\x6e\x69\x63\x6b\156\x61\x6d\145"], $commission, $type = 1, $rec_income); goto Sm_41; T8Wye: $fans = pdo_fetch("\123\105\x4c\x45\103\x54\x20\156\151\x63\153\x6e\141\x6d\145\54\x6f\x70\x65\156\x69\144\40\x46\x52\117\x4d\x20" . tablename($this->table_fans) . "\x20\x20\127\x48\105\x52\105\x20\x75\151\x64\x3d\x3a\165\x69\x64", array("\72\x75\151\x64" => $recmember["\x75\151\x64"])); goto VpfUV; vD2ys: goto kRuD4; goto Tukrr; qrAUA: jeNCz: goto TXW1D; d9YWa: if ($comsetting["\x73\x65\154\x66\137\x73\x61\154\145"] == 1) { goto NsEgC; } goto dFV2o; qTdbo: suFca: goto TmxHW; y4h_z: $commission = unserialize($comsetting["\x63\x6f\x6d\x6d\151\163\163\x69\157\x6e"]); goto T8Wye; RVFcg: if (!empty($member_vip)) { goto kPhag; } goto lZDRG; yrZpw: $commission = $commission["\143\157\155\x6d\151\163\163\x69\x6f\156\61"]; goto vD2ys; gXVEN: NsEgC: goto PLuMR; EPG2s: if (!($comsetting["\163\141\154\145\x5f\162\141\x6e\153"] == 2)) { goto jeNCz; } goto T6XiZ; QGpVT: $commission = $level["\143\x6f\x6d\x6d\x69\163\163\151\157\156\61"]; goto gXp80; VpfUV: $rec_income = json_decode($comsetting["\162\145\x63\137\x69\x6e\143\x6f\155\145"], true); goto kae68; oc4yW: $log = array(0, "\xe7\x9b\264\xe6\216\xa5\346\x8e\xa8\350\215\220\344\xb8\213\xe7\xba\xa7\xe6\x88\x90\xe5\x91\x98\345\x8a\240\xe5\205\xa5", "\x66\171\x5f\154\145\163\163\157\156\x76\x32"); goto NVJZ5; lqOso: goto jnXem; goto gXVEN; eEhg7: VjV6c: goto ZGpze; Tukrr: qvJ32: goto QGpVT; dFV2o: if (!empty($level)) { goto qvJ32; } goto yrZpw; us6zm: if (!($recmember["\141\147\x65\x6e\x74\137\154\x65\x76\145\x6c"] > 0)) { goto mEiS9; } goto IX7Nn; UEVIN: $commission = $commission["\143\157\155\155\151\x73\163\x69\x6f\156\x32"]; goto dsN5e; TmxHW: if (!(floatval($rec_income["\x63\162\x65\x64\151\164\x32"]) > 0)) { goto X48Cg; } goto pg78p; IX7Nn: $level = pdo_fetch("\x53\105\114\105\103\124\x20\52\x20\106\x52\x4f\x4d\x20" . tablename($this->table_commission_level) . "\40\127\x48\105\x52\105\x20\x69\x64\75\x3a\151\144", array("\72\x69\x64" => $recmember["\x61\x67\145\156\x74\137\x6c\145\x76\x65\x6c"])); goto q7b22; xiE2o: BYjEB: goto SOeZB; Sm_41: tHmF1: goto ZPf4N; JJnD0: X48Cg: goto us6zm; Q6MG7: global $_W; goto r718d; q7b22: mEiS9: goto d9YWa; lZDRG: return; goto QW2O3; dsN5e: goto VjV6c; goto xiE2o; tSc7P: pdo_insert($this->table_commission_log, $logarr); goto JJnD0; NVJZ5: mc_credit_update($recmember["\x75\x69\144"], "\143\162\145\144\151\x74\61", $rec_income["\143\x72\145\144\151\x74\x31"], $log); goto qTdbo; SOeZB: $commission = $level["\143\x6f\155\x6d\x69\163\x73\x69\157\156\x32"]; goto eEhg7; ZGpze: jnXem: goto EPG2s; QW2O3: kPhag: goto qrAUA; SVmIz: load()->model("\x6d\143"); goto oc4yW; fUFMv: $logarr = array("\x75\x6e\x69\x61\143\x69\x64" => $_W["\165\156\x69\141\143\151\144"], "\157\x72\x64\145\162\x69\144" => $source_id, "\x75\x69\x64" => $recmember["\x75\x69\144"], "\156\x69\143\x6b\x6e\141\x6d\145" => $fans["\156\x69\x63\x6b\156\141\155\x65"], "\142\157\x6f\153\156\x61\x6d\x65" => "\xe6\216\xa8\xe8\x8d\x90\344\270\213\347\272\xa7\xe6\x88\x90\345\x91\230", "\x63\x68\x61\x6e\x67\145\x5f\156\x75\155" => $rec_income["\143\x72\145\x64\151\x74\62"], "\147\x72\x61\x64\x65" => 1, "\x72\x65\155\141\x72\x6b" => "\347\x9b\xb4\xe6\x8e\xa5\346\x8e\xa8\xe8\215\220\xe4\xb8\x8b\xe7\272\247\346\210\220\345\221\x98\345\212\240\345\205\245", "\142\165\171\x65\162\x5f\165\151\x64" => $member["\165\151\144"], "\x62\165\171\x65\x72\137\156\x61\x6d\145" => $member["\156\x69\x63\x6b\x6e\x61\x6d\145"], "\x61\x64\144\x74\x69\155\145" => time()); goto tSc7P; pg78p: pdo_update($this->table_member, array("\156\157\x70\x61\171\x5f\143\x6f\155\155\151\163\x73\x69\157\156" => $recmember["\x6e\157\x70\x61\x79\137\x63\157\155\x6d\x69\x73\163\151\157\x6e"] + $rec_income["\143\x72\145\x64\x69\164\x32"]), array("\165\x69\x64" => $recmember["\x75\x69\x64"])); goto fUFMv; kae68: if (!(floatval($rec_income["\143\162\x65\x64\151\164\61"]) > 0)) { goto suFca; } goto SVmIz; r718d: if (!($comsetting["\154\x65\166\145\154"] >= 1)) { goto tHmF1; } goto y4h_z; ZPf4N: } public function sendNoticeToMember2($member, $recmember, $setting, $comsetting) { goto wklOB; Mgcsn: RX9SP: goto OYO9Q; OfjdC: goto GiydC; goto Mgcsn; TPW00: $commission = $commission["\143\157\155\x6d\x69\163\x73\x69\157\x6e\x32"]; goto OfjdC; UFban: goto zCJYF; goto l7lNy; OO4tG: if (!empty($level)) { goto lYwfY; } goto JXBIa; tCwpp: xVHSe: goto Qs_ID; KUjyF: if (!empty($level)) { goto RX9SP; } goto TPW00; Qs_ID: $this->sendNewUserNoticeToRecmember($fans["\157\x70\145\x6e\151\144"], $setting, $member["\156\x69\x63\x6b\x6e\141\155\145"], $commission, $type = 2, $rec_income); goto Ipu4A; NEAeJ: zCJYF: goto tCwpp; myoRT: if (!($comsetting["\154\145\x76\145\154"] >= 2)) { goto jO8il; } goto ZGRuq; qqX3B: goto xVHSe; goto yJT3S; Ipu4A: jO8il: goto kCuS6; yJT3S: LNHV2: goto OO4tG; VFCVt: if ($comsetting["\163\x65\x6c\146\137\163\141\154\x65"] == 1) { goto LNHV2; } goto KUjyF; wklOB: global $_W; goto myoRT; drjrt: if (!($recmember["\141\x67\x65\156\x74\x5f\154\x65\166\145\154"] > 0)) { goto O00k3; } goto riRbb; riRbb: $level = pdo_fetch("\123\x45\114\x45\x43\x54\40\x2a\x20\106\122\117\115\x20" . tablename($this->table_commission_level) . "\40\x57\x48\x45\x52\x45\x20\151\144\75\x3a\x69\144", array("\x3a\x69\144" => $recmember["\x61\147\x65\x6e\x74\x5f\x6c\145\166\145\x6c"])); goto nBdwM; q4Owe: GiydC: goto qqX3B; OYO9Q: $commission = $level["\143\157\x6d\x6d\151\x73\x73\151\x6f\x6e\x32"]; goto q4Owe; nBdwM: O00k3: goto VFCVt; ZGRuq: $commission = unserialize($comsetting["\x63\157\155\155\x69\163\163\151\157\156"]); goto Rzago; l7lNy: lYwfY: goto UN1kI; Rzago: $fans = pdo_fetch("\123\x45\114\x45\x43\124\40\156\x69\143\x6b\156\141\x6d\145\x2c\x6f\160\x65\156\151\144\40\106\122\117\x4d\x20" . tablename($this->table_fans) . "\40\x20\127\110\105\x52\x45\x20\165\x69\x64\x3d\72\165\x69\144", array("\72\x75\151\x64" => $recmember["\x75\151\144"])); goto drjrt; UN1kI: $commission = $level["\x63\157\155\x6d\151\x73\x73\x69\x6f\156\63"]; goto NEAeJ; JXBIa: $commission = $commission["\x63\157\x6d\x6d\151\163\x73\151\157\x6e\63"]; goto UFban; kCuS6: } public function sendNoticeToMember3($member, $recmember, $setting, $comsetting) { goto WN_Jn; UjfEY: I5bLr: goto iJ_mr; WN_Jn: global $_W; goto GwifN; GwifN: if (!($comsetting["\154\x65\x76\145\154"] >= 3)) { goto QeT27; } goto Zxgz4; flJGC: if (!empty($level)) { goto EtFZj; } goto dSJFZ; n6z0g: $this->sendNewUserNoticeToRecmember($fans["\x6f\x70\x65\156\x69\144"], $setting, $member["\x6e\151\x63\153\x6e\x61\x6d\x65"], $commission, $type = 3, $rec_income); goto VEOKZ; VEOKZ: QeT27: goto CjrG4; ZSoT1: $commission = $level["\143\x6f\155\x6d\x69\163\x73\x69\157\x6e\63"]; goto UjfEY; QFHh0: vAlXY: goto ez1QB; Yb187: EtFZj: goto ZSoT1; s3AWW: kFvWy: goto gWNqj; NDzSO: $level = pdo_fetch("\123\x45\114\x45\103\x54\40\52\x20\x46\122\x4f\115\x20" . tablename($this->table_commission_level) . "\x20\x57\x48\105\122\105\40\x69\144\75\72\151\x64", array("\72\151\144" => $recmember["\141\x67\145\156\164\137\x6c\x65\166\x65\x6c"])); goto QFHh0; Zxgz4: $commission = unserialize($comsetting["\143\157\155\x6d\x69\163\163\x69\x6f\x6e"]); goto KxN4F; dSJFZ: $commission = $commission["\143\157\155\x6d\151\163\163\151\x6f\156\x33"]; goto tTTip; iJ_mr: goto vFiYN; goto s3AWW; LQ936: vFiYN: goto n6z0g; tTTip: goto I5bLr; goto Yb187; gWNqj: $commission = 0; goto LQ936; ez1QB: if ($comsetting["\x73\145\154\x66\x5f\163\x61\154\145"] == 1) { goto kFvWy; } goto flJGC; KxN4F: $fans = pdo_fetch("\x53\x45\x4c\105\103\x54\40\156\151\143\x6b\x6e\x61\155\x65\x2c\x6f\x70\x65\x6e\151\144\40\x46\122\x4f\115\40" . tablename($this->table_fans) . "\x20\x20\x57\x48\105\x52\105\40\165\151\144\x3d\72\x75\151\144", array("\x3a\165\x69\x64" => $recmember["\165\x69\x64"])); goto DDBO7; DDBO7: if (!($recmember["\x61\x67\x65\156\x74\137\154\x65\166\145\154"] > 0)) { goto vAlXY; } goto NDzSO; CjrG4: } public function sendNewUserNoticeToRecmember($toOpenid, $setting, $nickname, $commission, $type, $rec_income = array()) { goto pBWkm; BIReq: $tplmessage = pdo_fetch("\123\x45\114\105\x43\x54\x20\156\145\167\152\157\x69\156\x2c\40\x6e\x65\x77\x6a\157\x69\x6e\137\146\x6f\162\x6d\x61\164\40\106\122\117\115\40" . tablename($this->table_tplmessage) . "\x20\x57\110\x45\x52\x45\40\x75\156\x69\141\143\x69\x64\x3d\x3a\x75\x6e\151\x61\x63\151\x64", array("\x3a\x75\156\151\x61\143\151\x64" => $setting["\165\x6e\x69\x61\x63\151\x64"])); goto jLYfy; J3J4L: if (!($rec_income["\143\162\x65\144\x69\164\x31"] > 0)) { goto RyuNv; } goto nLlPv; jLYfy: $newjoin_format = json_decode($tplmessage["\156\x65\167\x6a\x6f\x69\156\x5f\x66\157\162\155\141\x74"], true); goto nEeqf; zvRHr: if (!($rec_income["\143\162\x65\144\151\x74\62"] > 0)) { goto y2ksh; } goto aOv3m; nLlPv: $award_tip .= $rec_income["\x63\162\145\144\x69\164\61"] . "\xe4\270\xaa\xe7\247\257\xe5\x88\x86"; goto oDYkE; oDYkE: RyuNv: goto zvRHr; eL22g: $award_tip = "\357\274\x8c\347\263\xbb\347\273\x9f\xe5\245\226\345\x8a\xb1\346\x82\xa8"; goto J3J4L; fvYdg: ZKKJY: goto ewVMg; aOv3m: $award_tip .= "\357\xbc\214\357\xbf\245" . $rec_income["\x63\162\145\144\151\164\62"] . "\344\275\243\xe9\x87\x91\357\xbc\x8c\xe5\xb7\262\345\217\221\346\224\xbe\xe5\210\xb0\xe6\x82\xa8\xe7\232\204\350\xb4\xa6\346\210\267\343\200\x82"; goto e9bP2; ZV01A: $this->send_template_message($send, $setting["\165\x6e\151\141\x63\x69\x64"]); goto fvYdg; jjaRn: ffdLh: goto JzdXt; vtazp: if (!($type == 1)) { goto HJyj1; } goto PIYz1; n4vqa: if (!($commission > 0)) { goto ZKKJY; } goto ZV01A; JzdXt: HJyj1: goto BIReq; PIYz1: if (!($rec_income["\x63\162\x65\144\x69\164\61"] > 0 || $rec_income["\x63\162\145\144\x69\164\62"] > 0)) { goto ffdLh; } goto eL22g; e9bP2: y2ksh: goto jjaRn; nEeqf: $send = array("\164\157\x75\x73\x65\162" => $toOpenid, "\x74\x65\x6d\x70\x6c\x61\164\145\x5f\151\x64" => $tplmessage["\x6e\145\x77\152\157\x69\x6e"], "\x75\x72\x6c" => $_W["\163\151\x74\145\x72\157\157\164"] . "\x61\160\x70\x2f" . $this->redefineUrl($this->createMobileUrl("\x74\145\141\x6d", array("\x6c\x65\166\x65\154" => 1))), "\164\x6f\x70\143\157\x6c\157\162" => "\x23\x65\x32\x35\x38\60\64", "\144\141\164\141" => array("\x66\151\162\x73\164" => array("\x76\141\x6c\x75\x65" => $newjoin_format["\x66\x69\x72\163\164"] ? $newjoin_format["\146\x69\x72\x73\164"] : "\346\x81\xad\345\226\234\346\202\250\xe6\234\211\xe6\x96\260\347\x9a\204\xe6\x88\220\345\x91\x98\345\x8a\240\345\205\245" . $award_tip, "\x63\x6f\154\x6f\x72" => ''), "\153\x65\x79\167\x6f\x72\x64\x31" => array("\166\141\154\x75\145" => $nickname ? $nickname . "\x28{$type}\x29" : "\x28{$type}\51", "\143\157\x6c\x6f\x72" => ''), "\153\x65\x79\x77\157\x72\x64\62" => array("\x76\141\x6c\165\145" => date("\x59\345\271\264\x6d\346\234\x88\144\xe6\x97\245", time()), "\143\157\154\157\162" => ''), "\162\x65\155\x61\x72\x6b" => array("\166\141\154\x75\x65" => $newjoin_format["\162\x65\x6d\141\x72\153"] ? $newjoin_format["\162\145\155\141\x72\x6b"] : "\346\x82\xa8\347\x9a\204\xe4\xb8\213\xe7\272\xa7\xe6\x88\220\345\x91\230\350\xbf\x9b\350\241\214\xe6\266\210\350\264\271\346\227\266\357\xbc\x8c\346\202\xa8\xe5\260\x86\346\x9c\x89\xe6\x9c\xba\xe4\xbc\232\350\x8e\267\xe5\xbe\227\xe5\xa5\x96\xe5\x8a\xb1\x7e", "\x63\x6f\154\x6f\x72" => ''))); goto n4vqa; pBWkm: global $_W; goto vtazp; ewVMg: } public function systemEvaluate($evaluate) { goto a_3y8; F_7F3: $data["\x75\x6e\144\145\162\x73\164\x61\156\x64\x5f\163\143\157\162\x65"] = round($data["\164\157\x74\x61\x6c\137\x75\x6e\144\145\x72\x73\x74\x61\x6e\144"] / $total, 2); goto nuHNs; DoYYl: aEIfE: goto v0Ncu; SA89y: $data["\143\x6f\x6e\x74\x65\156\164\137\163\143\x6f\162\x65"] = round($data["\x74\157\x74\x61\x6c\x5f\x63\157\x6e\x74\145\156\x74"] / $data["\164\157\164\x61\154\x5f\156\165\155\x62\x65\x72"], 2); goto QqsrM; xWIJi: $good = pdo_fetchcolumn("\x53\x45\114\105\103\124\x20\x43\x4f\125\x4e\124\x28\52\51\40\x46\x52\117\115\40" . tablename($this->table_evaluate) . "\40\127\110\105\x52\105\40\165\x6e\151\141\143\151\144\75\x3a\165\156\x69\x61\x63\x69\x64\x20\101\x4e\104\40\x6c\145\x73\163\157\x6e\151\144\x3d\72\x6c\145\x73\x73\x6f\x6e\x69\x64\x20\x41\x4e\104\x20\x67\x72\141\x64\145\75\x3a\147\x72\x61\144\x65\x20\101\x4e\x44\x20\x73\164\141\164\165\163\75\x3a\x73\164\x61\x74\165\163", array("\72\165\156\151\x61\x63\151\x64" => $evaluate["\165\156\x69\x61\x63\x69\x64"], "\72\154\x65\163\163\x6f\x6e\151\144" => $evaluate["\x6c\145\163\163\157\x6e\151\x64"], "\72\147\162\141\x64\x65" => 1, "\x3a\x73\x74\141\x74\165\163" => 1)); goto DxgfL; AdpVl: $data["\164\x6f\164\141\154\x5f\x63\157\x6e\164\145\156\x74"] = $evaluate_score["\x74\157\164\141\154\x5f\x63\x6f\156\164\x65\x6e\164"] + $evaluate["\x63\157\x6e\164\x65\x6e\x74\137\x73\x63\157\x72\145"]; goto OAEUL; fswzX: $data["\x63\x6f\x6e\164\x65\x6e\x74\137\163\143\157\x72\145"] = round($data["\164\x6f\164\141\x6c\137\x63\x6f\156\164\x65\x6e\x74"] / $total, 2); goto F_7F3; z8Na4: $data["\x73\143\x6f\x72\145"] = round($data["\164\157\164\x61\x6c\137\x67\x6f\x6f\x64\163"] / $data["\164\157\x74\141\154\x5f\x6e\x75\155\x62\x65\x72"], 2); goto plW38; HZMfl: $data["\x67\154\x6f\142\141\154\x5f\x73\143\157\162\x65"] = round($data["\x74\x6f\164\x61\154\x5f\147\x6c\x6f\x62\141\154"] / $total, 2); goto fswzX; plW38: $data["\147\154\157\x62\141\154\137\x73\143\x6f\162\x65"] = round($data["\164\157\x74\x61\154\137\x67\154\157\142\141\x6c"] / $data["\164\x6f\164\141\154\x5f\156\x75\x6d\x62\x65\162"], 2); goto SA89y; OAEUL: $data["\164\157\164\141\x6c\x5f\x75\156\x64\145\162\163\164\x61\156\x64"] = $evaluate_score["\x74\157\x74\x61\x6c\x5f\x75\156\x64\145\162\x73\164\141\156\x64"] + $evaluate["\x75\x6e\144\145\162\163\x74\x61\x6e\144\137\163\143\157\x72\x65"]; goto U_k1R; tmhpp: goto aEIfE; goto lMWw8; y_2_q: $data["\164\157\x74\x61\154\x5f\x67\154\157\142\141\x6c"] = $evaluate_score["\164\x6f\x74\141\x6c\137\147\154\x6f\x62\x61\154"] + $evaluate["\147\x6c\x6f\142\x61\x6c\137\x73\x63\x6f\162\x65"]; goto AdpVl; v0Ncu: pdo_update($this->table_lesson_parent, array("\x73\143\157\162\145" => $data["\163\x63\157\x72\145"]), array("\x69\144" => $evaluate["\x6c\145\163\x73\x6f\x6e\151\x64"])); goto Y1Ped; QqsrM: $data["\x75\156\144\145\162\x73\x74\x61\156\x64\137\x73\x63\157\162\145"] = round($data["\x74\157\x74\141\x6c\137\x75\156\144\x65\x72\x73\164\141\156\144"] / $data["\164\x6f\x74\141\154\137\156\165\155\x62\145\162"], 2); goto wS6VB; WXSzF: $total = pdo_fetchcolumn("\x53\105\x4c\x45\103\x54\40\x43\x4f\125\116\x54\50\52\51\x20\106\x52\x4f\115\40" . tablename($this->table_evaluate) . "\x20\127\x48\x45\x52\105\x20\165\156\x69\x61\143\x69\144\75\72\165\156\x69\141\x63\151\144\x20\101\x4e\x44\x20\x6c\x65\163\163\157\156\x69\x64\75\72\x6c\x65\x73\163\157\156\x69\144\x20\101\116\x44\x20\x73\164\x61\x74\x75\x73\x3d\72\x73\x74\x61\x74\x75\163", array("\72\x75\156\x69\141\x63\x69\144" => $evaluate["\165\156\x69\x61\143\x69\144"], "\x3a\154\x65\163\x73\157\156\x69\x64" => $evaluate["\154\145\163\x73\x6f\156\151\144"], "\x3a\163\164\141\164\165\163" => 1)); goto xWIJi; DxgfL: $data = array("\165\156\x69\141\143\x69\144" => $evaluate["\x75\156\x69\141\143\x69\x64"], "\154\145\163\163\157\156\151\x64" => $evaluate["\x6c\145\x73\x73\x6f\x6e\151\x64"], "\163\143\157\162\145" => round($good / $total, 2), "\x74\157\x74\x61\x6c\137\147\157\x6f\144\163" => $good, "\164\x6f\x74\x61\154\137\x67\x6c\157\x62\141\x6c" => ($total - 1) * 5 + $evaluate["\147\154\x6f\142\141\154\x5f\163\143\157\x72\x65"], "\164\x6f\x74\x61\x6c\x5f\143\x6f\x6e\x74\x65\156\x74" => ($total - 1) * 5 + $evaluate["\x63\x6f\156\x74\145\156\x74\137\x73\x63\157\x72\x65"], "\164\157\x74\141\x6c\137\165\x6e\144\145\x72\163\x74\x61\x6e\x64" => ($total - 1) * 5 + $evaluate["\x75\156\x64\145\x72\x73\x74\x61\156\144\137\163\x63\x6f\x72\x65"], "\x74\157\x74\141\x6c\137\x6e\x75\x6d\x62\x65\x72" => $total, "\165\160\x64\141\164\x65\137\164\151\155\x65" => time()); goto HZMfl; VR5Gm: if (!$evaluate_score) { goto pRF8p; } goto rhpQQ; nuHNs: pdo_insert($this->table_evaluate_score, $data); goto DoYYl; lMWw8: pRF8p: goto WXSzF; wS6VB: $data["\x75\x70\x64\x61\164\x65\x5f\x74\x69\x6d\x65"] = time(); goto KIM2r; U_k1R: $data["\x74\x6f\x74\141\x6c\x5f\x6e\x75\155\142\x65\162"] = $evaluate_score["\x74\x6f\x74\x61\154\137\156\x75\155\142\x65\162"] + 1; goto z8Na4; a_3y8: $evaluate_score = pdo_get($this->table_evaluate_score, array("\x75\x6e\x69\x61\x63\x69\x64" => $evaluate["\x75\x6e\151\141\x63\151\x64"], "\154\145\x73\163\x6f\x6e\x69\x64" => $evaluate["\154\145\163\163\x6f\x6e\x69\144"])); goto VR5Gm; rhpQQ: $data["\x74\157\164\141\154\137\147\157\x6f\x64\x73"] = $evaluate["\147\162\x61\144\145"] == 1 ? $evaluate_score["\164\x6f\164\141\x6c\x5f\147\157\x6f\x64\163"] + 1 : $evaluate_score["\164\x6f\x74\141\x6c\137\147\x6f\157\x64\x73"]; goto y_2_q; KIM2r: pdo_update($this->table_evaluate_score, $data, array("\151\144" => $evaluate_score["\x69\x64"])); goto tmhpp; Y1Ped: } public function memberEvaluate($evaluate) { goto LE4ql; LE4ql: $evaluate_score = pdo_get($this->table_evaluate_score, array("\x75\156\x69\141\x63\x69\144" => $evaluate["\165\156\151\x61\x63\x69\144"], "\x6c\145\x73\163\157\156\151\x64" => $evaluate["\x6c\145\163\x73\x6f\x6e\x69\x64"])); goto CpnLO; bFhUj: $total_score = pdo_fetchall("\123\105\114\105\x43\124\x20\x53\125\115\x28\x67\154\x6f\142\x61\154\x5f\163\x63\157\162\x65\x29\40\x61\x73\x20\x74\x6f\164\x61\x6c\x5f\147\154\157\x62\141\154\54\x20\123\125\115\x28\x63\157\x6e\164\x65\156\164\x5f\163\x63\157\162\x65\51\40\x61\163\x20\164\157\x74\141\x6c\137\143\157\156\164\145\x6e\164\x2c\x20\123\125\x4d\x28\165\156\x64\x65\162\163\x74\141\156\144\x5f\163\143\157\162\x65\x29\40\x61\163\x20\x74\x6f\164\x61\x6c\x5f\165\x6e\x64\x65\162\163\164\x61\156\x64\40\x46\x52\x4f\x4d\40" . tablename($this->table_evaluate) . "\x20\127\x48\x45\122\x45\40\x75\x6e\151\141\143\151\144\75\72\165\x6e\x69\x61\x63\x69\x64\40\101\x4e\x44\40\x6c\x65\x73\x73\x6f\x6e\151\x64\x3d\x3a\154\145\163\163\x6f\156\151\144\40\101\x4e\104\x20\163\164\x61\x74\165\x73\75\72\x73\x74\141\164\165\163", array("\x3a\165\x6e\x69\141\x63\151\x64" => $evaluate["\165\x6e\x69\x61\x63\x69\144"], "\72\154\145\x73\x73\x6f\x6e\151\x64" => $evaluate["\154\145\163\x73\157\x6e\x69\x64"], "\72\163\x74\141\164\165\163" => 1)); goto UkrLv; NmPFX: pdo_update($this->table_evaluate_score, $data, array("\165\156\x69\141\143\x69\144" => $evaluate["\165\156\151\141\143\151\144"], "\151\144" => $evaluate_score["\x69\144"])); goto O1LEC; LeLXV: pdo_insert($this->table_evaluate_score, $data); goto xNvKY; O1LEC: goto ucqxW; goto k7wVr; VABT4: $good = pdo_fetchcolumn("\x53\x45\114\x45\x43\124\x20\103\x4f\125\x4e\x54\50\x2a\51\40\x46\122\x4f\x4d\x20" . tablename($this->table_evaluate) . "\x20\x57\110\105\122\105\40\x75\x6e\151\141\x63\151\144\75\72\x75\156\151\141\143\151\x64\40\x41\x4e\x44\x20\154\x65\163\x73\157\156\151\x64\75\x3a\154\145\163\163\x6f\156\151\x64\40\x41\x4e\104\40\147\162\x61\144\145\75\x3a\x67\x72\141\x64\x65\x20\x41\x4e\104\40\x73\x74\x61\164\165\x73\x3d\x3a\163\x74\141\164\165\163", array("\72\x75\156\x69\x61\143\x69\x64" => $evaluate["\165\x6e\x69\141\143\151\x64"], "\72\x6c\145\163\x73\157\x6e\151\x64" => $evaluate["\154\x65\x73\163\157\x6e\151\x64"], "\x3a\x67\162\x61\144\x65" => 1, "\x3a\x73\x74\x61\x74\x75\163" => 1)); goto bFhUj; LcB3q: if (!$evaluate_score) { goto VHSrU; } goto NmPFX; UkrLv: $data = array("\165\x6e\x69\x61\143\x69\x64" => $evaluate["\x75\156\x69\x61\x63\x69\x64"], "\x6c\145\163\x73\x6f\156\151\144" => $evaluate["\x6c\145\163\x73\x6f\156\151\x64"], "\163\143\157\x72\x65" => round($good / $total, 2), "\147\x6c\157\x62\x61\x6c\137\163\x63\x6f\162\145" => round($total_score[0]["\x74\157\164\141\x6c\137\147\x6c\x6f\x62\141\154"] / $total, 2), "\x63\x6f\156\164\145\x6e\164\x5f\163\x63\157\x72\145" => round($total_score[0]["\x74\x6f\x74\141\154\137\143\157\156\x74\x65\156\164"] / $total, 2), "\x75\x6e\144\x65\x72\x73\164\141\156\144\x5f\x73\143\x6f\x72\145" => round($total_score[0]["\164\x6f\164\x61\x6c\x5f\165\156\144\145\x72\163\x74\141\156\x64"] / $total, 2), "\x74\157\164\141\x6c\137\x67\x6f\x6f\144\x73" => $good, "\x74\157\x74\141\x6c\137\147\x6c\x6f\x62\x61\154" => $total_score[0]["\164\x6f\x74\x61\154\137\147\x6c\x6f\x62\x61\154"], "\164\x6f\x74\141\x6c\x5f\x63\x6f\x6e\164\x65\156\164" => $total_score[0]["\x74\157\x74\x61\154\x5f\143\157\156\x74\x65\156\164"], "\164\157\164\141\154\x5f\x75\156\144\x65\162\x73\164\141\x6e\144" => $total_score[0]["\x74\x6f\164\141\154\x5f\x75\x6e\x64\x65\x72\163\x74\141\x6e\144"], "\164\x6f\164\x61\154\137\156\165\155\x62\x65\162" => $total, "\x75\x70\144\x61\x74\x65\x5f\164\x69\x6d\145" => time()); goto LcB3q; WrDHu: pdo_update($this->table_lesson_parent, array("\163\143\x6f\x72\x65" => $data["\x73\x63\157\162\145"]), array("\151\144" => $evaluate["\154\145\163\163\157\x6e\151\144"])); goto RJC6L; CpnLO: $total = pdo_fetchcolumn("\x53\x45\x4c\105\x43\124\40\x43\117\125\x4e\x54\x28\52\x29\x20\106\122\x4f\115\x20" . tablename($this->table_evaluate) . "\x20\127\110\105\122\105\x20\x75\x6e\x69\141\x63\x69\144\x3d\72\x75\x6e\x69\141\143\151\x64\x20\x41\x4e\x44\x20\154\x65\x73\163\x6f\156\151\144\75\72\154\x65\x73\163\157\156\151\x64\x20\x41\116\104\x20\163\164\141\164\165\163\75\72\163\x74\x61\164\165\163", array("\x3a\x75\x6e\x69\141\143\151\x64" => $evaluate["\x75\x6e\151\x61\143\151\x64"], "\x3a\x6c\145\163\163\x6f\156\x69\144" => $evaluate["\x6c\x65\163\163\157\x6e\x69\144"], "\72\x73\164\141\164\x75\x73" => 1)); goto VABT4; k7wVr: VHSrU: goto LeLXV; xNvKY: ucqxW: goto WrDHu; RJC6L: } public function send_template_message($messageDatas, $uniacid = '') { goto gcwUm; gcwUm: global $_W, $_GPC; goto Ydj7m; lhi8g: mZoXo: goto zX4Yt; TeAye: $account_api = WeixinAccount::create($account); goto qX6Pe; EJZl1: $urls = "\x68\x74\x74\x70\x73\72\x2f\x2f\141\x70\151\56\167\x65\151\170\x69\156\x2e\161\x71\x2e\x63\x6f\155\57\143\x67\151\x2d\142\151\x6e\57\155\145\x73\x73\x61\x67\145\x2f\164\x65\x6d\x70\x6c\141\x74\x65\57\x73\145\x6e\x64\x3f\x61\x63\143\x65\x73\163\x5f\x74\157\x6b\145\x6e\75" . $access_token; goto m43Oh; qX6Pe: $access_token = $account_api->getAccessToken(); goto EJZl1; Ydj7m: if (!(!$messageDatas["\x74\157\165\x73\x65\x72"] || !$messageDatas["\x74\145\155\160\154\x61\164\145\137\x69\144"])) { goto KtM1j; } goto Qc52_; mUUfx: $account = uni_fetch($uniacid); goto lhi8g; ACkiq: return json_decode($ress, true); goto RxPSK; AJdUJ: $ress = ihttp_request($urls, $messageDatas); goto ACkiq; u2oEx: KtM1j: goto Iln06; zX4Yt: load()->classs("\x77\x65\x69\x78\x69\156\56\141\x63\143\x6f\x75\156\x74"); goto TeAye; m43Oh: $messageDatas = urldecode(json_encode($messageDatas)); goto AJdUJ; Qc52_: return; goto u2oEx; Iln06: if (!$uniacid) { goto mZoXo; } goto mUUfx; RxPSK: } public function updateMemberVip($uid, $vip) { return pdo_update($this->table_member, array("\166\x69\160" => $vip), array("\165\x69\x64" => $uid)); } public function getLevelById($level_id) { global $_W; return pdo_get($this->table_vip_level, array("\x75\x6e\x69\x61\x63\x69\144" => $_W["\x75\x6e\x69\x61\143\151\x64"], "\x69\x64" => $level_id)); } public function getNextSectionid($section, $title_list) { goto xvSxB; xvSxB: if ($section["\x74\x69\164\x6c\x65\x5f\x69\x64"]) { goto chhBU; } goto HfC2U; lxARs: foreach ($section_sort as $key => $value) { goto BKNCI; BKNCI: if (!($value["\151\x64"] == $section["\151\x64"])) { goto hL9Lx; } goto bbzl0; MaoSP: hL9Lx: goto x8Y23; bOzJS: goto l51Lh; goto MaoSP; bbzl0: $next_sectionid = $section_sort[$key + 1]["\151\x64"]; goto bOzJS; x8Y23: lhdXj: goto X9lrH; X9lrH: } goto RkrQW; wqY0e: cTpfz: goto Aeq44; s1zrU: if (!$next_section) { goto ypuwL; } goto iNgXB; fnFHy: ypuwL: goto wqY0e; C3dZq: $next_section = pdo_fetch("\x53\x45\114\105\x43\124\x20\151\144\x20\106\x52\117\x4d\x20" . tablename($this->table_lesson_son) . "\40\x57\110\105\x52\x45\40\x74\x69\164\x6c\x65\137\x69\144\x3d\72\164\x69\164\154\x65\137\151\144\40\x41\x4e\x44\40\163\x74\141\164\165\163\x3d\x3a\x73\x74\141\x74\x75\x73\x20\x4f\122\104\105\x52\40\102\x59\x20\x64\151\x73\160\154\x61\x79\x6f\162\x64\x65\x72\x20\x44\x45\123\103\54\151\144\x20\101\x53\103\x20\x4c\x49\115\x49\x54\x20\x31", array("\x3a\x74\151\x74\x6c\x65\x5f\151\x64" => $next_title["\x74\x69\164\154\x65\x5f\151\144"], "\72\163\164\x61\164\x75\x73" => 1)); goto s1zrU; Wm7uE: FC5Qr: goto C3dZq; JpHRM: foreach ($section_sort as $key => $value) { goto U89Qp; U89Qp: if (!($value["\x69\x64"] == $section["\x69\144"])) { goto E76pN; } goto fmsIg; u8hN7: KPUkW: goto BIkp2; fmsIg: $next_sectionid = $section_sort[$key + 1]["\151\144"]; goto KSk7r; gmZvD: E76pN: goto u8hN7; KSk7r: goto hf1q4; goto gmZvD; BIkp2: } goto wPLrt; quwqL: return $next_sectionid; goto CBRBy; ftJJq: foreach ($title_list as $key => $value) { goto vhZsD; kdj3b: $next_title = $title_list[$key + 1]; goto bZD3H; jpZqJ: C2wwe: goto FF9Y2; bZD3H: goto FC5Qr; goto z53GV; vhZsD: if (!($value["\164\151\x74\x6c\145\x5f\151\x64"] == $section["\164\x69\164\154\x65\x5f\151\144"])) { goto MEPJt; } goto kdj3b; z53GV: MEPJt: goto jpZqJ; FF9Y2: } goto Wm7uE; wPLrt: hf1q4: goto O2fhA; RkrQW: l51Lh: goto UGHeQ; HfC2U: $section_sort = pdo_fetchall("\123\x45\114\x45\103\x54\40\x69\144\40\106\x52\x4f\x4d\40" . tablename($this->table_lesson_son) . "\x20\127\110\x45\122\x45\40\x70\141\x72\x65\156\164\151\144\75\72\160\141\x72\145\156\164\151\144\x20\101\x4e\104\40\x74\151\164\154\x65\x5f\x69\x64\75\x3a\164\151\164\x6c\145\x5f\x69\144\40\x41\116\104\x20\x73\164\141\x74\165\163\75\x3a\x73\x74\x61\164\165\x73\x20\117\x52\104\105\122\40\x42\x59\x20\144\x69\163\160\154\x61\x79\157\162\144\145\x72\x20\x44\x45\123\x43\54\151\144\x20\101\123\103", array("\72\x70\x61\x72\145\156\164\x69\x64" => $section["\160\141\x72\x65\156\164\x69\x64"], "\x3a\x74\151\x74\154\x65\137\x69\x64" => 0, "\x3a\163\x74\141\x74\165\163" => 1)); goto lxARs; UGHeQ: goto lk0w_; goto wPi0r; Aeq44: lk0w_: goto quwqL; wPkmt: $section_sort = pdo_fetchall("\x53\105\x4c\105\103\x54\x20\x69\144\x20\x46\122\117\115\x20" . tablename($this->table_lesson_son) . "\x20\127\x48\105\x52\105\x20\x70\x61\162\145\156\164\x69\x64\75\x3a\x70\x61\x72\x65\x6e\x74\x69\x64\x20\x41\116\104\x20\x74\x69\x74\x6c\145\137\x69\x64\75\72\164\x69\x74\x6c\x65\x5f\151\x64\40\x41\x4e\104\40\x73\164\x61\164\x75\163\x3d\72\x73\164\x61\164\165\x73\40\117\122\x44\105\x52\40\x42\x59\40\144\x69\x73\160\x6c\141\x79\x6f\162\x64\x65\162\40\104\x45\x53\103\54\x69\144\x20\101\123\x43", array("\72\160\141\162\x65\156\x74\x69\x64" => $section["\x70\x61\x72\x65\x6e\164\x69\x64"], "\72\164\151\164\x6c\145\x5f\x69\x64" => $section["\164\151\x74\154\x65\x5f\x69\x64"], "\72\x73\164\x61\x74\x75\163" => 1)); goto JpHRM; iNgXB: $next_sectionid = $next_section["\x69\x64"]; goto fnFHy; O2fhA: if ($next_sectionid) { goto cTpfz; } goto ftJJq; wPi0r: chhBU: goto wPkmt; CBRBy: } public function getOrderVerifyLog($orderid) { goto mBA_D; Ic7ER: BJdqC: goto Jp4IE; cYi5l: $verify_log = pdo_fetchall("\x53\x45\x4c\x45\103\124\40\52\40\x46\x52\117\115\40" . tablename($this->table_order_verify) . "\40\x57\x48\x45\122\105\40\x75\x6e\151\x61\143\x69\144\75\x3a\x75\x6e\151\141\143\x69\x64\40\101\x4e\104\40\x6f\162\144\x65\162\151\x64\75\x3a\157\x72\x64\145\x72\x69\x64\x20\117\122\104\105\x52\x20\x42\x59\40\151\144\40\101\123\x43", array("\72\x75\156\151\141\x63\x69\x64" => $_W["\x75\156\151\141\143\x69\144"], "\x3a\157\x72\x64\145\162\x69\144" => $orderid)); goto h9kZM; h9kZM: foreach ($verify_log as $k => $v) { goto KCDmo; KqY12: Di8wr: goto ruCGy; C7Hjv: goto VG7Dq; goto EoqJb; dYmrG: if ($v["\166\x65\162\x69\146\x79\137\164\x79\x70\145"] == 0) { goto Zzegx; } goto Aq4Z1; K8WOV: Zzegx: goto navt2; hUOJg: VG7Dq: goto MA9QP; MA9QP: $v["\154\157\147"] .= $v["\166\145\162\151\x66\x79\137\x6e\141\x6d\145"] . "\50\165\x69\x64\x3a" . $v["\166\x65\x72\x69\x66\171\x5f\x75\x69\144"] . "\51\xef\274\x8c\xe4\272\x8e" . date("\x59\x2d\155\x2d\144\x20\x48\x3a\151", $v["\141\x64\x64\x74\x69\155\145"]) . "\346\240\xb8\xe9\224\200\xe3\x80\202"; goto DVPC2; KCDmo: $v["\154\157\x67"] = $k + 1 . "\343\200\x81"; goto dYmrG; Aq4Z1: if ($v["\x76\145\x72\x69\146\x79\137\x74\171\160\145"] == 1) { goto F1PyD; } goto SbTJK; SbTJK: goto VG7Dq; goto K8WOV; ai8uR: $v["\x6c\157\x67"] .= "\xe5\x90\x8e\345\217\260\347\xae\241\347\x90\206\345\x91\230\xef\xbc\232"; goto hUOJg; navt2: $v["\x6c\x6f\147"] .= "\346\240\xb8\xe9\224\200\345\221\230\xef\274\232"; goto C7Hjv; EoqJb: F1PyD: goto ai8uR; DVPC2: $verify_log[$k] = $v; goto KqY12; ruCGy: } goto Ic7ER; XMvCl: return $verify_log; goto RDzj2; Jp4IE: $verify_log["\143\157\x75\156\x74"] = count($verify_log); goto XMvCl; mBA_D: global $_W; goto cYi5l; RDzj2: } public function updateOrderVerifyLog() { goto gXeKA; EaYqt: $old_order = pdo_fetchall("\x53\105\x4c\x45\103\x54\x20\x69\x64\x2c\x20\166\x65\162\x69\x66\x79\x5f\151\156\146\x6f\x20\106\122\x4f\x4d\x20" . tablename($this->table_order) . "\x20\x57\x48\x45\x52\x45\x20\x75\156\x69\x61\143\151\144\75\x3a\165\156\151\x61\143\x69\x64\x20\x41\x4e\x44\x20\154\145\163\x73\157\x6e\137\164\171\160\x65\75\x3a\154\x65\163\163\157\156\x5f\x74\171\160\145\x20\101\x4e\104\40\x73\164\141\x74\x75\163\x3e\x3a\163\164\x61\164\165\x73\x20\x41\116\x44\40\x69\163\137\166\145\x72\151\x66\x79\75\x3a\151\163\x5f\166\x65\162\x69\146\171\x20\x41\116\104\40\x76\145\x72\151\146\171\137\x69\x6e\146\157\x21\x3d\x27\47\40", array("\x3a\165\156\151\141\143\x69\x64" => $uniacid, "\x3a\x6c\x65\163\163\x6f\x6e\137\x74\x79\x70\x65" => 1, "\x3a\x73\164\141\164\165\x73" => 0, "\x3a\x69\x73\137\166\x65\162\151\146\x79" => 1)); goto RZqw3; Z4lEF: hGmsI: goto n7cZy; fSEsb: foreach ($complete_order as $v) { goto t4oEa; rDOOc: dGSMo: goto d_0Gk; t4oEa: $total = pdo_fetchcolumn("\123\x45\x4c\105\x43\x54\x20\x43\x4f\125\116\124\50\52\51\40\106\x52\117\x4d\x20" . tablename($this->table_order_verify) . "\x20\x57\x48\105\122\x45\x20\x75\x6e\151\x61\x63\x69\144\75\72\165\156\151\x61\143\x69\144\x20\x41\116\104\40\x6f\x72\144\x65\x72\x69\x64\75\x3a\157\162\144\145\x72\151\144", array("\72\165\x6e\x69\x61\x63\x69\x64" => $uniacid, "\72\157\x72\144\145\x72\x69\144" => $v["\151\144"])); goto gjbKt; gjbKt: if (!($total == $v["\x76\x65\x72\151\146\x79\137\156\x75\155\142\145\162"])) { goto IvAMR; } goto fG4Mw; TZ82i: IvAMR: goto rDOOc; fG4Mw: pdo_update($this->table_order, array("\x69\163\x5f\166\145\x72\151\x66\171" => 2), array("\x69\x64" => $v["\151\x64"])); goto TZ82i; d_0Gk: } goto Z4lEF; RZqw3: foreach ($old_order as $v) { goto ZzSXD; m7_EN: pdo_insert($this->table_order_verify, $verify_data); goto qjJvo; qjJvo: pdo_update($this->table_order, array("\x76\145\x72\x69\x66\171\x5f\x69\156\146\157" => ''), array("\151\144" => $v["\x69\144"])); goto lftUd; ZzSXD: $verify_info = json_decode($v["\166\145\x72\151\146\x79\x5f\151\156\146\157"], true); goto nKRYY; mDjBt: $verify_data["\x76\145\x72\x69\x66\x79\x5f\164\x79\160\x65"] = 0; goto Bb1X8; Bb1X8: $verify_data["\166\x65\x72\151\146\x79\x5f\x75\x69\144"] = $verify_info["\166\145\x72\x69\x66\x79\137\165\151\x64"]; goto T9s3j; Lf1fM: $verify_data["\x76\145\162\x69\146\171\137\x74\171\x70\x65"] = 1; goto XpgpE; XpgpE: $verify_data["\166\145\x72\151\146\x79\x5f\156\x61\155\145"] = $verify_info["\166\x65\162\x69\x66\171\137\141\144\x6d\151\156"]; goto UtahB; lftUd: ozboJ: goto RUIFE; PAQJj: XNYy8: goto m7_EN; UtahB: goto XNYy8; goto RKe3E; RKe3E: Wiy4M: goto GW4fD; T9s3j: $verify_data["\x76\145\x72\x69\x66\171\137\156\x61\x6d\x65"] = $verify_member["\x6e\151\x63\153\x6e\141\155\x65"]; goto PAQJj; nKRYY: $verify_data = array("\x75\156\x69\x61\143\151\144" => $uniacid, "\x6f\x72\144\145\162\151\x64" => $v["\151\144"], "\x61\x64\144\x74\x69\155\145" => $verify_info["\x76\x65\162\151\x66\171\x5f\x74\x69\155\145"]); goto RVHBF; GW4fD: $verify_member = pdo_get($this->table_mc_members, array("\x75\x6e\x69\x61\143\x69\x64" => $uniacid, "\165\151\x64" => $verify_info["\166\145\162\151\x66\171\137\165\x69\144"]), "\156\x69\x63\153\x6e\141\155\x65"); goto mDjBt; RVHBF: if ($verify_info["\166\145\x72\151\x66\x79\x5f\165\x69\x64"]) { goto Wiy4M; } goto Lf1fM; RUIFE: } goto Spjd_; dFcAb: $uniacid = $_W["\x75\x6e\151\x61\143\x69\144"]; goto EaYqt; Spjd_: RLtou: goto ie5Pw; gXeKA: global $_W; goto dFcAb; ie5Pw: $complete_order = pdo_fetchall("\123\x45\114\105\x43\124\40\151\x64\54\166\145\162\x69\x66\x79\x5f\156\x75\155\x62\x65\x72\x20\x46\122\117\x4d\x20" . tablename($this->table_order) . "\x20\x57\x48\105\122\105\x20\165\x6e\x69\x61\143\151\x64\75\x3a\x75\156\151\x61\x63\151\x64\x20\101\x4e\104\40\x6c\x65\163\163\157\x6e\137\x74\171\x70\x65\x3d\72\154\145\x73\x73\x6f\156\137\x74\171\x70\x65\40\x41\x4e\104\x20\163\x74\141\164\165\163\76\x3a\163\x74\141\x74\x75\x73\x20\x41\x4e\104\x20\x69\x73\137\166\145\162\x69\x66\171\75\72\151\x73\137\x76\145\x72\151\146\171\40", array("\72\165\x6e\x69\141\x63\151\x64" => $uniacid, "\72\x6c\145\x73\163\157\156\137\164\x79\x70\145" => 1, "\x3a\x73\x74\x61\164\x75\163" => 0, "\72\151\163\137\166\x65\162\x69\x66\171" => 1)); goto fSEsb; n7cZy: } public function updateLessonStock($lessonid, $spec_id, $change) { goto K6rYh; fy0FR: sKYfa: goto kJww9; GNmwd: O82Sr: goto ICEUG; DDygN: cZPD8: goto xq3LO; xq3LO: Jj1lj: goto EQhSp; lFcO8: pdo_update($this->table_lesson_parent, array("\163\164\157\x63\153\x20\55\75" => abs($change)), array("\151\144" => $lessonid)); goto DDygN; K6rYh: if ($change > 0) { goto sKYfa; } goto RX1OJ; QV2GB: P7NNh: goto TYXZ4; CjQ_P: goto Jj1lj; goto fy0FR; RX1OJ: if ($change < 0) { goto P7NNh; } goto CjQ_P; kJww9: if (!pdo_update($this->table_lesson_spec, array("\x73\x70\x65\x63\137\163\x74\157\143\153\x20\x2b\x3d" => $change), array("\x73\x70\145\x63\137\151\144" => $spec_id))) { goto O82Sr; } goto bs1A5; bs1A5: pdo_update($this->table_lesson_parent, array("\163\164\x6f\x63\x6b\40\x2b\75" => $change), array("\151\144" => $lessonid)); goto GNmwd; ICEUG: goto Jj1lj; goto QV2GB; TYXZ4: if (!pdo_update($this->table_lesson_spec, array("\163\160\145\x63\x5f\x73\x74\x6f\143\x6b\40\55\75" => abs($change)), array("\x73\x70\145\143\137\x69\x64" => $spec_id))) { goto cZPD8; } goto lFcO8; EQhSp: } public function getParentid($uid) { goto fpqWD; z0t6e: return "\x30"; goto rznTG; HvGsB: ZxahK: goto dILRj; tcpeJ: dfnlO: goto gczYa; rznTG: goto ZxahK; goto tcpeJ; fpqWD: global $_W; goto cxB2Z; gczYa: return $parent["\x70\141\x72\x65\x6e\164\151\144"]; goto HvGsB; cxB2Z: $parent = pdo_get($this->table_member, array("\x75\156\x69\x61\x63\x69\x64" => $_W["\165\x6e\151\x61\x63\x69\x64"], "\x75\x69\x64" => $uid), array("\160\141\162\145\156\x74\151\144")); goto r38lC; r38lC: if ($parent) { goto dfnlO; } goto z0t6e; dILRj: } public function getAgentCommission1($commission_type = 0, $lessoncommission, $settingcommission, $price, $uid) { goto yYjpF; yYjpF: global $_W; goto Gp1Cn; WaYGV: return $commission; goto p0l3b; ofw8w: vlbmR: goto IT12v; cU5N7: $commission = round($price * $member["\x63\x6f\155\155\x69\x73\163\x69\157\156\x31"] * 0.01, 2); goto ofw8w; GmGIX: JCQjb: goto H43ix; IT12v: goto vs3PL; goto eWAE8; xC426: iQU8Z: goto cU5N7; qDOfM: $member = pdo_fetch("\x53\x45\x4c\105\103\x54\40\x62\56\x63\x6f\x6d\x6d\x69\163\163\x69\x6f\156\61\40\x46\122\117\x4d\40" . tablename($this->table_member) . "\x20\x61\40\114\x45\x46\124\x20\112\x4f\111\x4e\40" . tablename($this->table_commission_level) . "\x20\x62\40\x4f\116\x20\141\56\141\x67\145\156\164\x5f\154\x65\166\145\154\75\x62\x2e\151\x64\40\127\110\x45\122\x45\x20\x61\56\x75\156\x69\141\143\x69\x64\x3d\72\x75\156\151\141\x63\x69\x64\40\101\x4e\x44\x20\x61\56\165\151\144\75\72\165\151\x64", array("\72\x75\x6e\151\141\143\x69\144" => $_W["\x75\156\151\x61\x63\151\x64"], "\x3a\x75\x69\144" => $uid)); goto HXw0n; d_0jW: goto JCQjb; goto PSKQl; K2s8w: $commission = $lessoncommission; goto d_0jW; PSKQl: MCTjL: goto bckv0; g6pzx: if (!$commission_type) { goto MCTjL; } goto K2s8w; iY2T3: goto vlbmR; goto xC426; bckv0: $commission = round($price * $lessoncommission * 0.01, 2); goto GmGIX; HXw0n: if ($member["\143\157\155\x6d\151\163\163\151\157\156\x31"]) { goto iQU8Z; } goto LIE62; LIE62: $commission = round($price * $settingcommission * 0.01, 2); goto iY2T3; Gp1Cn: if ($lessoncommission > 0) { goto fxpaz; } goto qDOfM; H43ix: vs3PL: goto WaYGV; eWAE8: fxpaz: goto g6pzx; p0l3b: } public function getAgentCommission2($commission_type = 0, $lessoncommission, $settingcommission, $price, $uid) { goto ZnBgM; w2HBc: if ($member["\x63\157\155\155\x69\163\163\151\x6f\x6e\x32"]) { goto M678n; } goto jKqwp; kckMQ: $commission = $lessoncommission; goto fFcDi; IGSzR: return $commission; goto E9dde; KE2xp: M9i7n: goto thost; YEnCm: $commission = round($price * $lessoncommission * 0.01, 2); goto KE2xp; jKqwp: $commission = round($price * $settingcommission * 0.01, 2); goto tooC8; tmo50: $commission = round($price * $member["\x63\x6f\x6d\x6d\151\163\x73\x69\157\x6e\x32"] * 0.01, 2); goto TGKqj; zB9K6: goto hMxCc; goto vC3ua; vC3ua: BHgXM: goto iJ8BE; ZnBgM: global $_W; goto pDVzC; fFcDi: goto M9i7n; goto BKnvE; AbtAH: $member = pdo_fetch("\123\x45\114\105\103\x54\x20\x62\x2e\143\x6f\x6d\155\x69\x73\163\151\x6f\x6e\x32\40\106\x52\x4f\115\x20" . tablename($this->table_member) . "\x20\x61\x20\114\x45\x46\124\x20\x4a\x4f\x49\116\40" . tablename($this->table_commission_level) . "\x20\x62\40\x4f\x4e\x20\141\56\141\x67\x65\156\x74\x5f\x6c\145\x76\x65\154\x3d\142\x2e\151\144\40\x57\x48\x45\x52\x45\x20\141\56\165\156\151\141\143\x69\144\75\x3a\165\156\151\141\143\151\144\40\101\x4e\x44\x20\141\56\165\151\144\75\72\165\151\144", array("\72\165\x6e\151\x61\143\151\x64" => $_W["\165\x6e\151\x61\143\x69\x64"], "\x3a\165\151\x64" => $uid)); goto w2HBc; BKnvE: QvDtt: goto YEnCm; thost: hMxCc: goto IGSzR; tooC8: goto OxMiM; goto n2F67; iJ8BE: if (!$commission_type) { goto QvDtt; } goto kckMQ; TGKqj: OxMiM: goto zB9K6; pDVzC: if ($lessoncommission > 0) { goto BHgXM; } goto AbtAH; n2F67: M678n: goto tmo50; E9dde: } public function getAgentCommission3($commission_type = 0, $lessoncommission, $settingcommission, $price, $uid) { goto hI5s_; k5MtB: $commission = $lessoncommission; goto hPHmX; jWUAW: $commission = round($price * $member["\143\x6f\155\155\151\163\x73\x69\x6f\156\x33"] * 0.01, 2); goto Z0Izd; sexxJ: if (!$commission_type) { goto mHrZN; } goto k5MtB; l5T1d: if ($member["\x63\157\155\155\x69\163\x73\151\x6f\x6e\63"]) { goto Yo3_f; } goto JNkUt; S0R4X: $member = pdo_fetch("\123\105\114\x45\x43\124\40\x62\56\x63\x6f\x6d\x6d\x69\x73\163\x69\x6f\x6e\63\40\106\122\117\x4d\x20" . tablename($this->table_member) . "\40\x61\x20\114\105\106\124\x20\112\x4f\x49\116\40" . tablename($this->table_commission_level) . "\40\142\x20\117\x4e\40\141\56\141\x67\145\x6e\164\x5f\154\x65\166\145\154\x3d\x62\x2e\151\144\x20\x57\x48\x45\x52\105\x20\x61\x2e\x75\156\x69\141\x63\x69\x64\75\72\x75\x6e\x69\141\143\151\x64\x20\101\116\x44\40\141\56\165\151\x64\x3d\72\165\151\144", array("\x3a\x75\156\151\x61\143\x69\x64" => $_W["\165\156\151\141\143\x69\144"], "\x3a\x75\x69\144" => $uid)); goto l5T1d; S14xH: $commission = round($price * $lessoncommission * 0.01, 2); goto RCSK9; JNkUt: $commission = round($price * $settingcommission * 0.01, 2); goto qfy2X; RCSK9: WyVrB: goto iXazX; KS9vU: if ($lessoncommission > 0) { goto uniyT; } goto S0R4X; Z0Izd: Y5U1D: goto Q2cmL; DgwCK: uniyT: goto sexxJ; iXazX: TI6jO: goto KFVIK; hPHmX: goto WyVrB; goto lIuW7; gBuqz: Yo3_f: goto jWUAW; KFVIK: return $commission; goto jIYOz; qfy2X: goto Y5U1D; goto gBuqz; lIuW7: mHrZN: goto S14xH; Q2cmL: goto TI6jO; goto DgwCK; hI5s_: global $_W; goto KS9vU; jIYOz: } public function getArticleLastAndNext($section, $title_list) { goto ljaSk; dkw9N: foreach ($section_sort as $key => $value) { goto k0V6l; uIWXj: $next_article = $section_sort[$key + 1]; goto MkZsx; k0V6l: if (!($value["\151\x64"] == $section["\x69\x64"])) { goto o3vbv; } goto RNIK_; RNIK_: $prev_article = $section_sort[$key - 1]; goto uIWXj; MkZsx: o3vbv: goto L0jbl; L0jbl: JNxNl: goto NL_AR; NL_AR: } goto YR0DT; bFyid: Rrn4P: goto xZZHU; db8Bw: return $data; goto U8G3A; rkdZu: $prev_article = pdo_fetch("\123\105\x4c\105\103\124\40\x69\x64\54\x70\141\162\145\x6e\x74\x69\144\54\x74\x69\x74\x6c\x65\x20\106\x52\117\x4d\x20" . tablename($this->table_lesson_son) . "\40\x57\x48\105\122\105\40\x70\141\162\x65\x6e\x74\x69\144\x3d\x3a\160\141\x72\x65\x6e\164\x69\144\x20\x41\116\x44\x20\x74\151\x74\154\x65\137\151\x64\75\72\164\151\x74\x6c\145\x5f\151\x64\40\x41\116\x44\40\163\164\x61\x74\x75\163\x3d\x3a\x73\164\x61\164\x75\163\40\x4f\122\x44\x45\122\40\102\x59\40\144\151\x73\x70\x6c\x61\171\x6f\162\x64\x65\x72\40\x44\105\x53\x43\x2c\151\x64\40\x41\x53\x43\x20\x4c\111\115\x49\x54\40\61", array("\72\160\141\162\145\156\164\x69\x64" => $section["\160\141\162\x65\156\x74\x69\x64"], "\x3a\x74\151\164\154\x65\137\x69\x64" => $prev_title["\164\151\x74\154\145\x5f\151\x64"], "\72\x73\164\141\164\165\163" => 1)); goto pGUAB; W7Ssd: goto DheOy; goto bNtKI; bNtKI: isN0G: goto V3D22; J5j2G: foreach ($title_list as $key => $value) { goto M3k9r; V80DQ: $prev_title = $title_list[$key - 1]; goto JvK3u; JvK3u: $next_title = $title_list[$key + 1]; goto jmSPU; M3k9r: if (!($value["\x74\151\x74\154\145\137\151\x64"] == $section["\x74\x69\164\154\145\137\151\x64"])) { goto Uz5zY; } goto V80DQ; H5X7X: f2nYb: goto vGxWx; jmSPU: Uz5zY: goto H5X7X; vGxWx: } goto bFyid; oL5f8: foreach ($section_sort as $key => $value) { goto Rimdi; uwwVk: $next_article = $section_sort[$key + 1]; goto lWUsE; gxSsz: N9URv: goto g8t2V; Rimdi: if (!($value["\151\144"] == $section["\x69\144"])) { goto P8WL6; } goto g0hvJ; g0hvJ: $prev_article = $section_sort[$key - 1]; goto uwwVk; lWUsE: P8WL6: goto gxSsz; g8t2V: } goto jrlPO; RRRjS: DheOy: goto jcu1M; ljaSk: if ($section["\164\x69\x74\154\x65\137\151\x64"]) { goto isN0G; } goto kjcT7; V3D22: $section_sort = pdo_fetchall("\x53\105\x4c\x45\103\124\x20\151\144\x2c\x70\141\162\x65\x6e\x74\151\144\54\x74\151\x74\x6c\145\x20\x46\122\x4f\115\x20" . tablename($this->table_lesson_son) . "\40\x57\110\105\122\x45\40\160\x61\x72\145\156\164\x69\x64\75\72\x70\x61\162\x65\156\164\x69\144\x20\x41\x4e\104\40\x74\151\x74\154\145\137\x69\144\75\72\x74\151\164\154\145\137\x69\144\x20\x41\x4e\x44\x20\163\x74\x61\164\165\163\75\x3a\x73\164\x61\x74\165\163\40\117\x52\104\x45\122\x20\102\131\x20\x64\151\x73\x70\154\x61\x79\x6f\x72\144\x65\162\40\104\105\123\103\54\151\144\40\101\123\103", array("\x3a\160\x61\162\145\156\164\x69\144" => $section["\160\141\162\x65\156\164\151\144"], "\x3a\164\151\x74\154\145\x5f\x69\x64" => $section["\x74\151\x74\154\x65\137\x69\x64"], "\x3a\163\x74\x61\164\x75\163" => 1)); goto oL5f8; YR0DT: f2Lzz: goto W7Ssd; wRxyV: if ($next_article) { goto vLpS8; } goto ynhho; ynhho: $next_article = pdo_fetch("\123\105\x4c\x45\x43\x54\40\x69\x64\54\160\x61\162\x65\x6e\x74\x69\x64\54\x74\x69\x74\154\x65\x20\x46\122\117\115\x20" . tablename($this->table_lesson_son) . "\x20\127\110\105\122\105\x20\x70\141\x72\x65\x6e\x74\x69\144\x3d\x3a\x70\141\162\145\156\x74\151\144\x20\101\x4e\x44\x20\x74\x69\x74\x6c\x65\137\x69\x64\75\72\164\x69\164\154\145\x5f\151\144\x20\x41\x4e\x44\x20\x73\x74\x61\x74\165\163\x3d\72\x73\x74\141\164\x75\x73\40\117\122\104\x45\x52\40\102\131\40\x64\x69\163\160\x6c\x61\171\x6f\162\x64\x65\x72\x20\104\x45\x53\103\54\151\x64\40\101\x53\x43\40\114\x49\115\111\x54\x20\x31", array("\x3a\160\x61\x72\145\x6e\164\151\x64" => $section["\160\141\162\x65\156\x74\151\144"], "\72\164\x69\x74\x6c\145\137\151\x64" => $next_title["\164\151\164\154\145\x5f\x69\144"], "\x3a\163\x74\141\x74\165\163" => 1)); goto Iy_YX; kjcT7: $section_sort = pdo_fetchall("\123\x45\114\105\103\x54\x20\151\144\x2c\x70\141\x72\145\156\164\x69\144\x2c\164\x69\x74\x6c\145\x20\106\x52\x4f\x4d\x20" . tablename($this->table_lesson_son) . "\40\127\110\x45\x52\105\40\x70\x61\162\x65\x6e\x74\x69\x64\x3d\72\160\x61\162\145\x6e\x74\x69\144\40\x41\x4e\104\40\x74\151\164\154\x65\x5f\151\x64\75\72\164\151\164\x6c\x65\x5f\151\144\x20\x41\x4e\104\x20\x73\x74\141\x74\165\163\x3d\72\x73\164\x61\164\x75\163\x20\x4f\x52\x44\105\122\40\102\131\x20\x64\x69\163\x70\x6c\141\x79\x6f\x72\x64\x65\x72\x20\104\105\x53\x43\x2c\151\144\x20\x41\123\103", array("\72\x70\141\x72\x65\x6e\164\x69\x64" => $section["\160\141\x72\145\x6e\164\x69\144"], "\72\x74\151\x74\x6c\145\x5f\x69\144" => 0, "\x3a\x73\164\x61\x74\x75\x73" => 1)); goto dkw9N; jrlPO: Vam8U: goto J5j2G; jcu1M: $data = array("\160\x72\x65\166\x5f\141\x72\164\x69\x63\x6c\x65" => $prev_article, "\156\145\170\x74\137\x61\162\164\151\143\x6c\145" => $next_article); goto db8Bw; pGUAB: xm3Wx: goto wRxyV; Iy_YX: vLpS8: goto RRRjS; xZZHU: if ($prev_article) { goto xm3Wx; } goto rkdZu; U8G3A: } public function getLessonDiscount($lessonid) { goto g5HI6; wFWod: return $discount; goto tWncv; g5HI6: global $_W; goto FW4D1; FUU94: $discount = $discount_lesson["\x64\x69\x73\143\157\x75\156\164"] ? $discount_lesson["\x64\x69\163\x63\157\x75\x6e\164"] * 0.01 : 1; goto wFWod; FW4D1: $discount_lesson = pdo_fetch("\123\x45\114\x45\103\x54\40\x64\x69\x73\x63\x6f\165\x6e\x74\x20\x46\x52\x4f\115\x20" . tablename($this->table_discount_lesson) . "\40\x57\110\105\x52\x45\40\165\156\151\141\143\x69\x64\75\72\x75\x6e\151\141\143\151\144\x20\101\x4e\104\40\154\x65\x73\163\x6f\x6e\137\151\x64\75\72\x6c\145\163\163\157\156\x5f\x69\x64\x20\x41\x4e\x44\40\x73\x74\141\162\x74\x74\151\155\x65\x3c\x3a\164\x69\x6d\x65\x20\x41\x4e\104\x20\x65\x6e\144\x74\151\155\x65\76\x3a\164\151\155\x65", array("\x3a\x75\x6e\x69\x61\x63\151\x64" => $_W["\x75\x6e\151\141\143\151\x64"], "\x3a\x6c\145\x73\x73\x6f\x6e\137\x69\x64" => $lessonid, "\72\x74\151\155\x65" => time())); goto FUU94; tWncv: } public function getMarketParams() { goto K002g; Nd1st: cache_write("\x66\x79\137\154\x65\x73\163\157\x6e\137" . $_W["\165\x6e\151\x61\x63\151\144"] . "\137\155\x61\162\x6b\145\164", $market); goto xkfcg; E5oBa: if (!empty($market)) { goto vpFvb; } goto JV1un; xkfcg: vpFvb: goto YLrQn; JJyKJ: $market = cache_load("\146\171\x5f\x6c\145\163\x73\x6f\x6e\x5f" . $_W["\x75\156\151\141\x63\x69\x64"] . "\x5f\x6d\141\x72\x6b\145\164"); goto E5oBa; JV1un: $market = pdo_get($this->table_market, array("\x75\156\x69\x61\x63\x69\x64" => $_W["\x75\x6e\151\141\x63\151\144"])); goto Nd1st; K002g: global $_W; goto JJyKJ; YLrQn: return $market; goto jCq4j; jCq4j: } public function getArticleCategory() { goto el7bz; el7bz: global $_W; goto u3mSK; tbNWm: if (!empty($list)) { goto Obh6h; } goto fQpbS; u3mSK: $list = cache_load("\x66\x79\137\154\145\x73\163\x6f\x6e\137" . $_W["\x75\156\x69\141\x63\x69\x64"] . "\137\x61\x72\164\x69\x63\154\x65\x5f\x63\141\164\x65\x67\x6f\162\171\x6c\151\x73\164"); goto tbNWm; fQpbS: $list = pdo_fetchall("\123\x45\114\105\103\124\40\52\40\x46\122\x4f\115\40" . tablename($this->table_article_category) . "\40\127\110\x45\x52\x45\40\x75\x6e\151\141\x63\151\144\x3d\72\x75\156\x69\x61\x63\151\144\x20\101\116\104\40\163\x74\x61\x74\165\x73\75\72\x73\x74\141\164\165\163\40\117\122\x44\x45\x52\40\102\131\x20\144\x69\163\x70\x6c\x61\x79\157\162\144\x65\x72\40\104\105\123\103\x2c\x20\151\144\x20\x41\123\103", array("\72\x75\156\x69\x61\x63\151\x64" => $_W["\x75\x6e\151\x61\x63\151\144"], "\x3a\163\x74\141\x74\x75\x73" => 1)); goto V9Vml; FkdAX: Obh6h: goto LjWzv; LjWzv: return $list; goto NJuUC; V9Vml: cache_write("\146\x79\137\154\145\x73\x73\157\x6e\137" . $_W["\x75\x6e\x69\x61\x63\151\x64"] . "\137\x61\162\164\151\x63\154\x65\137\x63\x61\164\x65\147\157\x72\171\154\x69\163\164", $list); goto FkdAX; NJuUC: } public function getTeacherCategory() { goto FpboJ; U2vaZ: cache_write("\x66\x79\137\x6c\x65\163\163\157\156\x5f" . $_W["\x75\x6e\x69\141\143\x69\x64"] . "\x5f\164\145\141\x63\x68\x65\x72\x5f\x63\x61\164\145\x67\x6f\162\x79\x6c\151\x73\x74", $category_list); goto E9wYz; yv1RE: return $category_list; goto hqesA; E9wYz: CKG6b: goto yv1RE; NRE8h: fx8FV: goto U2vaZ; JL3PP: $category_list = array(); goto ojeGP; FpboJ: global $_W; goto yLYaS; EDa3s: if (!empty($category_list)) { goto CKG6b; } goto gr5eo; ojeGP: foreach ($list as $v) { $category_list[$v["\x69\x64"]] = $v["\156\141\155\145"]; tniTF: } goto NRE8h; gr5eo: $list = pdo_fetchall("\123\x45\114\x45\103\124\40\52\x20\x46\x52\x4f\x4d\40" . tablename($this->table_teacher_category) . "\40\x57\x48\x45\x52\x45\x20\165\x6e\151\x61\x63\x69\144\75\x3a\165\156\x69\141\x63\x69\144\40\101\x4e\x44\40\x73\164\141\164\x75\x73\75\72\163\x74\141\x74\x75\x73\40\117\x52\104\105\122\40\x42\131\x20\x64\151\x73\160\154\141\171\x6f\162\144\145\x72\x20\104\105\x53\x43\x2c\40\x69\x64\40\x41\123\103", array("\x3a\x75\x6e\151\x61\143\151\144" => $_W["\x75\x6e\151\141\x63\x69\x64"], "\72\x73\164\x61\x74\165\163" => 1)); goto JL3PP; yLYaS: $category_list = cache_load("\146\x79\137\154\145\163\163\157\x6e\x5f" . $_W["\165\x6e\x69\x61\x63\x69\144"] . "\x5f\x74\145\x61\x63\150\145\x72\x5f\143\141\x74\x65\147\157\162\x79\x6c\x69\x73\164"); goto EDa3s; hqesA: } public function getRandMember($limit = 200) { goto cMFHc; Yf8PW: foreach ($member_list as $k => $v) { goto gFhYz; cRcDh: $v["\156\151\x63\153\x6e\x61\x6d\145"] = $firstStr . "\52\52"; goto ODhJ7; gFhYz: $strlen = mb_strlen($v["\156\x69\143\x6b\156\x61\155\x65"], "\165\x74\x66\55\x38"); goto mmn3s; mmn3s: $firstStr = mb_substr($v["\x6e\151\x63\x6b\156\x61\155\x65"], 0, 4, "\x75\164\x66\55\70"); goto cRcDh; ODhJ7: $list[] = $v["\156\151\143\x6b\156\x61\x6d\x65"] . $time_arr[array_rand($time_arr, 1)]; goto Yf0mS; Yf0mS: UFabh: goto Kt09A; Kt09A: } goto sLGND; fb40E: $member_list = pdo_fetchall("\x53\x45\x4c\105\x43\x54\40\156\151\143\x6b\x6e\141\x6d\x65\x20\x46\122\x4f\115\x20" . tablename($this->table_mc_members) . "\x20\x57\x48\105\122\105\40\165\x6e\x69\x61\143\x69\x64\x3d\72\165\x6e\151\141\143\x69\144\40\x41\x4e\x44\40\156\x69\143\153\x6e\x61\x6d\x65\x21\x3d\72\156\151\x63\x6b\156\x61\155\x65\x20\x4f\122\x44\x45\122\40\x42\x59\40\122\x41\x4e\104\50\x29\x20\x4c\111\115\111\x54\x20\x30\x2c{$limit}\x20", array("\x3a\x75\156\x69\x61\x63\x69\x64" => $_W["\x75\x6e\x69\141\x63\151\144"], "\72\156\151\143\153\x6e\x61\x6d\x65" => '')); goto xVo9B; qrhNd: gkUaM: goto k3QPS; EqDNB: cache_write("\x66\x79\137\x6c\145\163\x73\157\x6e\x5f" . $_W["\165\x6e\x69\141\x63\x69\x64"] . "\137\155\x65\155\x62\x65\162\x5f\162\141\156\144\137\154\151\163\164\137\143\x61\143\x68\x65\x5f\164\x69\x6d\145", time() + 300); goto KCbbi; idcoJ: if (!(empty($list) || time() > $cache_time)) { goto gkUaM; } goto fb40E; cMFHc: global $_W; goto WWZ0L; DPvdI: $cache_time = intval(cache_load("\x66\171\x5f\x6c\x65\x73\163\157\156\x5f" . $_W["\165\x6e\x69\141\x63\151\144"] . "\137\155\145\x6d\142\145\162\x5f\x72\141\156\x64\137\x6c\151\163\164\x5f\x63\141\x63\150\145\x5f\164\x69\x6d\145")); goto idcoJ; F70q0: $list = array(); goto Yf8PW; WWZ0L: $list = cache_load("\146\x79\137\154\145\163\163\x6f\x6e\x5f" . $_W["\x75\156\151\141\x63\151\x64"] . "\137\155\x65\x6d\x62\145\x72\x5f\x72\x61\x6e\144\137\154\151\x73\164"); goto DPvdI; k3QPS: return $list; goto t0p1s; sLGND: vLwUm: goto EqDNB; xVo9B: $time_arr = array("\345\210\232\345\x88\232", "\x31\345\210\x86\351\222\x9f\345\211\x8d", "\62\345\210\x86\351\x92\237\345\211\x8d", "\63\345\210\x86\351\222\x9f\xe5\211\x8d", "\65\345\210\206\xe9\222\237\xe5\211\215", "\x36\345\x88\x86\351\222\237\345\211\x8d", "\x38\345\x88\206\xe9\222\237\345\211\215", "\x31\60\345\210\x86\xe9\x92\x9f\xe5\211\215", "\x31\x35\345\210\206\351\x92\x9f\xe5\x89\215", "\xe5\215\x8a\344\270\xaa\xe5\260\217\346\227\xb6\xe5\211\215", "\x31\344\xb8\252\345\xb0\217\xe6\227\266\xe5\x89\x8d", "\x32\xe4\xb8\252\xe5\260\x8f\346\x97\266\345\x89\x8d", "\63\xe4\270\252\345\260\217\xe6\227\266\xe5\211\x8d", "\64\xe4\xb8\252\xe5\xb0\217\xe6\x97\xb6\345\211\215", "\65\xe4\270\252\345\260\x8f\xe6\227\xb6\xe5\x89\x8d", "\x36\xe4\xb8\252\345\xb0\x8f\xe6\x97\xb6\345\x89\215"); goto F70q0; KCbbi: cache_write("\x66\x79\137\154\x65\163\163\157\x6e\x5f" . $_W["\x75\x6e\151\141\x63\x69\x64"] . "\137\x6d\145\x6d\142\x65\x72\137\x72\141\x6e\144\x5f\154\151\163\x74", $list); goto qrhNd; t0p1s: } public function privateDownloadUrl($accessKey, $secretKey, $baseUrl, $expires = 3600) { goto cQy5D; cQy5D: $deadline = time() + $expires; goto qG59D; E_Lu9: goto rxEHb; goto LhfwI; nevZ2: $token = $accessKey . "\72" . $hmac; goto n2hjv; LhfwI: o55Zz: goto KVRPV; L__ig: rxEHb: goto iOSjG; qG59D: $pos = strpos($baseUrl, "\77"); goto Vh9oV; QP3m3: $hmac = str_replace($find, $replace, base64_encode($hmac)); goto nevZ2; KVRPV: $baseUrl .= "\x26\145\x3d"; goto L__ig; Goh5v: $hmac = hash_hmac("\x73\150\141\61", $baseUrl, $secretKey, true); goto m7XSN; Vh9oV: if ($pos !== false) { goto o55Zz; } goto L_9za; L_9za: $baseUrl .= "\77\145\75"; goto E_Lu9; YdmcG: $replace = array("\55", "\x5f"); goto QP3m3; n2hjv: return "{$baseUrl}\46\x74\x6f\153\x65\x6e\x3d{$token}"; goto kKNOJ; m7XSN: $find = array("\53", "\x2f"); goto YdmcG; iOSjG: $baseUrl .= $deadline; goto Goh5v; kKNOJ: } public function tencentDownloadUrl($qcloud, $access_url) { goto S9g62; XJ3Q_: return $qcloudCos->getXmlSignature($qcloud["\x73\145\x63\x72\145\x74\x69\x64"], $qcloud["\x73\x65\143\162\x65\x74\153\x65\171"], $Method = "\x47\105\x54", $access_url); goto B0UjB; p2Ggj: wnL28: goto f1fCZ; B0UjB: goto wnL28; goto jSoof; jSoof: MwWkE: goto ORGsr; S9g62: $qcloudCos = new QcloudCos(); goto NxJJg; dODGy: goto wnL28; goto SemCg; ORGsr: return $qcloudCos->getJsonSignature($qcloud, $access_url); goto p2Ggj; SemCg: QXAZk: goto XJ3Q_; k2bRD: if (empty($qcloud["\161\x63\154\157\x75\x64\137\x74\171\x70\145"]) || $qcloud["\161\143\154\157\165\x64\x5f\x74\171\x70\145"] == "\x6a\x73\157\x6e") { goto MwWkE; } goto dODGy; NxJJg: if ($qcloud["\161\x63\x6c\157\165\x64\x5f\x74\x79\160\145"] == "\170\155\x6c") { goto QXAZk; } goto k2bRD; f1fCZ: } public function aliyunOssPlayUrl($default_url, $aliyunoss) { goto N99IT; N99IT: $param = explode($aliyunoss["\145\x6e\144\x70\x6f\151\x6e\164"], $default_url); goto t0Ny4; t0Ny4: $play_url = "\x68\x74\164\x70\72\57\x2f" . $aliyunoss["\142\165\143\153\x65\164\137\165\x72\154"] . $param[1]; goto nH5y_; bhIYQ: FAdc8: goto QY6nB; Aqor0: $play_url = "\x68\164\164\160\x73\x3a\x2f\x2f" . $aliyunoss["\x62\x75\143\x6b\x65\x74\137\x75\x72\154"] . $param[1]; goto bhIYQ; nH5y_: if (!$aliyunoss["\x68\x74\164\160\163"]) { goto FAdc8; } goto Aqor0; QY6nB: return $play_url; goto IAjbD; IAjbD: } public function saveImage($url, $image_path, $type = '') { goto wJgXy; RADNE: if (!($type == "\x61\x76\141\164\x61\x72")) { goto ynW0A; } goto kX62U; v09X3: curl_setopt($curl, CURLOPT_FOLLOWLOCATION, true); goto ZnQa2; ZJphT: curl_setopt($curl, CURLOPT_URL, $url); goto u6af2; Ljdcx: AutiR: goto S0wo_; sGQaa: $type = $result[2]; goto GQ0q3; uwNpK: if (!file_put_contents($new_file, base64_decode(str_replace($result[1], '', $img_content)))) { goto muBHo; } goto lzcjv; X1AuA: pPoXs: goto RUTvu; q_QoQ: if (!($code == 200)) { goto nfah7; } goto b265E; szrP_: curl_setopt($curl, CURLOPT_HTTPHEADER, $header); goto JRHII; wJgXy: global $_W; goto bYXT0; MgdPe: $img_content = $imgBase64Code; goto vcChO; nASQ5: curl_close($curl); goto q_QoQ; lzcjv: return $type; goto hcQPQ; b265E: $imgBase64Code = "\144\141\164\x61\72\151\x6d\141\x67\145\x2f\x6a\x70\x65\147\73\x62\x61\163\145\x36\x34\x2c" . base64_encode($data); goto w6dYD; RUTvu: $new_file = $image_path . $type; goto uwNpK; vcChO: if (!preg_match("\x2f\x5e\50\x64\x61\164\x61\72\x5c\163\52\151\155\141\147\145\134\x2f\x28\134\167\x2b\51\x3b\142\141\x73\145\66\x34\x2c\51\x2f", $img_content, $result)) { goto qSKL3; } goto sGQaa; bYXT0: $header = array("\x55\163\145\162\55\101\x67\145\x6e\x74\72\x20\x4d\157\172\151\154\x6c\x61\x2f\65\56\60\x20\50\x57\151\x6e\144\157\167\163\40\116\x54\x20\66\56\x31\x3b\x20\127\x69\x6e\x36\x34\73\40\x78\x36\x34\73\x20\162\x76\x3a\64\x35\x2e\60\51\40\x47\x65\x63\x6b\157\57\62\x30\61\60\x30\61\x30\61\x20\106\151\x72\x65\146\x6f\170\57\x34\x35\x2e\x30", "\x41\x63\x63\x65\x70\x74\x2d\114\x61\x6e\147\x75\x61\147\x65\x3a\40\x7a\x68\55\103\116\x2c\172\150\73\x71\x3d\60\x2e\70\x2c\145\x6e\55\125\x53\73\x71\x3d\x30\56\65\x2c\x65\156\x3b\161\x3d\60\x2e\63", "\x41\143\143\145\x70\164\55\x45\x6e\143\157\x64\151\156\x67\72\40\x67\x7a\151\160\x2c\x20\144\x65\x66\x6c\141\x74\x65"); goto No6nc; vDiG_: $type = "\x6a\x70\147"; goto X1AuA; JRHII: $data = curl_exec($curl); goto fuCKu; kX62U: echo "\350\216\xb7\345\217\226\345\xa4\xb4\xe5\203\217\xe5\244\xb1\xe8\xb4\xa5\xef\xbc\x8c\xe8\257\267\xe5\234\xa8\xe4\xb8\xaa\344\xba\xba\344\xb8\xad\345\xbf\203\347\x82\271\xe5\207\xbb\xe5\244\264\345\x83\x8f\xe6\x9b\xb4\xe6\226\260"; goto sENuP; ZeQ4d: curl_setopt($curl, CURLOPT_ENCODING, "\x67\172\x69\x70"); goto szrP_; ZnQa2: curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false); goto ZeQ4d; hcQPQ: goto AutiR; goto Qpm4D; w6dYD: nfah7: goto MgdPe; Qpm4D: muBHo: goto RADNE; fuCKu: $code = curl_getinfo($curl, CURLINFO_HTTP_CODE); goto nASQ5; u6af2: curl_setopt($curl, CURLOPT_RETURNTRANSFER, true); goto v09X3; No6nc: $curl = curl_init(); goto ZJphT; sENuP: ynW0A: goto Ljdcx; GQ0q3: if (!($type == "\x6a\x70\x65\147")) { goto pPoXs; } goto vDiG_; S0wo_: qSKL3: goto ic3I5; ic3I5: } public function img_water_mark($srcImg, $waterImg, $savepath = null, $savename = null, $x, $y, $alpha = 100) { goto VUvzi; r2HBN: return -2; goto g1lrj; pLsMV: return -3; goto ZCM_x; ZCM_x: VXhbI: goto sOmmn; MI1u4: if ($srcinfo) { goto qA01Q; } goto bC3h5; WWDQf: $waterinfo = @getimagesize($waterImg); goto JKQa_; tJBuI: $savefile = $savepath . "\57" . $savename; goto X2zXt; HierW: imagedestroy($waterImgObj); goto uIoa7; sOmmn: $waterImgObj = $this->image_create_from_ext($waterImg); goto nCdE2; dWBNb: amkgG: goto TFito; JKQa_: if ($waterinfo) { goto xii5t; } goto r2HBN; YJ6eb: switch ($srcinfo[2]) { case 1: imagegif($srcImgObj, $savefile); goto jvZ0d; case 2: imagejpeg($srcImgObj, $savefile); goto jvZ0d; case 3: imagepng($srcImgObj, $savefile); goto jvZ0d; default: return -5; } goto dWBNb; uIoa7: return $savefile; goto FiApl; T2QuK: $name = $temp["\142\141\x73\x65\x6e\141\x6d\145"]; goto Ucw1W; w067h: return -4; goto G8tDL; X2zXt: $srcinfo = @getimagesize($srcImg); goto MI1u4; nCdE2: if ($waterImgObj) { goto wp8VN; } goto w067h; Ucw1W: $path = $temp["\x64\151\x72\x6e\x61\x6d\x65"]; goto DiPcK; MBd1a: imagecopymerge($srcImgObj, $waterImgObj, $x, $y, 0, 0, $waterinfo[0], $waterinfo[1], $alpha); goto YJ6eb; deiKR: if ($srcImgObj) { goto VXhbI; } goto pLsMV; pAcAC: $savepath = $savepath ? $savepath : $path; goto tJBuI; G8tDL: wp8VN: goto MBd1a; TFito: jvZ0d: goto PhATP; MgHWO: $srcImgObj = $this->image_create_from_ext($srcImg); goto deiKR; DiPcK: $exte = $temp["\x65\170\164\x65\156\x73\151\x6f\x6e"]; goto F4yb7; PhATP: imagedestroy($srcImgObj); goto HierW; F4yb7: $savename = $savename ? $savename : $name; goto pAcAC; g1lrj: xii5t: goto MgHWO; euiIh: qA01Q: goto WWDQf; VUvzi: $temp = pathinfo($srcImg); goto T2QuK; bC3h5: return -1; goto euiIh; FiApl: } public function image_create_from_ext($imgfile) { goto KpxIg; yZsgp: lIWyB: goto UULoe; wIVbX: $im = null; goto vtk0e; vtk0e: switch ($info[2]) { case 1: $im = imagecreatefromgif($imgfile); goto lIWyB; case 2: $im = imagecreatefromjpeg($imgfile); goto lIWyB; case 3: $im = imagecreatefrompng($imgfile); goto lIWyB; } goto x73Vb; x73Vb: qtr9O: goto yZsgp; UULoe: return $im; goto whX4i; KpxIg: $info = getimagesize($imgfile); goto wIVbX; whX4i: } public function resize($imgsrc, $imgdst, $maxWidth = 1024, $maxHeight = 1024, $imgQuality) { goto nkc_k; AuY0A: AVELC: goto XysfH; HJfVv: if (!($width < $maxWidth || $height < $maxHeight)) { goto G0sFo; } goto xpyaU; nkc_k: list($width, $height, $type) = getimagesize($imgsrc); goto HJfVv; Vnvni: if (!($scale > 1)) { goto EFuWx; } goto mfMtC; ef5w0: switch ($type) { case 1: goto sG2a_; PkXR5: imagecopyresampled($image_wp, $image, 0, 0, 0, 0, $new_width, $new_height, $width, $height); goto nw6JR; nw6JR: imagejpeg($image_wp, $imgdst, $imgQuality); goto RG9A7; sG2a_: $image_wp = imagecreatetruecolor($new_width, $new_height); goto JRirk; Q64ZJ: goto AVELC; goto URe6N; JRirk: $image = imagecreatefromgif($imgsrc); goto PkXR5; RG9A7: imagedestroy($image_wp); goto Q64ZJ; URe6N: case 2: goto k7FSu; raMAC: goto AVELC; goto QanRJ; Um_R0: $image = imagecreatefromjpeg($imgsrc); goto haeRj; haeRj: imagecopyresampled($image_wp, $image, 0, 0, 0, 0, $new_width, $new_height, $width, $height); goto U2xg4; k7FSu: $image_wp = imagecreatetruecolor($new_width, $new_height); goto Um_R0; wx_Ez: imagedestroy($image_wp); goto raMAC; U2xg4: imagejpeg($image_wp, $imgdst, $imgQuality); goto wx_Ez; QanRJ: case 3: goto aZ7qF; oB23b: goto AVELC; goto F4rHa; lFt90: imagecopyresampled($image_wp, $image, 0, 0, 0, 0, $new_width, $new_height, $width, $height); goto DRUjM; DRUjM: imagejpeg($image_wp, $imgdst, $imgQuality); goto myyNM; myyNM: imagedestroy($image_wp); goto oB23b; aZ7qF: $image_wp = imagecreatetruecolor($new_width, $new_height); goto agDCl; agDCl: $image = imagecreatefrompng($imgsrc); goto lFt90; F4rHa: } goto Owf_2; V6qdo: $scale = min($maxWidth / $width, $maxHeight / $height); goto Vnvni; bjSvR: EFuWx: goto eLIyb; WpU54: G0sFo: goto V6qdo; eLIyb: $new_width = floor($scale * $width); goto trcc2; xpyaU: return; goto WpU54; mfMtC: return; goto bjSvR; Owf_2: Si4e6: goto AuY0A; trcc2: $new_height = floor($scale * $height); goto ef5w0; XysfH: } public function circularImg($imgpath, $savepath) { goto bxWsc; KZME1: $h = $wh[1]; goto xpnIS; PyYHW: if (!($y < $h)) { goto XFS3n; } goto NUgTe; M1ZnN: huLJA: goto IIncw; NUgTe: $rgbColor = imagecolorat($src_img, $x, $y); goto s6jEf; LrKss: goto Dx4D0; goto M1ZnN; sDQvf: $x = 0; goto jhV2D; IawmA: $y++; goto dhnix; Fyr9x: $y_x = $r; goto tKxxI; COMvW: URpDn: goto w68MC; ZNqrt: $src_img = null; goto oCZxy; RaymW: $w = $wh[0]; goto KZME1; s8kNJ: hFAuT: goto eh0g7; dhnix: goto F4ZMz; goto jEvMI; BxZ1c: F4ZMz: goto PyYHW; w68MC: zZ94f: goto IawmA; JwZCm: $r = $w / 2; goto Fyr9x; SMTi_: $img = imagecreatetruecolor($w, $h); goto SqRPJ; w6Aij: if (!($x < $w)) { goto huLJA; } goto FxRFH; Zs6CW: $bg = imagecolorallocatealpha($img, 255, 255, 255, 127); goto VvL_6; FxRFH: $y = 0; goto BxZ1c; eh0g7: $wh = getimagesize($imgpath); goto RaymW; jhV2D: Dx4D0: goto w6Aij; bxWsc: $ext = pathinfo($imgpath); goto ZNqrt; jSOMJ: imagesetpixel($img, $x, $y, $rgbColor); goto COMvW; jEvMI: XFS3n: goto UrVUz; oCZxy: switch ($ext["\x65\170\164\x65\x6e\x73\x69\157\x6e"]) { case "\x6a\160\147": $src_img = imagecreatefromjpeg($imgpath); goto hFAuT; case "\x70\156\147": $src_img = imagecreatefrompng($imgpath); goto hFAuT; } goto IAcpx; UrVUz: tBHe4: goto gib09; SqRPJ: imagesavealpha($img, true); goto Zs6CW; gib09: $x++; goto LrKss; vFAz6: $h = $w; goto SMTi_; EYTvk: imagedestroy($img); goto JeYbn; xpnIS: $w = min($w, $h); goto vFAz6; s6jEf: if (!(($x - $r) * ($x - $r) + ($y - $r) * ($y - $r) < $r * $r)) { goto URpDn; } goto jSOMJ; IAcpx: f6GGl: goto s8kNJ; VvL_6: imagefill($img, 0, 0, $bg); goto JwZCm; IIncw: imagepng($img, $savepath); goto EYTvk; tKxxI: $y_y = $r; goto sDQvf; JeYbn: } public function mergerImg($bigImgPath, $smallImgPath, $width, $height, $bigImgPaths) { goto HiMzG; PfHRe: imageColorTransparent($image_3, $color); goto flCGi; dAstx: $color = imagecolorallocate($image_3, 255, 255, 255); goto IenMl; IenMl: imagefill($image_3, 0, 0, $color); goto PfHRe; TLiDf: $image_photo = imagecreatefromstring(file_get_contents($bigImgPath)); goto ruXyb; yD1IU: imagecopy($image_3, $image_kuang, $width, $height, 0, 0, imagesx($image_kuang), imagesy($image_kuang)); goto Xqc8_; HiMzG: $image_kuang = imagecreatefromstring(file_get_contents($smallImgPath)); goto TLiDf; QeJgL: return $bigImgPaths; goto IVQzv; ruXyb: $image_3 = imageCreatetruecolor(imagesx($image_photo), imagesy($image_photo)); goto dAstx; flCGi: imagecopyresampled($image_3, $image_photo, 0, 0, 0, 0, imagesx($image_photo), imagesy($image_photo), imagesx($image_photo), imagesy($image_photo)); goto yD1IU; Xqc8_: imagejpeg($image_3, $bigImgPaths); goto QeJgL; IVQzv: } public function checkSystenType() { goto oaChs; vhROo: goto sIsnT; goto QAJ_q; ATxSn: if (strpos($_SERVER["\x48\124\x54\120\x5f\125\123\x45\122\x5f\x41\x47\x45\116\x54"], "\x41\x6e\x64\162\157\x69\144")) { goto lVZNK; } goto lJ4J8; Ed1uM: JfH39: goto Zs1IM; BlNBF: return "\141\156\144\162\157\x69\x64"; goto p7V4x; iG9PJ: return "\x69\x6f\163"; goto Ed1uM; oaChs: if (strpos($_SERVER["\110\x54\124\120\x5f\x55\123\x45\122\137\101\107\x45\x4e\124"], "\x69\x50\x68\x6f\x6e\145") || strpos($_SERVER["\110\x54\x54\x50\x5f\125\123\x45\122\137\101\x47\x45\x4e\124"], "\151\120\x61\x64")) { goto vBBAr; } goto ATxSn; NZNec: goto JfH39; goto Bwevl; p7V4x: sIsnT: goto NZNec; lJ4J8: return ''; goto vhROo; Bwevl: vBBAr: goto iG9PJ; QAJ_q: lVZNK: goto BlNBF; Zs1IM: } public function check_black_list($type, $uid = '') { goto h30xc; rJcTH: if (!($type == "\157\x72\144\x65\162" && $member["\142\x6c\141\x63\x6b\154\151\x73\164"] == 1)) { goto wvH6s; } goto bXj1S; zwe0c: return; goto CWdZ5; h30xc: global $_W; goto kLiXG; Ea9zF: wvH6s: goto cU3TN; hZ3J_: message("\345\275\223\345\211\215\347\224\250\346\x88\267\xe5\xb7\262\xe8\242\xab\xe5\x81\234\346\255\242\350\256\xbf\xe9\227\xae\xef\274\214\xe8\xaf\267\350\x81\224\xe7\xb3\xbb\347\256\241\347\x90\x86\345\x91\230"); goto xtHRz; wKx6Q: $member = pdo_get($this->table_member, array("\165\156\x69\x61\143\151\x64" => $_W["\165\x6e\151\x61\143\151\144"], "\x75\x69\x64" => $uid), array("\142\x6c\141\143\153\x6c\x69\163\x74")); goto rPR0o; PInfA: return; goto P9z39; P9z39: Wc0mH: goto JCg88; rPR0o: if ($member["\142\x6c\141\x63\x6b\154\x69\x73\x74"]) { goto Wc0mH; } goto PInfA; kLiXG: if ($uid) { goto k826J; } goto zwe0c; xtHRz: XFV2m: goto rJcTH; JCg88: if (!($type == "\166\x69\x73\151\x74" && $member["\142\154\x61\143\x6b\154\151\163\x74"] == 2)) { goto XFV2m; } goto hZ3J_; CWdZ5: k826J: goto wKx6Q; bXj1S: message("\xe5\275\223\345\x89\215\xe7\224\xa8\xe6\x88\xb7\345\267\262\350\242\253\345\201\x9c\xe6\xad\xa2\344\xb8\213\xe5\x8d\x95\357\xbc\x8c\350\257\267\350\x81\224\xe7\263\xbb\xe7\xae\241\xe7\220\x86\345\221\230"); goto Ea9zF; cU3TN: } public function addSysLog($admin_uid, $admin_username, $log_type, $function, $content) { goto cs9Gp; o_1QW: rL1UT: goto eKV_r; LevKR: Qf106: goto CguDz; F08Dy: kdRhO: goto Z1ZzA; FNp8H: if (getenv("\x48\x54\124\x50\137\x58\x5f\x46\x4f\122\x57\101\122\x44\x45\x44\x5f\106\x4f\x52")) { goto werze; } goto tLidX; uGqET: $ip = getenv("\x48\x54\124\x50\x5f\130\x5f\106\x4f\122\127\x41\x52\x44\x45\x44\137\106\x4f\122"); goto F08Dy; vpKQY: goto kdRhO; goto o_1QW; Z1ZzA: $log_data = array("\x75\x6e\x69\x61\143\151\x64" => $_W["\165\156\x69\x61\x63\151\x64"], "\141\144\155\151\156\137\x75\151\x64" => $admin_uid, "\x61\144\155\x69\x6e\137\165\163\x65\162\156\141\x6d\x65" => $admin_username, "\x6c\157\x67\137\x74\171\x70\145" => $log_type, "\146\165\156\143\x74\151\x6f\x6e" => $function, "\143\157\156\164\145\x6e\164" => $content, "\151\x70" => $ip, "\x61\x64\144\164\151\155\x65" => time()); goto VSQtb; cq7o_: WiiNa: goto vpKQY; C1jQW: $ip = $_SERVER["\x52\105\x4d\x4f\x54\x45\137\x41\x44\104\122"]; goto LYbgt; cs9Gp: global $_W; goto T3D6N; LYbgt: goto WiiNa; goto LevKR; ntWpR: werze: goto uGqET; CguDz: $ip = getenv("\122\105\115\x4f\x54\105\x5f\x41\x44\x44\x52"); goto cq7o_; tLidX: if (getenv("\122\x45\x4d\x4f\x54\105\137\101\x44\104\122")) { goto Qf106; } goto C1jQW; eKV_r: $ip = getenv("\110\x54\x54\x50\137\103\x4c\x49\105\116\124\x5f\111\x50"); goto ArMUp; VSQtb: return pdo_insert($this->table_syslog, $log_data); goto MC0HV; ArMUp: goto kdRhO; goto ntWpR; T3D6N: if (getenv("\x48\124\x54\120\x5f\103\114\111\x45\x4e\124\x5f\x49\120")) { goto rL1UT; } goto FNp8H; MC0HV: } public function getAgentLevelName($levelId) { goto H72PV; Adb2j: $level = pdo_fetch("\x53\x45\x4c\105\103\x54\40\154\x65\166\x65\154\156\141\x6d\x65\40\x46\122\x4f\x4d\x20" . tablename($this->table_commission_level) . "\x20\127\x48\x45\122\105\x20\165\156\x69\141\x63\x69\x64\x3d\72\x75\156\151\141\x63\151\x64\40\101\116\x44\40\x69\x64\x3d\72\151\x64", array("\x3a\165\156\151\141\143\x69\144" => $_W["\165\156\x69\141\x63\151\144"], "\x3a\151\144" => $levelId)); goto E7qKH; H72PV: global $_W; goto Adb2j; E7qKH: return $level ? $level["\154\145\x76\x65\x6c\156\141\155\145"] : "\351\xbb\230\xe8\256\xa4\347\xba\247\xe5\210\253"; goto MtIWa; MtIWa: } public function getFansCount($uid) { global $_W; return pdo_fetchcolumn("\x53\x45\114\105\103\124\40\103\117\x55\x4e\x54\50\x2a\x29\40\x46\x52\117\115\40" . tablename($this->table_member) . "\x20\127\110\x45\x52\x45\40\165\x6e\x69\141\x63\151\x64\x3d\72\165\x6e\151\141\143\151\144\40\x41\116\x44\x20\x70\141\x72\x65\156\164\x69\144\x3d\x3a\160\141\162\x65\156\164\x69\144", array("\x3a\165\x6e\151\141\x63\x69\x64" => $_W["\x75\x6e\x69\141\143\151\144"], "\x3a\160\x61\162\x65\156\x74\151\x64" => $uid)); } public function getWechatPayNo($tid) { return pdo_fetch("\123\x45\114\x45\103\x54\40\x75\156\x69\x6f\156\x74\151\144\54\x74\141\147\40\x46\x52\117\115\x20" . tablename("\143\157\x72\145\x5f\160\x61\171\154\x6f\147") . "\40\x57\x48\x45\x52\x45\40\164\151\x64\x3d\72\x74\151\144", array("\72\164\x69\x64" => $tid)); } public function tranTime($time) { goto EBn_o; HjVXu: if ($time < 60) { goto nxxPb; } goto M9yx9; luM3S: if ($time < 60 * 60 * 24) { goto jiQFQ; } goto No_od; pf8Sl: $str = $h . "\345\260\217\xe6\227\266\345\x89\215"; goto obImx; usOae: $min = floor($time / 60); goto cFAFy; FQsLU: $h = floor($time / (60 * 60)); goto pf8Sl; wIwbl: goto sq3Qo; goto GKBZT; gPbeq: goto ZyiYW; goto mW91W; obImx: goto ZyiYW; goto F70Ar; AklG7: if ($d == 1) { goto Jhs05; } goto n2964; xhZSF: return $str; goto rmZhy; Arj6f: $htime = date("\x48\72\x69", $time); goto Kg6IF; QEESi: t3KG9: goto usOae; X3JAO: goto ZyiYW; goto YPrIT; VJ547: $d = floor($time / (60 * 60 * 24)); goto AklG7; uqycR: $str = "\xe5\x88\x9a\345\210\x9a"; goto RfF2Y; No_od: if ($time < 60 * 60 * 24 * 3) { goto nAsLB; } goto u8vE4; cF25L: $str = "\xe6\x98\xa8\345\244\251"; goto suzZ5; n2964: $str = "\xe5\211\215\345\xa4\xa9"; goto wIwbl; GKBZT: Jhs05: goto cF25L; RfF2Y: goto ZyiYW; goto QEESi; suzZ5: sq3Qo: goto Vy0PT; YPrIT: jiQFQ: goto FQsLU; F70Ar: nAsLB: goto VJ547; Vy0PT: ZyiYW: goto xhZSF; Kg6IF: $time = time() - $time; goto HjVXu; mW91W: nxxPb: goto uqycR; cFAFy: $str = $min . "\xe5\210\206\351\222\237\345\x89\x8d"; goto X3JAO; M9yx9: if ($time < 60 * 60) { goto t3KG9; } goto luM3S; u8vE4: $str = $rtime; goto gPbeq; EBn_o: $rtime = date("\155\x2d\144\40\x48\72\151", $time); goto Arj6f; rmZhy: } public function secToTime($seconds, $show_h = true) { goto owr8K; M_s7t: $hours = intval($seconds / 3600) >= 10 ? intval($seconds / 3600) : "\x30" . intval($seconds / 3600); goto qUw34; ZGtan: goto YFE8u; goto T5Ymh; HPgAR: return $time; goto NPXgf; SU1vZ: YFE8u: goto fPXqG; xKx9x: if ($show_h) { goto DwS3a; } goto iFxl6; owr8K: if ($seconds > 3600) { goto Df7lt; } goto xKx9x; sm9f3: $time = $hours . "\72" . gmstrftime("\x25\x4d\72\x25\123", $minutes); goto sUeg8; qUw34: $minutes = $seconds % 3600; goto sm9f3; dSkQI: $time = gmstrftime("\45\110\72\x25\x4d\72\x25\x53", $seconds); goto SU1vZ; sUeg8: QQY3w: goto HPgAR; T5Ymh: DwS3a: goto dSkQI; fPXqG: goto QQY3w; goto XuBmy; iFxl6: $time = gmstrftime("\45\115\x3a\x25\x53", $seconds); goto ZGtan; XuBmy: Df7lt: goto M_s7t; NPXgf: } public function secToTime2($seconds) { goto h9OBp; Y3VqD: $time = $h . "\346\x97\266" . $m . "\xe5\210\206"; goto jQ3no; bhmze: Xy7lT: goto If4iC; RC0jI: knHlm: goto bwWgn; Xc5cT: zerIz: goto Sjd0C; P4qBH: m5yY7: goto gSfY0; a9QQj: $time = $d . "\xe5\244\xa9" . $h . "\xe6\x97\266" . $m . "\xe5\210\206"; goto RC0jI; yA3tv: vJoa3: goto RdrhU; XdxGV: goto l5fC0; goto bhmze; RqpwX: if ($seconds >= 3600) { goto vJoa3; } goto N3SJL; X8Sx4: W3gLB: goto a9QQj; PhBy6: goto l5fC0; goto yA3tv; RdrhU: if ($d) { goto W3gLB; } goto Y3VqD; VoTGm: return $time; goto TAlbI; Sjd0C: $time = "\x31\xe5\210\x86\60\347\xa7\x92"; goto V0KOk; GOcVM: if ($seconds < 60) { goto Xy7lT; } goto YCzAH; u4WTS: $h = floor($seconds % (3600 * 24) / 3600); goto tjGgm; gSfY0: $time = intval($seconds / 60) . "\xe5\210\206" . $seconds % 60 . "\xe7\247\x92"; goto PhBy6; h9OBp: $d = floor($seconds / (3600 * 24)); goto u4WTS; N3SJL: goto l5fC0; goto D46y2; y06xb: $time = "\60\xe5\210\x86\60\347\xa7\222"; goto XdxGV; D46y2: EHEj0: goto y06xb; tjGgm: $m = floor($seconds % (3600 * 24) % 3600 / 60); goto MbZKT; MbZKT: if ($seconds == 0) { goto EHEj0; } goto GOcVM; YCzAH: if ($seconds == 60) { goto zerIz; } goto b6Wqa; If4iC: $time = "\x30\xe5\210\206" . $seconds . "\xe7\247\222"; goto LBXPW; bwWgn: l5fC0: goto VoTGm; LBXPW: goto l5fC0; goto Xc5cT; jQ3no: goto knHlm; goto X8Sx4; V0KOk: goto l5fC0; goto P4qBH; b6Wqa: if ($seconds > 60 && $seconds < 3600) { goto m5yY7; } goto RqpwX; TAlbI: } function hexTorgb($hexColor) { goto IM9Rz; H6z7S: if (strlen($color) > 3) { goto a4TXu; } goto FLaVI; WK9yi: $r = substr($color, 0, 1) . substr($color, 0, 1); goto LB2xS; nrtqa: $rgb = array("\162" => hexdec($r), "\147" => hexdec($g), "\x62" => hexdec($b)); goto i4UIR; nnng3: a4TXu: goto ErHG0; FLaVI: $color = $hexColor; goto WK9yi; IM9Rz: $color = str_replace("\x23", '', $hexColor); goto H6z7S; ErHG0: $rgb = array("\x72" => hexdec(substr($color, 0, 2)), "\x67" => hexdec(substr($color, 2, 2)), "\142" => hexdec(substr($color, 4, 2))); goto W_0NR; W_0NR: sD1V6: goto rr4QM; i4UIR: goto sD1V6; goto nnng3; LB2xS: $g = substr($color, 1, 1) . substr($color, 1, 1); goto azwou; azwou: $b = substr($color, 2, 1) . substr($color, 2, 1); goto nrtqa; rr4QM: return $rgb; goto whpLx; whpLx: } public function char_array($str, $charset = "\165\164\x66\55\x38") { goto ptkgn; yrxOo: preg_match_all($re[$charset], $str, $match); goto WSbjZ; ptkgn: $re["\165\x74\x66\x2d\70"] = "\57\x5b\1\55\177\135\174\x5b\xc2\55\337\x5d\x5b\x80\x2d\xbf\135\x7c\133\340\x2d\357\135\133\200\x2d\277\135\173\62\x7d\174\x5b\xf0\55\377\x5d\133\x80\55\277\135\173\x33\175\x2f"; goto ZHA9X; oUzmx: $re["\x67\142\x6b"] = "\x2f\x5b\1\x2d\177\135\174\133\201\55\376\x5d\133\100\55\xfe\135\57"; goto nlmx6; nlmx6: $re["\x62\151\x67\65"] = "\57\133\x1\x2d\177\x5d\x7c\133\201\55\376\x5d\50\x5b\100\55\x7e\135\x7c\241\x2d\376\x5d\51\x2f"; goto yrxOo; WSbjZ: return $match[0]; goto k2f6P; ZHA9X: $re["\147\x62\62\63\x31\62"] = "\57\133\1\x2d\177\135\x7c\133\260\55\xf7\x5d\x5b\xa0\55\376\x5d\x2f"; goto oUzmx; k2f6P: } public function downloadFile($fileid) { goto nuvow; g4Wow: header("\x43\157\x6e\x74\145\x6e\164\55\x44\151\x73\160\x6f\x73\151\164\151\157\156\x3a\x20\141\164\164\141\x63\x68\x6d\x65\156\x74\x3b\40\x66\x69\x6c\x65\156\141\x6d\x65\x3d\42" . $filename . "\x22"); goto QXJ6C; faVwQ: yCi4s: goto QPWlb; fLrnD: Ab1gx: goto e7DL4; gYfsJ: if (preg_match("\x2f\x4d\123\111\105\57", $ua) || preg_match("\57\x54\162\x69\x64\x65\x6e\x74\134\57\x37\x2e\60\57", $ua) || preg_match("\57\105\144\x67\x65\x2f", $ua)) { goto PmDql; } goto zdmRC; PDGFO: VfHmr: goto CCTJQ; W149R: $file = @fopen($file_url, "\x72"); goto y4shN; Opcgk: header("\103\x6f\x6e\x74\145\156\164\x2d\x44\x69\163\160\x6f\163\x69\x74\151\157\156\72\x20\x61\x74\164\141\143\x68\155\x65\x6e\x74\73\40\x66\x69\154\145\156\141\155\145\x2a\x3d\42\x75\x74\146\70\47\x27" . $filename . "\42"); goto GLUH6; jhZjm: $encoded_filename = str_replace("\53", "\45\62\60", $encoded_filename); goto ySvj1; Yp9aw: header("\103\141\x63\150\145\x2d\x43\x6f\156\164\x72\157\x6c\72\x20\160\165\142\x6c\x69\x63"); goto Hhj7p; NwYXI: SYnxh: goto PGN6K; D2jFn: yK1PA: goto fLrnD; Akeje: $document = pdo_get($this->table_document, array("\x75\x6e\x69\x61\x63\x69\x64" => $_W["\165\x6e\151\x61\143\x69\x64"], "\x69\x64" => $fileid)); goto b7gxy; e7DL4: if (feof($file)) { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; g4NiQ: gzJQc: goto JlYjO; JlYjO: if ($roomid) { goto fYBnv; } goto KKcZq; m8XYA: OsOYr: goto XnC2m; zqOqy: return; goto g4NiQ; UB_Yc: } public function getLiveUrl($setting, $live_info, $play_type = "\x6d\157\x62\151\154\145") { goto cylv1; nRwN7: $appName = "\57\x6c\x69\166\145\57"; goto nD5QP; WOpUu: if ($live_info["\164\x79\160\145"] == "\61") { goto yVLzq; } goto vM1RP; UkI6T: $uid = 0; goto LDY5O; uxxMp: if ($live_info["\164\171\160\145"] == "\x30") { goto EQ2Y4; } goto WOpUu; fmYgD: $uri .= "\x2e\146\154\166"; goto PO5WL; lTxTJ: m1ITR: goto FbQpF; jjow3: dvvWO: goto fmYgD; xPmLy: $timestamp = time() + 60 * $video_live["\x61\x6c\151\x79\165\156"]["\160\154\141\x79\137\x76\x61\154\151\144\x69\x74\171"]; goto Mfn6x; xhQNG: return $result["\x68\154\163"]; goto FmDFA; KaA8S: $protocols = "\141\162\x74\x63\x3a\x2f\57"; goto KkZ3Q; TKplj: uUmQB: goto xhQNG; oI7aR: goto Q_c0r; goto N5BVC; KkZ3Q: goto JrBPo; goto F4DcX; lxnp0: return $live_info["\166\151\144\x65\157\165\x72\154"]; goto oI7aR; iLUQG: $play_url = $protocols . $video_live["\141\154\x69\171\165\156"]["\x70\154\x61\171\x5f\144\x6f\155\141\151\156"] . $uri . "\x3f\141\165\x74\150\137\153\145\x79\75" . $timestamp . "\55" . $rand . "\55" . $uid . "\x2d" . $hashValue; goto oVb1Q; Ggf3U: $url = "\x68\164\164\x70\163\x3a\x2f\57\x69\x6e\x74\x65\x72\146\x61\143\x65\56\171\x79\x2e\x63\157\155\x2f\150\154\163\57\147\x65\x74\57\x30\x2f" . $live_info["\x73\151\x64"] . "\x2f" . $live_info["\163\163\x69\x64"] . "\77\141\160\x70\151\x64\75\x30\46\x65\170\143\x69\x64\x3d\61\62\x30\x30\x26\x74\x79\x70\145\75\155\x33\165\x38\x26\151\x73\x48\x74\164\160\163\x3d\x30\46\x63\x61\x6c\x6c\x62\141\143\x6b\x3d\152\x73\x6f\156\x70\x32"; goto FIKOE; k8ApJ: yVLzq: goto cEOJL; tZxzB: $live_info["\166\x69\x64\x65\157\165\162\x6c"] = str_replace("\56\x6d\63\165\70", "\x2e\146\154\166", $live_info["\x76\x69\x64\145\x6f\165\x72\x6c"]); goto kIhc3; FbQpF: if ($result["\x68\154\x73"]) { goto uUmQB; } goto Yjqz4; FrZG2: $protocols = $_W["\x73\151\x74\145\x73\x63\x68\145\155\145"]; goto odu8N; Mfn6x: $rand = random(32, true); goto UkI6T; raqMN: $result = json_decode(substr($response["\143\x6f\x6e\164\145\156\x74"], 7, -1), true); goto wc2CF; C3aOZ: wO_8j: goto Ggf3U; N5BVC: cP52R: goto nRwN7; HDPOi: if (!$live_info["\x6c\151\166\x65\137\163\x70\x65\x65\144"]) { goto YDUv7; } goto KaA8S; ipjbs: goto Q_c0r; goto dwpK2; euAh1: message("\347\263\273\xe7\273\237\xe7\271\x81\345\277\x99\357\274\214\350\257\xb7\xe7\xa8\x8d\xe5\200\231\xe5\x88\xb7\346\226\260\345\206\215\350\257\225"); goto SqQ3M; odu8N: JrBPo: goto xPmLy; nD5QP: $uri = $appName . $live_info["\163\x74\162\145\141\x6d\137\x6e\x61\155\145"]; goto HDPOi; cylv1: global $_W; goto pXay_; gkAVv: goto Q_c0r; goto C3aOZ; dwpK2: EQ2Y4: goto IR9uy; SqQ3M: goto jkKgJ; goto lTxTJ; u2KpD: jH6YK: goto pSTRA; F4DcX: YDUv7: goto VSwFd; pSTRA: if ($play_type == "\160\143") { goto dvvWO; } goto ljepe; kaoFv: Q_c0r: goto DuwR6; VSwFd: if (!$video_live["\141\x6c\x69\171\x75\156"]["\x74\x72\141\156\x73\143\x6f\144\151\x6e\147\137\151\x64"]) { goto jH6YK; } goto NVOAh; IR9uy: return $live_info["\x76\151\x64\145\x6f\x75\162\154"]; goto k1CDT; kIhc3: DTGyd: goto lxnp0; vM1RP: if ($live_info["\x74\171\x70\x65"] == "\x32") { goto cP52R; } goto QULOd; PO5WL: kcsoi: goto FrZG2; FmDFA: jkKgJ: goto kaoFv; k1CDT: goto Q_c0r; goto k8ApJ; FIKOE: $response = ihttp_request($url, array(), array("\x43\x55\x52\114\x4f\x50\x54\137\122\x45\x46\x45\122\x45\122" => "\x68\164\164\x70\163\x3a\57\x2f\167\x61\x70\x2e\171\171\56\x63\157\155\x2f\x6d\x6f\142\151\x6c\x65\167\x65\142\x2f" . $live_info["\x73\151\x64"] . "\57" . $live_info["\163\x73\151\x64"] . "\x3f\x74\x65\155\x70\x49\144\x3d" . $live_info["\x74\x69\x64"] . '')); goto raqMN; NVOAh: $uri .= "\137" . $video_live["\141\x6c\x69\171\x75\x6e"]["\164\x72\x61\156\x73\x63\157\x64\x69\156\147\137\151\x64"]; goto u2KpD; wc2CF: if ($result["\x63\157\144\x65"] == 0) { goto m1ITR; } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } goto euAh1; oJ2NL: goto kcsoi; goto jjow3; oVb1Q: return $play_url; goto gkAVv; ljepe: $uri .= "\x2e\155\63\165\70"; goto oJ2NL; cEOJL: if (!($play_type == "\x70\143" && $live_info["\154\x69\x76\145\137\x73\x70\145\145\144"] == "\x30")) { goto DTGyd; } goto tZxzB; QULOd: if ($live_info["\x74\171\160\145"] == "\63") { goto wO_8j; } goto ipjbs; LDY5O: $hashValue = md5($uri . "\x2d" . $timestamp . "\x2d" . $rand . "\55" . $uid . "\55" . $video_live["\x61\154\151\171\x75\x6e"]["\x70\154\141\171\137\153\x65\171"]); goto iLUQG; pXay_: $video_live = json_decode($setting["\166\151\x64\x65\x6f\137\154\151\166\x65"], true); goto uxxMp; Yjqz4: return; goto TKplj; DuwR6: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto kIh1C; jr_cG: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto c1S4s; EWFKg: $singleW = $textWidth / $len; goto rztvo; O3TQ1: sMDZQ: goto WZa2j; f_lSC: return $result; goto kcygu; Im5re: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mYq0Y; d0R1p: $result[] = $str; goto f_lSC; dFki4: goto sMDZQ; goto IymDE; WZa2j: if (!($len > $maxCount)) { goto cwHrD; } goto jr_cG; xtV0n: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto dFki4; kIh1C: $result = []; goto Im5re; rztvo: $maxCount = floor($width / $singleW); goto O3TQ1; c1S4s: $str = str_replace($result[count($result) - 1], '', $str); goto xtV0n; cgtxX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto EWFKg; IymDE: cwHrD: goto d0R1p; mYq0Y: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto cgtxX; kcygu: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto eIM8X; eIM8X: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto btF7G; omPZV: lwXV2: goto Qdqh6; fuKeX: QiFhs: goto lhCdc; tiTVy: if ($boxWidth >= $textWidth) { goto QiFhs; } goto ZrASO; lhCdc: $result_left = $left + ($boxWidth - $textWidth) / 2; goto omPZV; Qdqh6: return $result_left; goto DJKha; NhXQc: goto lwXV2; goto fuKeX; btF7G: $textWidth = abs($dimensions[4] - $dimensions[0]); goto tiTVy; ZrASO: $result_left = $left - ($textWidth - $boxWidth) / 2; goto NhXQc; DJKha: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto ZLm5V; fLGPv: $i = 0; goto L0KdO; L0KdO: Sug3O: goto vqil8; gabm0: ob_flush(); goto oJ0cI; TXuIA: header("\x43\x6f\156\x74\145\156\x74\x2d\x44\x69\x73\x70\157\163\x69\x74\x69\x6f\x6e\72\x20\x61\x74\x74\x61\143\150\x6d\x65\x6e\x74\x3b\146\x69\x6c\x65\156\x61\x6d\x65\75\x22" . $fileName . "\x2e\x63\x73\166\x22"); goto JLO1H; Hv2Fe: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\x2d\70", "\147\142\x6b", $value); qq1gA: } goto EWtsy; rxUI1: $fp = fopen("\160\150\x70\72\x2f\57\x6f\165\164\x70\x75\x74", "\x61"); goto Hv2Fe; vU1mr: fputcsv($fp, $row); goto Jwx9V; AGMK6: $count = count($data); goto fLGPv; nXYyM: $num++; goto tuqtj; yOOKu: zyHww: goto o4AYc; EWtsy: OQ_T0: goto Bg64g; XL07L: $i++; goto fwZXO; JLO1H: header("\103\x61\143\150\145\x2d\x43\157\156\164\162\157\x6c\72\40\155\x61\x78\55\x61\147\145\75\60"); goto rxUI1; oJ0cI: flush(); goto HvOss; vqil8: if (!($i < $count)) { goto WpflW; } goto nXYyM; o4AYc: $row = $data[$i]; goto mbH1u; fwZXO: goto Sug3O; goto JhHdN; KrofE: exit; goto VJ01Q; mbH1u: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\146\x2d\x38", "\x67\142\x6b", $value); YHt7N: } goto w3INM; w3INM: Xp50F: goto vU1mr; QAkQ9: $num = 0; goto AGMK6; ZLm5V: header("\x43\157\x6e\x74\145\x6e\164\55\x54\171\x70\145\x3a\x20\141\x70\x70\x6c\151\x63\141\x74\x69\x6f\156\x2f\166\156\144\x2e\x6d\x73\x2d\145\x78\143\145\154"); goto TXuIA; Jwx9V: Nj5Xl: goto XL07L; tuqtj: if (!(10000 == $num)) { goto zyHww; } goto gabm0; Bg64g: fputcsv($fp, $headlist); goto QAkQ9; HvOss: $num = 0; goto yOOKu; JhHdN: WpflW: goto KrofE; VJ01Q: } } defined("\111\116\137\111\101") or exit("\101\x63\143\145\x73\163\x20\104\x65\156\x69\145\x64"); class SiteCommon extends WeModuleSite { public $table_aliyun_upload = "\x66\x79\x5f\x6c\145\x73\163\157\156\x5f\x61\x6c\151\171\165\x6e\137\165\160\154\x6f\141\144"; public $table_aliyunoss_upload = "\146\x79\137\x6c\x65\163\163\x6f\156\137\141\x6c\151\171\165\156\157\x73\163\x5f\x75\x70\154\157\141\144"; public $table_article = "\146\171\x5f\x6c\145\x73\x73\157\x6e\x5f\141\162\x74\151\143\x6c\145"; public $table_article_category = "\146\171\137\154\145\163\x73\157\156\137\x61\162\164\x69\x63\x6c\x65\x5f\143\x61\164\145\147\x6f\x72\x79"; public $table_attribute = "\x66\x79\x5f\154\x65\x73\x73\157\x6e\x5f\x61\164\164\x72\x69\142\165\164\145"; public $table_banner = "\146\x79\x5f\154\x65\163\x73\157\156\137\x62\141\x6e\156\x65\x72"; public $table_cashlog = "\146\171\x5f\x6c\145\163\x73\157\x6e\137\x63\141\163\x68\154\x6f\x67"; public $table_category = "\146\x79\x5f\x6c\145\163\163\x6f\x6e\137\x63\141\164\x65\147\x6f\162\171"; public $table_lesson_collect = "\146\171\x5f\154\145\163\x73\157\156\x5f\143\157\154\x6c\x65\x63\164"; public $table_commission_level = "\x66\171\x5f\154\x65\163\163\x6f\x6e\x5f\x63\x6f\x6d\x6d\151\163\163\x69\x6f\156\x5f\154\x65\166\145\x6c"; public $table_commission_log = "\146\x79\x5f\x6c\145\x73\163\157\x6e\137\143\157\155\155\x69\163\x73\x69\157\x6e\x5f\x6c\157\147"; public $table_commission_setting = "\146\x79\137\154\x65\x73\x73\157\x6e\137\x63\157\155\x6d\151\x73\163\x69\x6f\156\x5f\x73\145\164\x74\151\x6e\147"; public $table_coupon = "\146\171\x5f\154\x65\x73\163\x6f\x6e\137\143\x6f\x75\x70\x6f\156"; public $table_discount = "\x66\171\x5f\154\x65\x73\163\x6f\x6e\x5f\144\151\x73\x63\157\x75\156\x74"; public $table_discount_lesson = "\146\x79\x5f\x6c\x65\x73\x73\157\156\x5f\144\151\x73\143\157\165\x6e\164\x5f\154\x65\163\163\x6f\x6e"; public $table_diy_template = "\146\x79\x5f\x6c\145\x73\x73\157\156\137\x64\151\171\x5f\164\145\x6d\x70\154\141\164\145"; public $table_document = "\146\x79\137\154\x65\x73\163\x6f\156\x5f\144\x6f\x63\165\155\x65\156\164"; public $table_evaluate = "\146\171\x5f\x6c\x65\x73\163\x6f\156\137\145\x76\x61\x6c\165\141\164\145"; public $table_evaluate_score = "\x66\x79\137\x6c\x65\163\163\157\x6e\x5f\x65\x76\141\x6c\x75\141\164\x65\137\163\143\x6f\x72\x65"; public $table_lesson_history = "\146\171\137\154\x65\163\163\157\x6e\137\150\x69\x73\x74\x6f\x72\x79"; public $table_index_module = "\146\x79\x5f\x6c\145\163\163\x6f\156\x5f\151\x6e\144\x65\170\x5f\155\157\144\165\x6c\145"; public $table_inform = "\146\171\x5f\154\x65\163\163\157\156\x5f\151\x6e\146\157\162\x6d"; public $table_inform_fans = "\146\171\x5f\x6c\145\163\163\157\156\137\x69\x6e\x66\x6f\x72\155\x5f\146\141\x6e\163"; public $table_login_pc = "\146\x79\x5f\154\x65\163\163\x6f\x6e\x5f\x6c\157\x67\x69\156\x5f\x70\143"; public $table_recommend_junior = "\146\171\137\154\145\x73\x73\157\x6e\137\162\145\143\x6f\x6d\155\145\156\x64\137\152\x75\x6e\151\x6f\x72"; public $table_recommend_activity = "\x66\x79\137\x6c\145\163\x73\157\156\137\x72\x65\143\x6f\155\x6d\x65\156\144\x5f\141\143\164\151\x76\x69\x74\171"; public $table_market = "\x66\171\x5f\x6c\x65\x73\x73\157\156\x5f\x6d\x61\x72\153\145\164"; public $table_mcoupon = "\x66\171\137\x6c\x65\163\163\x6f\156\137\155\x63\x6f\x75\160\x6f\x6e"; public $table_member = "\146\x79\x5f\x6c\x65\x73\163\x6f\x6e\137\x6d\145\155\x62\x65\x72"; public $table_member_buyteacher = "\146\x79\137\154\x65\x73\163\157\x6e\x5f\155\x65\155\142\145\162\x5f\142\165\171\164\x65\x61\x63\x68\x65\x72"; public $table_member_coupon = "\146\171\x5f\154\x65\x73\x73\x6f\156\137\x6d\145\x6d\142\145\x72\x5f\x63\157\165\160\157\x6e"; public $table_member_order = "\x66\x79\137\154\x65\x73\x73\x6f\156\137\x6d\x65\155\x62\145\x72\137\157\162\144\145\x72"; public $table_member_vip = "\x66\x79\137\154\145\x73\x73\157\x6e\x5f\x6d\145\x6d\142\145\x72\137\166\151\x70"; public $table_navigation = "\146\171\137\x6c\145\163\163\157\x6e\x5f\156\x61\166\151\147\141\x74\x69\x6f\156"; public $table_order = "\x66\171\x5f\154\x65\163\x73\x6f\x6e\x5f\157\x72\144\x65\162"; public $table_order_verify = "\x66\171\137\154\145\163\163\x6f\x6e\x5f\x6f\x72\144\145\x72\x5f\166\x65\x72\x69\x66\171"; public $table_lesson_parent = "\x66\171\137\x6c\145\x73\163\157\x6e\x5f\x70\x61\x72\145\x6e\x74"; public $table_playrecord = "\x66\x79\137\154\145\x73\163\x6f\x6e\137\160\154\x61\171\x72\145\143\x6f\x72\x64"; public $table_poster = "\x66\171\137\x6c\x65\x73\x73\x6f\x6e\x5f\160\x6f\x73\164\145\162"; public $table_qcloudvod_upload = "\x66\171\x5f\x6c\x65\x73\x73\x6f\x6e\137\161\143\x6c\x6f\165\144\166\157\144\x5f\x75\x70\154\x6f\141\x64"; public $table_qcloud_upload = "\x66\171\137\154\x65\163\163\x6f\156\x5f\161\143\154\x6f\x75\144\137\165\160\154\157\x61\x64"; public $table_qiniu_upload = "\146\x79\137\154\145\163\x73\x6f\156\x5f\x71\151\156\x69\165\x5f\x75\160\x6c\157\141\x64"; public $table_recommend = "\146\171\137\154\x65\x73\163\x6f\156\137\x72\145\143\157\x6d\x6d\x65\x6e\144"; public $table_setting = "\x66\171\x5f\x6c\145\x73\x73\x6f\156\x5f\163\145\x74\164\x69\x6e\147"; public $table_setting_pc = "\x66\x79\137\x6c\x65\x73\x73\157\x6e\x5f\x73\145\164\164\x69\156\x67\137\x70\143"; public $table_signin = "\x66\171\x5f\x6c\x65\x73\x73\157\x6e\137\163\x69\x67\156\151\156"; public $table_lesson_son = "\x66\171\x5f\154\x65\x73\x73\157\156\x5f\163\157\x6e"; public $table_lesson_title = "\x66\171\x5f\154\x65\163\163\x6f\156\137\x74\151\164\x6c\145"; public $table_lesson_spec = "\x66\171\x5f\154\x65\163\163\x6f\156\x5f\163\x70\x65\x63"; public $table_static = "\146\171\137\x6c\145\163\x73\x6f\x6e\137\x73\164\141\x74\x69\143"; public $table_study_duration = "\x66\171\137\x6c\145\x73\163\x6f\x6e\137\x73\164\x75\144\x79\137\x64\x75\162\141\x74\x69\157\156"; public $table_subscribe_msg = "\146\171\137\x6c\x65\x73\x73\157\x6e\137\x73\165\142\x73\143\162\x69\142\x65\137\x6d\163\147"; public $table_syslog = "\x66\171\x5f\154\145\163\163\157\x6e\137\163\x79\x73\x6c\157\x67"; public $table_teacher = "\146\171\137\154\x65\163\x73\157\156\x5f\x74\x65\x61\x63\x68\x65\162"; public $table_teacher_category = "\x66\x79\x5f\x6c\145\x73\x73\x6f\156\137\164\145\141\143\150\145\162\137\143\x61\164\145\147\x6f\162\171"; public $table_teacher_income = "\146\x79\137\154\x65\163\x73\157\156\x5f\164\145\141\x63\x68\x65\x72\137\151\156\x63\157\x6d\x65"; public $table_teacher_order = "\146\171\137\x6c\x65\163\x73\157\156\137\164\145\x61\x63\x68\145\x72\x5f\157\162\144\145\162"; public $table_teacher_price = "\146\171\137\154\145\163\163\x6f\x6e\x5f\x74\145\x61\x63\150\x65\x72\x5f\x70\x72\x69\143\x65"; public $table_tplmessage = "\x66\x79\x5f\x6c\x65\163\x73\157\x6e\137\x74\160\154\x6d\x65\163\163\x61\x67\x65"; public $table_vip_level = "\x66\x79\137\154\145\x73\x73\157\x6e\x5f\166\x69\x70\137\154\145\166\145\x6c"; public $table_vipcard = "\x66\171\137\x6c\145\x73\x73\157\156\x5f\x76\x69\x70\143\141\162\x64"; public $table_mc_members = "\x6d\143\x5f\155\x65\155\142\145\x72\163"; public $table_fans = "\155\143\x5f\x6d\141\x70\160\x69\x6e\147\x5f\x66\x61\156\x73"; public $table_core_paylog = "\143\x6f\x72\x65\137\160\141\x79\x6c\157\147"; public $table_users = "\165\x73\x65\x72\x73"; public $table_live_award = "\146\171\x5f\x6c\x65\163\x73\x6f\156\x5f\160\x6c\165\147\x69\156\x5f\x6c\x69\x76\x65\137\141\x77\x61\162\144"; public $table_live_chatrecord = "\x66\171\137\154\145\x73\x73\x6f\156\x5f\x70\x6c\x75\147\151\x6e\x5f\154\x69\x76\145\137\x63\150\141\164\162\x65\143\157\x72\x64"; public $table_live_chatroom = "\146\x79\137\x6c\145\x73\x73\157\156\x5f\160\x6c\165\147\151\x6e\x5f\x6c\x69\166\145\137\x63\x68\x61\164\x72\x6f\x6f\x6d"; public $table_live_stream = "\x66\171\137\x6c\145\163\x73\x6f\156\137\160\154\x75\x67\151\156\x5f\154\x69\x76\145\137\163\x74\162\x65\141\x6d"; public function getNavigation($template) { goto ibsJc; VK_ji: if (!empty($navigation)) { goto dcJGu; } goto h5St_; A8q73: foreach ($nav as $v) { goto Mv8WA; OpirQ: $v["\163\x65\154\145\143\x74\145\x64\x5f\x69\x63\x6f\156"] = $_W["\x61\x74\164\141\x63\x68\165\162\154"] . $v["\163\x65\154\145\x63\x74\145\x64\137\151\143\157\x6e"]; goto rZRuE; nWUaq: w0lKo: goto jmQJs; Mv8WA: $v["\165\156\163\145\x6c\145\143\164\x65\x64\x5f\151\143\x6f\x6e"] = $_W["\141\164\x74\141\x63\150\x75\162\x6c"] . $v["\165\156\x73\x65\x6c\x65\x63\164\x65\144\x5f\151\143\157\x6e"]; goto OpirQ; rZRuE: $navigation[$v["\156\141\166\x5f\x69\144\145\x6e\x74"]] = $v; goto nWUaq; jmQJs: } goto LzmMR; RYJfO: return $navigation; goto BIEJK; ODi2X: Fk3hf: goto U6UED; NYMjl: if ($navigation["\x73\x65\x61\162\143\150"]) { goto NjTCW; } goto xi_o0; ibsJc: global $_W; goto MxPYV; Mudqe: dcJGu: goto RYJfO; U6UED: cache_write("\146\x79\137\x6c\x65\x73\163\x6f\156\x5f" . $uniacid . "\x5f\156\141\166\151\147\141\164\x69\157\x6e", $navigation); goto Mudqe; LzmMR: x65wC: goto s13F4; YmlUt: $nav = pdo_fetchall("\123\105\x4c\105\103\124\40\x2a\x20\106\x52\x4f\115\x20" . tablename($this->table_navigation) . "\x20\x57\x48\x45\x52\105\40\165\x6e\151\141\143\x69\x64\75\x3a\x75\x6e\151\x61\x63\x69\144\x20\101\x4e\104\x20\x69\x73\x5f\x70\x63\x3d\x3a\x69\163\x5f\x70\143\x20\101\116\104\40\x6c\157\x63\141\164\x69\157\156\75\x3a\x6c\157\x63\141\x74\151\x6f\156\40\x4f\x52\x44\105\x52\40\102\x59\40\x64\151\x73\160\x6c\x61\x79\157\162\x64\x65\162\x20\x41\123\x43", array("\72\x75\x6e\x69\141\143\151\144" => $uniacid, "\x3a\151\x73\137\160\x63" => 0, "\72\x6c\157\143\141\x74\151\x6f\x6e" => 1)); goto A8q73; MxPYV: $uniacid = $_W["\x75\x6e\x69\141\x63\151\x64"]; goto dVcw4; YHTNq: T4GlD: goto NYMjl; dVcw4: $navigation = cache_load("\x66\x79\137\154\145\x73\163\157\156\137" . $uniacid . "\x5f\x6e\141\x76\x69\x67\x61\164\151\157\156"); goto VK_ji; S56Zg: if ($navigation["\163\x65\x6c\x66"]) { goto Fk3hf; } goto lt3Io; sHAJl: NjTCW: goto S56Zg; h5St_: $navigation = []; goto YmlUt; lt3Io: $navigation["\x73\145\154\x66"] = array("\x6e\x61\166\x5f\x6e\141\155\x65" => "\xe4\270\xaa\344\xba\272\xe4\xb8\xad\345\277\x83", "\165\x6e\x73\145\154\145\x63\164\x65\x64\x5f\151\143\157\x6e" => MODULE_URL . "\x74\x65\155\160\154\x61\x74\145\57\155\157\142\151\154\x65\x2f{$template}\57\151\155\141\147\x65\x73\57\x75\x6e\x73\x65\x6c\145\143\x74\145\144\x5f\163\145\154\x66\137\151\x63\x6f\156\x2e\x70\x6e\x67", "\x73\x65\154\x65\x63\x74\145\144\137\151\143\x6f\156" => MODULE_URL . "\x74\x65\155\160\x6c\x61\x74\145\x2f\155\157\x62\151\154\145\57{$template}\57\x69\155\141\147\x65\163\57\163\145\x6c\145\x63\x74\145\144\x5f\x73\x65\154\x66\137\x69\x63\x6f\156\x2e\x70\x6e\x67", "\x75\x72\154\137\x6c\151\156\153" => $this->redefineUrl($this->createMobileUrl("\163\x65\154\146", array("\164" => time())))); goto ODi2X; xi_o0: $navigation["\x73\145\141\x72\143\x68"] = array("\x6e\x61\x76\137\156\141\x6d\145" => "\345\x85\250\351\203\250\350\257\276\xe7\xa8\x8b", "\x75\x6e\x73\145\x6c\145\x63\x74\x65\144\137\151\x63\157\x6e" => MODULE_URL . "\x74\145\155\x70\154\141\x74\x65\x2f\155\x6f\142\151\154\x65\57{$template}\57\x69\155\x61\x67\145\x73\57\x75\x6e\163\145\154\x65\x63\x74\x65\144\x5f\163\145\x61\162\x63\x68\x5f\151\143\x6f\x6e\x2e\x70\156\x67", "\x73\x65\154\145\x63\164\x65\x64\x5f\151\143\x6f\x6e" => MODULE_URL . "\164\145\x6d\160\154\141\x74\x65\57\x6d\x6f\x62\x69\x6c\x65\x2f{$template}\x2f\x69\155\x61\x67\x65\x73\x2f\163\145\154\x65\143\x74\x65\x64\x5f\163\145\141\162\x63\x68\137\151\x63\157\156\56\160\156\147", "\165\162\154\x5f\154\x69\156\x6b" => $this->redefineUrl($this->createMobileUrl("\163\x65\141\162\x63\150", array("\x74" => time())))); goto sHAJl; hp1OQ: $navigation["\151\156\144\145\170"] = array("\156\141\166\137\x6e\141\155\x65" => "\xe9\xa6\226\xe9\xa1\265", "\165\x6e\163\x65\154\x65\x63\x74\145\144\137\151\143\157\156" => MODULE_URL . "\164\x65\155\160\x6c\x61\164\x65\57\155\157\142\151\x6c\145\x2f{$template}\x2f\x69\x6d\x61\x67\145\x73\57\x75\x6e\163\145\x6c\x65\x63\x74\x65\144\x5f\151\x6e\x64\145\170\x5f\x69\143\x6f\x6e\56\x70\156\147", "\163\145\x6c\145\x63\164\x65\144\x5f\151\143\157\156" => MODULE_URL . "\164\x65\155\x70\x6c\141\164\x65\57\x6d\157\142\x69\x6c\x65\x2f{$template}\57\x69\155\141\147\x65\163\57\163\x65\x6c\x65\143\164\x65\x64\x5f\x69\156\x64\145\170\137\151\x63\157\x6e\x2e\160\x6e\x67", "\165\162\x6c\137\154\151\x6e\153" => $this->redefineUrl($this->createMobileUrl("\x69\156\144\x65\x78", array("\x74" => time())))); goto YHTNq; s13F4: if ($navigation["\151\x6e\144\x65\170"]) { goto T4GlD; } goto hp1OQ; BIEJK: } public function setFooter($navigation) { goto i4sMe; ueXZt: if (!$navigation["\x73\145\x61\162\143\x68"]["\x75\x72\x6c\x5f\x6c\151\156\x6b"]) { goto XQB1R; } goto T8F7y; sb_YU: if (!$navigation["\x64\151\171\x6e\x61\166"]["\x75\x72\154\137\x6c\x69\x6e\153"]) { goto gkoTI; } goto ftadv; zX8W6: lfXD9: goto mpXPk; EStIA: if (!$navigation["\x73\x65\154\146"]["\165\162\154\x5f\x6c\151\156\153"]) { goto fXf_L; } goto xO9Lk; ftadv: parse_str(@array_pop(explode("\77", $navigation["\144\151\x79\156\x61\x76"]["\165\x72\x6c\137\154\x69\156\x6b"])), $diynav_params); goto VHQmP; BXhVn: if (!$navigation["\155\171\x6c\x65\163\x73\x6f\x6e"]["\165\x72\154\x5f\154\151\156\153"]) { goto jWww6; } goto s5xF9; bvVGQ: $foot_params["\151\x6e\144\145\170"] = true; goto zNiPh; oiLFW: $com_do = $params["\144\157"] ? $params["\144\x6f"] : $_GPC["\x64\x6f"]; goto GAyfM; GAyfM: $com_op = $params["\157\160"] ? $params["\157\160"] : "\144\x69\x73\160\154\x61\171"; goto JxRSA; OQ9_x: fXf_L: goto uTAqT; i4sMe: global $_W, $_GPC; goto Ef7te; Ky02f: A0kCf: goto d2SaC; AGr6M: $index_do = $index_params["\144\x6f"]; goto lHH47; OV1fl: $foot_params["\x6d\x79\154\145\163\163\157\156"] = true; goto Ky02f; Jaksj: $self_op = $self_params["\x6f\160"] ? $self_params["\x6f\x70"] : "\x64\x69\x73\160\154\141\171"; goto bcYha; d2SaC: jWww6: goto EStIA; HUSVp: $diynav_op = $diynav_params["\157\160"] ? $diynav_params["\x6f\x70"] : "\144\151\163\x70\154\x61\x79"; goto bWTiM; bWTiM: if (!($com_do == $diynav_do && $com_op == $diynav_op)) { goto lfXD9; } goto NDCQ0; WeEXQ: if (!($com_do == $search_do && $com_op == $search_op)) { goto Fuqka; } goto xGUqo; lHH47: $index_op = $index_params["\157\160"] ? $index_params["\x6f\160"] : "\x64\151\x73\160\x6c\x61\x79"; goto wkx90; lLAmo: $search_do = $search_params["\144\x6f"]; goto p070z; xGUqo: $foot_params["\163\145\141\x72\143\150"] = true; goto GOu6A; xO9Lk: parse_str(@array_pop(explode("\x3f", $navigation["\163\145\x6c\x66"]["\165\162\x6c\x5f\x6c\151\156\x6b"])), $self_params); goto U_Bl7; RoCM9: if (!($com_do == $lesson_do && $com_op == $lesson_op)) { goto A0kCf; } goto OV1fl; lrs8L: $foot_params["\163\145\x6c\146"] = true; goto XGu7C; zNiPh: lnZII: goto E20zO; s5xF9: parse_str(@array_pop(explode("\x3f", $navigation["\x6d\x79\x6c\145\x73\163\x6f\156"]["\165\162\x6c\x5f\x6c\x69\x6e\153"])), $lesson_params); goto NozLp; GOu6A: Fuqka: goto EkLAL; NozLp: $lesson_do = $lesson_params["\x64\157"]; goto sEjlP; EkLAL: XQB1R: goto sb_YU; NDCQ0: $foot_params["\x64\x69\171\x6e\141\x76"] = true; goto zX8W6; VHQmP: $diynav_do = $diynav_params["\144\x6f"]; goto HUSVp; efILP: if (!$navigation["\x69\156\x64\145\170"]["\x75\162\x6c\x5f\x6c\x69\156\x6b"]) { goto fel73; } goto YUtzg; mpXPk: gkoTI: goto BXhVn; U_Bl7: $self_do = $self_params["\x64\x6f"]; goto Jaksj; YUtzg: parse_str(@array_pop(explode("\77", $navigation["\x69\156\x64\x65\x78"]["\165\162\154\137\154\151\x6e\x6b"])), $index_params); goto AGr6M; bcYha: if (!($com_do == $self_do && $com_op == $self_op)) { goto qt4_w; } goto lrs8L; p070z: $search_op = $search_params["\157\160"] ? $search_params["\157\160"] : "\144\151\163\x70\154\x61\171"; goto WeEXQ; sEjlP: $lesson_op = $lesson_params["\157\160"] ? $lesson_params["\x6f\160"] : "\144\151\x73\160\x6c\141\x79"; goto RoCM9; wkx90: if (!($com_do == $index_do && $com_op == $index_op)) { goto lnZII; } goto bvVGQ; JxRSA: $foot_params = array(); goto efILP; Ef7te: parse_str(@array_pop(explode("\x3f", $_W["\163\151\x74\145\x75\x72\154"])), $params); goto oiLFW; T8F7y: parse_str(@array_pop(explode("\77", $navigation["\163\x65\141\x72\143\x68"]["\165\162\x6c\x5f\154\x69\156\x6b"])), $search_params); goto lLAmo; XGu7C: qt4_w: goto OQ9_x; uTAqT: return $foot_params; goto LXjzK; E20zO: fel73: goto ueXZt; LXjzK: } public function getRightBarMenu() { goto wXiVt; wXiVt: global $_W; goto eivhD; eivhD: $uniacid = $_W["\165\156\151\x61\x63\x69\144"]; goto pYoRN; YuVd9: Euv9t: goto QtzHn; DK576: $right_menu = pdo_fetchall("\123\x45\114\x45\x43\x54\x20\x2a\40\x46\x52\117\115\x20" . tablename($this->table_navigation) . "\40\127\x48\105\x52\105\40\x75\156\151\141\143\x69\144\x3d\x3a\x75\156\x69\x61\x63\x69\x64\40\101\116\104\40\151\x73\x5f\x70\143\x3d\x3a\151\x73\137\160\143\x20\101\x4e\x44\x20\154\157\143\141\x74\x69\157\156\x3d\72\x6c\x6f\x63\141\164\151\x6f\x6e\x20\x4f\x52\104\x45\122\40\102\x59\40\144\x69\163\160\154\x61\x79\157\162\x64\145\x72\x20\104\105\x53\x43\54\x20\156\141\166\x5f\x69\x64\x20\104\105\x53\103", array("\x3a\165\156\x69\141\143\x69\144" => $uniacid, "\x3a\151\163\137\x70\143" => 0, "\x3a\154\x6f\x63\x61\164\151\157\156" => 5)); goto mjvM_; I9XxC: if (!empty($right_menu)) { goto Euv9t; } goto DK576; pYoRN: $right_menu = cache_load("\146\x79\137\x6c\145\163\163\x6f\x6e\x5f" . $uniacid . "\x5f\156\141\x76\x69\x67\x61\x74\151\157\156\x5f\x72\151\147\x68\x74\x42\141\162"); goto I9XxC; mjvM_: cache_write("\146\x79\137\154\x65\163\163\x6f\156\137" . $uniacid . "\x5f\x6e\141\166\x69\x67\141\x74\x69\x6f\x6e\137\x72\151\x67\150\164\102\141\162", $right_menu); goto YuVd9; QtzHn: return $right_menu; goto qX9sb; qX9sb: } public function getSelfMenu() { goto ppd2Q; krFGz: return $right_menu; goto gxHt2; Y9C04: $uniacid = $_W["\165\156\x69\141\x63\x69\x64"]; goto K11rx; K11rx: $right_menu = cache_load("\146\171\137\154\145\x73\163\x6f\x6e\137" . $uniacid . "\x5f\156\x61\x76\151\x67\141\x74\x69\x6f\x6e\x5f\163\x65\x6c\x66"); goto fHKo8; EF43s: w37bR: goto krFGz; tCUJL: $right_menu = pdo_fetchall("\123\105\x4c\x45\x43\x54\x20\x2a\x20\x46\122\117\115\40" . tablename($this->table_navigation) . "\x20\x57\110\105\x52\105\x20\x75\156\151\x61\143\x69\x64\x3d\72\x75\156\151\141\143\x69\x64\x20\101\x4e\104\x20\x69\x73\x5f\160\143\x3d\x3a\151\x73\137\x70\143\x20\101\116\x44\x20\x6c\157\143\x61\x74\151\157\156\x3d\72\154\157\143\x61\164\x69\x6f\x6e\40\117\122\x44\105\122\x20\x42\x59\x20\144\151\x73\x70\154\x61\171\157\162\144\145\x72\40\x44\x45\x53\x43\54\x20\x6e\141\166\x5f\x69\144\x20\104\105\x53\x43", array("\72\x75\156\151\x61\143\151\144" => $uniacid, "\x3a\x69\163\x5f\x70\143" => 0, "\x3a\x6c\157\x63\141\164\151\x6f\156" => 3)); goto vTez1; vTez1: cache_write("\x66\x79\137\x6c\145\x73\163\x6f\x6e\137" . $uniacid . "\137\x6e\141\x76\x69\x67\x61\x74\151\157\156\x5f\163\145\154\146", $right_menu); goto EF43s; fHKo8: if (!empty($right_menu)) { goto w37bR; } goto tCUJL; ppd2Q: global $_W; goto Y9C04; gxHt2: } public function getLessonAttribute($type = '') { goto P1ea1; mFl36: o2kW7: goto xZNz8; LmYuu: yBK9J: goto C60m0; X2J2B: cache_write("\146\171\137\154\x65\163\x73\157\156\137" . $uniacid . "\x5f\x61\164\x74\x72\151\142\x75\x74\x65\x31", $attribute); goto LmYuu; Y9GL0: if (!empty($attribute)) { goto yBK9J; } goto U0HiA; fCK8w: return; goto Fiucf; xZNz8: $attribute = cache_load("\146\171\x5f\x6c\145\163\x73\157\x6e\137" . $uniacid . "\x5f\141\164\164\x72\151\x62\x75\164\145\x31"); goto Y9GL0; EGvto: if (!empty($attribute)) { goto I_RHe; } goto UJxbd; cuYG3: if ($type == 1) { goto o2kW7; } goto DPOXu; UJxbd: $attribute = pdo_fetchall("\x53\105\114\105\x43\124\x20\x2a\40\106\122\117\x4d\x20" . tablename($this->table_attribute) . "\x20\127\110\105\122\x45\x20\165\x6e\151\x61\143\151\x64\75\72\x75\x6e\151\141\143\x69\x64\x20\101\116\104\40\141\164\164\x72\137\x74\x79\x70\x65\75\72\141\x74\164\162\x5f\x74\x79\160\x65\40\x4f\x52\104\x45\x52\40\102\131\x20\x64\x69\163\160\x6c\x61\x79\x6f\x72\x64\x65\x72\40\x44\x45\123\103", array("\72\165\156\151\141\x63\151\x64" => $uniacid, "\72\141\164\x74\x72\x5f\x74\x79\x70\x65" => "\x61\164\x74\162\x69\x62\x75\x74\x65\62")); goto KGB4E; vuQVM: return $attribute; goto c8eFY; adkzO: $attribute = cache_load("\146\171\x5f\154\145\163\x73\157\x6e\x5f" . $uniacid . "\x5f\141\x74\x74\162\151\x62\x75\x74\145\62"); goto EGvto; DPOXu: if ($type == 2) { goto uvqlM; } goto fCK8w; G3gah: ljLmn: goto vuQVM; U0HiA: $attribute = pdo_fetchall("\123\x45\114\105\103\x54\40\x2a\x20\106\122\117\x4d\40" . tablename($this->table_attribute) . "\x20\x57\x48\x45\x52\x45\40\x75\156\x69\x61\x63\151\x64\x3d\x3a\165\x6e\x69\x61\x63\x69\144\x20\x41\116\104\x20\x61\164\164\x72\137\x74\171\x70\145\x3d\72\141\164\x74\x72\x5f\x74\x79\x70\x65\x20\117\122\x44\x45\122\40\x42\x59\40\x64\151\163\x70\154\x61\x79\x6f\x72\x64\145\x72\40\x44\x45\123\x43", array("\x3a\165\156\x69\x61\x63\x69\144" => $uniacid, "\72\141\164\164\x72\x5f\164\171\x70\145" => "\x61\x74\x74\x72\x69\142\x75\x74\145\x31")); goto X2J2B; C60m0: goto ljLmn; goto iyq2s; rxYo3: $uniacid = $_W["\x75\x6e\151\141\143\x69\144"]; goto cuYG3; Fiucf: goto ljLmn; goto mFl36; iyq2s: uvqlM: goto adkzO; ayZxw: I_RHe: goto G3gah; P1ea1: global $_W; goto rxYo3; KGB4E: cache_write("\146\x79\137\x6c\x65\x73\x73\157\156\x5f" . $uniacid . "\137\141\x74\164\162\151\x62\165\x74\x65\62", $attribute); goto ayZxw; c8eFY: } public function redefineUrl($url) { $new_url = str_replace("\46\x6d\x3d", '', $url); return $new_url . "\x26\155\75\146\x79\137\154\x65\x73\x73\157\156\166\x32"; } public function getDiyTemplate($id = '', $page_type = 1) { goto qoOrs; c_ROY: goto lELCP; goto T400y; x_0Pr: return $diy_data; goto NtJKE; vRtpK: d950t: goto wyu0x; zUSex: if ($page_type == 2) { goto ibcqI; } goto T1Syj; lAh24: $diy_data = json_decode($diy_tpl["\x64\x61\x74\141"], true); goto HMzG_; MjXd4: $diy_data = cache_load("\x66\x79\x5f\x6c\x65\163\163\x6f\x6e\137" . $uniacid . "\x5f\144\151\171\137\x74\x65\x6d\160\x6c\x61\x74\145"); goto KcMXM; kiVuC: foreach ($diy_data as $k => $v) { goto Fjphp; ajk0J: foreach ($banner as $v1) { $v["\144\x61\164\x61"][] = array("\x69\x6d\x67\x75\x72\x6c" => $_W["\141\164\x74\141\143\x68\x75\x72\154"] . $v1["\x70\x69\x63\x74\x75\x72\x65"], "\151\155\x67\x73\162\143" => $_W["\141\164\164\x61\143\150\165\x72\154"] . $v1["\160\x69\143\x74\x75\162\145"], "\154\x69\x6e\x6b" => $v1["\154\x69\x6e\x6b"]); HZb2z: } goto L94dV; ZMyt9: cache_write("\x66\x79\137\154\145\163\x73\157\x6e\137" . $uniacid . "\x5f\x69\x6e\x64\x65\x78\137\x62\x61\156\156\x65\162", $banner); goto N7QN1; dnEyf: $article_params = array("\x3a\x75\156\151\141\143\151\x64" => $uniacid, "\72\x63\157\155\x6d\x65\156\x64" => 1, "\72\x69\163\163\150\157\167" => 1); goto QfEaX; Jnq1u: if (!($v["\x6e\141\x6d\145"] == "\x74\145\141\x63\x68\x65\162")) { goto KPjYh; } goto rPQN0; Wi6S7: $recommend_teacher = pdo_fetchall("\x53\x45\x4c\x45\103\124\40\x2a\x20\106\x52\x4f\115\40" . tablename($this->table_teacher) . "\40\127\x48\x45\x52\x45\x20\165\156\x69\141\x63\151\144\75\x3a\165\x6e\x69\141\x63\151\x64\40\x41\x4e\104\x20\163\x74\x61\x74\165\x73\75\x3a\x73\164\141\x74\x75\163\40\101\116\104\40\x69\x73\137\x72\145\x63\x6f\x6d\155\145\156\x64\x3d\72\151\x73\x5f\x72\x65\143\x6f\x6d\155\145\x6e\x64\x20\x4f\x52\104\x45\122\x20\x42\131\x20\x64\x69\x73\x70\154\141\x79\x6f\x72\144\x65\x72\x20\x44\105\123\103", array("\x3a\x75\156\151\141\x63\151\144" => $uniacid, "\x3a\x73\x74\141\x74\x75\x73" => 1, "\x3a\x69\x73\x5f\x72\x65\143\157\x6d\x6d\145\156\144" => 1)); goto jm2pZ; rPQN0: $recommend_teacher = cache_load("\146\171\x5f\x6c\145\x73\x73\157\156\x5f" . $uniacid . "\x5f\x72\145\143\157\x6d\155\145\x6e\144\137\x74\145\141\x63\x68\x65\162"); goto Q68Q1; mArpQ: $article_condition .= "\40\x41\116\104\x20\x69\163\x5f\166\151\x70\75\72\x69\163\x5f\x76\x69\x70"; goto jDC5l; fR2sD: aEcFK: goto ESfiO; iln7U: N3Wza: goto w99up; nCLPe: if (!$v["\x73\164\x79\154\x65"]["\141\x64\137\x73\x77\151\164\x63\x68"]) { goto Gq8Uh; } goto sBi1m; LO8FZ: kAdi5: goto iln7U; JwjQy: $v["\x74\160\x6c\137\156\x61\x6d\x65"] = random(10); goto nCLPe; QfEaX: if ($uid) { goto isYiV; } goto mArpQ; nllZq: $diy_data[$k] = $v; goto oVQ4a; NUC4p: foreach ($v["\144\x61\164\141"] as $k1 => $v1) { goto Ohaog; GHEv6: RvPmv: goto X1ISo; Ohaog: parse_str(@array_pop(explode("\77", $v1["\x6c\x69\x6e\153"])), $params); goto zwiAq; Owsfa: $v["\x64\141\x74\x61"][$k1] = $v1; goto GHEv6; zwiAq: $v1["\156\141\x76\137\x64\x6f"] = $params["\144\157"]; goto Up8Fx; Up8Fx: $v1["\x6e\x61\166\137\x6f\x70"] = $params["\157\x70"] ? $params["\157\x70"] : "\144\x69\x73\160\x6c\x61\171"; goto Owsfa; X1ISo: } goto ako6g; jDC5l: $article_params["\72\151\x73\137\166\x69\160"] = 0; goto yDM1n; pLc0e: if (!$v["\163\x74\x79\x6c\x65"]["\156\157\x74\x69\x63\145\137\x66\162\x6f\155"]) { goto Fcj2D; } goto J7yWb; It9CQ: if (!($v["\156\x61\155\x65"] == "\156\x6f\164\151\143\x65")) { goto WcSvS; } goto pLc0e; DSF9G: unset($v["\144\x61\x74\141"]); goto ajk0J; N7QN1: o9ux6: goto DSF9G; IGV40: Gq8Uh: goto orEBi; ESfiO: Fcj2D: goto nllZq; HeboJ: $diy_data[$k] = $v; goto McR1D; CNsgG: $diy_data["\x66\157\x6f\164\x6e\x61\166"] = $v; goto gzw_Y; krgMe: foreach ($articlelist as $v1) { $v["\x64\141\164\141"][] = array("\x74\x69\x74\154\145" => $v1["\x74\x69\x74\x6c\145"], "\x6c\151\x6e\x6b" => $this->redefineUrl($this->createMobileUrl("\141\x72\x74\x69\x63\x6c\x65", array("\x61\151\x64" => $v1["\x69\x64"]))), "\151\163\x5f\166\x69\160" => $v1["\151\163\x5f\x76\151\x70"]); uVzHJ: } goto fR2sD; xXV2V: foreach ($v["\144\x61\x74\x61"] as $k1 => $v1) { goto JZPqD; vtk2x: $v1["\143\x6f\x75\x6e\164"] = pdo_fetchcolumn("\x53\105\x4c\x45\x43\x54\x20\x43\117\125\116\x54\50\52\x29\40\x46\122\117\x4d\40" . tablename($this->table_lesson_son) . "\x20\127\x48\x45\122\105\40\160\141\162\145\x6e\x74\151\144\x3d\x3a\160\x61\x72\x65\x6e\164\x69\x64\x20\x41\116\104\40\x73\164\141\164\x75\x73\75\72\163\x74\x61\x74\x75\x73\40", array("\x3a\x70\x61\x72\145\156\164\151\144" => $v1["\151\x64"], "\72\x73\x74\x61\x74\165\163" => 1)); goto WUBX0; gMJJI: h1iTH: goto sr_Nh; VHFDh: unset($v1["\143\157\165\156\164"]); goto un7JV; EVqAQ: $v1["\x64\151\x73\143\157\x75\156\x74"] = $this->getLessonDiscount($v1["\x69\144"]); goto WJPbA; K3ZK8: if (!($v1["\x64\151\x73\143\157\x75\x6e\x74"] < 1 && !$v1["\x69\x63\157\137\x6e\141\x6d\x65"])) { goto M1crQ; } goto pdQSZ; lTZ9u: if (time() > $starttime && time() < $endtime) { goto q0kza; } goto dgng7; uBuqn: if (time() > $endtime) { goto oscTt; } goto lTZ9u; fDzA_: $v1["\x69\x63\157\156\137\154\x69\166\145\x5f\163\164\x61\x74\165\163"] = "\x69\x63\157\x6e\55\154\x69\166\145\x2d\163\164\x61\x72\164\151\x6e\x67"; goto r2FTN; sX8QD: $v1["\151\x63\157\156\x5f\154\151\x76\x65\137\163\x74\141\x74\165\163"] = "\x69\143\157\x6e\55\x6c\x69\166\x65\x2d\x65\156\x64\145\x64"; goto Za7z8; MyMjS: $v["\x64\141\x74\141"][$k1] = $v1; goto gMJJI; G7alp: M1crQ: goto qJlMW; Za7z8: goto OHq5g; goto ykHaX; f2d0k: yh8Vd: goto j_m12; JZPqD: $v1 = pdo_get($this->table_lesson_parent, array("\x75\x6e\x69\x61\143\x69\144" => $uniacid, "\x69\144" => $v1["\154\145\163\x73\x6f\x6e\x69\x64"])); goto vtk2x; CI38O: $live_info = json_decode($v1["\154\151\166\x65\x5f\x69\156\x66\157"], true); goto nQhMb; qJlMW: $v1["\163\145\x63\164\151\x6f\156"] = pdo_fetch("\x53\x45\114\x45\x43\x54\x20\x74\x69\x74\154\x65\x20\x46\122\x4f\x4d\x20" . tablename($this->table_lesson_son) . "\40\x57\x48\x45\x52\105\x20\x70\141\x72\x65\156\164\x69\144\75\72\160\141\x72\x65\156\x74\x69\x64\x20\117\x52\x44\x45\122\x20\102\131\x20\x69\144\40\x44\105\123\x43\x20\114\111\115\111\124\40\60\x2c\x31", array("\72\160\141\x72\145\x6e\164\x69\144" => $v1["\x69\144"])); goto CjfNB; Sj0Ih: $v1["\151\143\157\137\156\141\x6d\x65"] = "\x69\x63\x6f\x2d\x76\x69\x70"; goto fg_X5; WJPbA: $v1["\160\x72\x69\x63\145"] = round($v1["\x70\162\x69\143\x65"] * $v1["\x64\151\x73\x63\x6f\x75\x6e\x74"], 2); goto K3ZK8; ykHaX: q0kza: goto fDzA_; CjfNB: $v1["\x74\x65\141\x63\150\145\x72"] = pdo_get($this->table_teacher, array("\x69\144" => $v1["\x74\x65\141\143\x68\x65\162\151\144"]), array("\164\145\141\143\150\x65\x72")); goto kqFLh; xTJg9: $v1["\163\x74\x75\x64\171\x5f\x6e\165\155\142\145\x72"] = $v1["\142\165\x79\156\x75\155"] + $v1["\x76\x69\x72\164\x75\141\x6c\137\x62\x75\171\156\165\155"] + $v1["\x76\151\x70\137\x6e\165\x6d\x62\x65\162"] + $v1["\164\145\141\x63\150\x65\x72\137\156\x75\155\142\x65\162"] + $v1["\166\151\163\x69\164\137\156\x75\x6d\142\145\162"]; goto RNqk0; nQhMb: $starttime = strtotime($live_info["\163\164\141\x72\164\x74\151\x6d\145"]); goto ZYdXI; WUBX0: if (!($v1["\x69\x63\x6f\137\156\141\x6d\145"] == "\x69\x63\157\x2d\x76\151\160" && (!empty($v1["\166\151\160\166\x69\145\167"]) && $v1["\166\151\x70\x76\151\145\x77"] != "\x6e\165\x6c\x6c"))) { goto RQBcI; } goto Sj0Ih; ZYdXI: $endtime = strtotime($live_info["\145\156\x64\x74\151\x6d\x65"]); goto r4Ogn; r4Ogn: if (time() < $starttime) { goto yh8Vd; } goto uBuqn; dgng7: goto OHq5g; goto f2d0k; r2FTN: OHq5g: goto VHFDh; fg_X5: RQBcI: goto F2ejP; aZ_I3: oOuMm: goto E8Ra7; E8Ra7: $v1["\163\x74\165\x64\x79\x5f\156\165\x6d\x62\x65\162"] = $v1["\142\165\171\156\x75\x6d"] + $v1["\x76\151\162\164\165\141\x6c\x5f\142\x75\171\x6e\x75\x6d"] + $v1["\166\x69\160\x5f\156\165\155\142\x65\x72"] + $v1["\164\x65\x61\143\150\x65\x72\x5f\156\165\x6d\x62\145\162"]; goto yeTLH; pdQSZ: $v1["\151\143\157\137\156\141\x6d\x65"] = "\151\143\157\55\144\151\163\143\x6f\x75\x6e\164"; goto G7alp; kqFLh: if (!($v1["\154\145\163\163\157\x6e\137\164\x79\160\145"] == 3)) { goto fG73Y; } goto CI38O; RNqk0: goto u2a99; goto aZ_I3; yeTLH: u2a99: goto EVqAQ; QL65g: goto OHq5g; goto UIv2r; j_m12: $v1["\x69\x63\x6f\156\x5f\154\x69\x76\x65\x5f\163\x74\x61\164\165\163"] = "\x69\x63\157\156\x2d\154\151\x76\x65\x2d\156\157\163\164\141\162\x74"; goto QL65g; F2ejP: if ($v1["\160\162\151\x63\x65"] > 0) { goto oOuMm; } goto xTJg9; un7JV: fG73Y: goto MyMjS; UIv2r: oscTt: goto sX8QD; sr_Nh: } goto o3WUS; XIPM3: isYiV: goto JtJk6; dQwWM: $article_condition .= "\40\101\x4e\x44\40\x69\163\x5f\166\x69\160\x3d\x3a\151\163\137\x76\151\160"; goto cwm06; J7yWb: $article_condition = "\x20\165\x6e\x69\141\143\151\144\75\x3a\165\156\x69\x61\x63\x69\x64\x20\x41\x4e\104\x20\143\157\x6d\155\145\x6e\144\x3d\72\x63\157\x6d\x6d\x65\156\x64\40\x41\x4e\x44\40\x69\x73\163\x68\x6f\x77\x3d\72\x69\x73\163\150\157\x77\40"; goto dnEyf; aDs_s: if (!($v["\156\141\155\145"] == "\162\145\x63\x6c\145\x73\x73\157\x6e")) { goto PAZSd; } goto xXV2V; VAycs: rh2Pz: goto It9CQ; o3WUS: B9u2w: goto HeboJ; orEBi: $diy_data[$k] = $v; goto VAycs; C4eDY: KPjYh: goto aDs_s; cwm06: $article_params["\x3a\151\x73\x5f\166\151\x70"] = 0; goto LO8FZ; JtJk6: $member_vip = pdo_fetch("\x53\105\x4c\x45\x43\124\x20\x6c\x65\x76\145\154\x5f\151\x64\40\106\122\117\115\40" . tablename($this->table_member_vip) . "\40\127\x48\x45\122\105\x20\x75\156\151\141\x63\151\144\x3d\x3a\165\x6e\151\141\143\x69\144\x20\101\x4e\x44\x20\165\151\144\75\72\165\151\x64\40\x41\x4e\104\40\166\141\x6c\x69\x64\151\x74\x79\x3e\x3a\166\141\x6c\151\144\151\x74\171\40\x4c\111\x4d\x49\x54\40\61", array("\72\x75\x6e\151\141\x63\151\144" => $uniacid, "\72\x75\151\144" => $uid, "\72\x76\141\x6c\x69\x64\x69\164\x79" => time())); goto BD2x0; L94dV: xZSUT: goto IGV40; gzw_Y: unset($diy_data[$k]); goto hyYXc; geCtS: if (!empty($banner)) { goto o9ux6; } goto KENh5; Fjphp: if (!($v["\x6e\x61\155\x65"] == "\163\x77\x69\160\145\162")) { goto rh2Pz; } goto JwjQy; MlDvU: unset($v["\144\x61\x74\141"]); goto krgMe; hyYXc: viCkt: goto E6DtK; KENh5: $banner = pdo_fetchall("\123\x45\x4c\105\103\124\x20\52\x20\106\122\x4f\x4d\x20" . tablename($this->table_banner) . "\40\127\x48\105\122\x45\40\x75\156\151\141\143\151\x64\75\x3a\165\x6e\x69\141\143\x69\144\x20\101\116\104\x20\x69\x73\x5f\x73\150\x6f\x77\75\72\x69\163\x5f\163\x68\157\167\40\x41\116\104\x20\151\x73\x5f\160\143\x3d\72\x69\163\x5f\x70\x63\40\101\116\x44\x20\x62\141\156\x6e\x65\162\137\164\x79\x70\145\x3d\x3a\142\x61\x6e\156\x65\162\x5f\164\x79\x70\x65\40\117\122\x44\x45\122\40\102\131\40\144\151\163\160\x6c\141\171\157\162\144\x65\x72\x20\x44\105\123\x43", array("\72\x75\156\151\x61\x63\151\x64" => $uniacid, "\72\x69\163\x5f\x73\x68\x6f\167" => 1, "\x3a\151\163\137\x70\143" => 0, "\142\141\156\156\x65\x72\137\164\171\x70\x65" => 0)); goto ZMyt9; E6DtK: W31jY: goto SyMHk; FDZ3t: $diy_data[$k] = $v; goto C4eDY; w99up: $articlelist = pdo_fetchall("\x53\x45\114\105\x43\124\40\x69\144\x2c\x74\151\164\x6c\145\x2c\x69\x73\x5f\x76\151\x70\54\x61\x64\144\164\x69\x6d\x65\x20\x46\122\117\x4d\40" . tablename($this->table_article) . "\40\x57\x48\x45\x52\x45\x20{$article_condition}\40\x4f\122\x44\x45\122\40\102\x59\x20\144\x69\163\x70\x6c\141\171\x6f\x72\x64\145\x72\x20\104\105\x53\103\x2c\151\x64\40\104\x45\x53\x43", $article_params); goto MlDvU; yDM1n: goto N3Wza; goto XIPM3; sBi1m: $banner = cache_load("\x66\x79\137\x6c\145\x73\x73\157\156\x5f" . $uniacid . "\x5f\151\156\144\x65\x78\137\x62\141\156\x6e\145\x72"); goto geCtS; oVQ4a: WcSvS: goto Jnq1u; BD2x0: if (!empty($member_vip)) { goto kAdi5; } goto dQwWM; McR1D: PAZSd: goto ldNCb; jm2pZ: cache_write("\x66\x79\x5f\154\145\163\163\x6f\x6e\x5f" . $uniacid . "\x5f\162\145\143\157\155\155\x65\156\x64\x5f\164\x65\x61\143\x68\145\162", $recommend_teacher); goto Qh5o9; ldNCb: if (!($v["\x6e\x61\155\x65"] == "\146\157\157\164\156\141\166")) { goto viCkt; } goto NUC4p; Q68Q1: if (!empty($recommend_teacher)) { goto jFuXG; } goto Wi6S7; ako6g: YnL7G: goto CNsgG; rZu7z: $v["\144\141\x74\141"] = $recommend_teacher; goto FDZ3t; Qh5o9: jFuXG: goto rZu7z; SyMHk: } goto wcqk3; HMzG_: lELCP: goto wGQQc; wPiY5: if (!$id) { goto KC0cA; } goto hZBKv; fIJfD: goto ZepPC; goto S1i7N; KcMXM: if (!empty($diy_data)) { goto OKOrA; } goto UynaT; DUY7S: if (!empty($diy_data)) { goto wChZj; } goto nCbFe; UynaT: $diy_tpl = pdo_get($this->table_diy_template, array("\x75\156\151\141\143\151\144" => $uniacid, "\160\141\147\145\137\164\171\160\145" => $page_type, "\163\164\141\164\165\x73" => 1)); goto lrgyo; Wdozc: v_R1E: goto c3iEx; c3iEx: goto fmEGd; goto BnBRI; nNKZ7: $diy_data = cache_load("\x66\171\137\x6c\145\163\163\157\156\x5f" . $uniacid . "\x5f\144\151\x79\x5f\164\x65\x6d\x70\x6c\x61\164\x65\137" . $id); goto DUY7S; Ysnp2: fmEGd: goto kiVuC; IGqsj: return; goto HdRHw; hpfeR: Hr3nF: goto ZBsLN; nCbFe: $diy_tpl = pdo_get($this->table_diy_template, array("\x75\x6e\151\141\143\x69\x64" => $uniacid, "\x70\x61\x67\x65\x5f\x74\x79\160\x65" => $page_type, "\151\x64" => $id)); goto P2IP4; NtJKE: hkNWW: goto Ysnp2; SqNgg: OKOrA: goto MoNcD; oVbas: KZJ0s: goto MjXd4; ZBsLN: goto hkNWW; goto qDRBk; Q5X4i: return; goto hpfeR; Yn3yM: $uniacid = $_W["\165\156\x69\x61\143\x69\144"]; goto swb3K; S1i7N: KC0cA: goto lGVn8; qoOrs: global $_W; goto Yn3yM; wGQQc: if (!empty($diy_data)) { goto Hr3nF; } goto Q5X4i; lrgyo: if (empty($diy_tpl)) { goto d950t; } goto qigGE; iF0Y9: message("\351\xa1\265\xe9\x9d\242\344\xb8\x8d\345\xad\x98\345\234\250"); goto c_ROY; HdRHw: EBK36: goto IW3ju; T400y: DsNkj: goto lAh24; swb3K: if ($page_type == 1) { goto KZJ0s; } goto zUSex; P2IP4: if (!empty($diy_tpl)) { goto DsNkj; } goto iF0Y9; qDRBk: wChZj: goto x_0Pr; wyu0x: if (!empty($diy_data)) { goto EBK36; } goto IGqsj; MoNcD: return $diy_data; goto Wdozc; fWJia: return $diy_data; goto jpBL5; wcqk3: zQkZs: goto wPiY5; T1Syj: goto fmEGd; goto oVbas; BnBRI: ibcqI: goto nNKZ7; hZBKv: cache_write("\x66\171\x5f\x6c\x65\x73\x73\x6f\x6e\137" . $uniacid . "\x5f\x64\151\171\x5f\x74\x65\155\x70\154\x61\x74\x65\137" . $id, $diy_data); goto fIJfD; qigGE: $diy_data = json_decode($diy_tpl["\144\x61\x74\141"], true); goto vRtpK; rdN33: ZepPC: goto fWJia; lGVn8: cache_write("\x66\x79\137\x6c\145\x73\x73\157\156\137" . $uniacid . "\x5f\x64\x69\171\x5f\x74\x65\x6d\x70\154\x61\x74\x65", $diy_data); goto rdN33; IW3ju: goto v_R1E; goto SqNgg; jpBL5: } public function recommendLessonByFreeStudy($junior, $last_junior_id) { goto ZHH7N; Eoixx: $tplmessage = pdo_get($this->table_tplmessage, array("\165\x6e\x69\x61\x63\x69\x64" => $uniacid), array("\x72\x65\x63\157\155\155\145\x6e\144\x5f\152\x75\156\151\x6f\x72")); goto X5VAB; Ze3Yl: $sendmessage1 = array("\164\x6f\x75\x73\145\162" => $rec_member["\x6f\160\145\156\x69\144"], "\164\x65\155\160\x6c\141\164\145\x5f\x69\144" => $tplmessage["\162\145\x63\x6f\x6d\x6d\145\x6e\144\137\x6a\165\156\x69\x6f\x72"], "\x75\x72\x6c" => $url, "\164\x6f\160\143\x6f\154\157\162" => '', "\144\141\x74\141" => array("\x66\151\x72\x73\x74" => array("\166\141\x6c\x75\145" => $first, "\x63\157\x6c\157\162" => ''), "\x6b\145\x79\167\157\x72\x64\x31" => array("\166\141\154\x75\145" => $junior_member["\156\151\143\153\156\141\x6d\145"], "\x63\157\154\157\x72" => ''), "\153\x65\x79\167\157\162\144\x32" => array("\x76\141\154\x75\x65" => "\x75\x69\144\50{$junior["\152\x75\x6e\x69\x6f\x72\x5f\165\x69\x64"]}\51", "\143\x6f\x6c\157\x72" => ''), "\153\x65\x79\167\157\162\144\63" => array("\166\x61\154\x75\145" => date("\x59\xe5\271\xb4\x6d\346\x9c\x88\144\xe6\227\xa5", time()), "\143\157\154\x6f\162" => ''), "\x72\145\x6d\x61\x72\x6b" => array("\166\141\x6c\x75\145" => $remark, "\x63\157\154\x6f\x72" => "\346\x84\x9f\xe8\xb0\xa2\xe6\202\xa8\xe7\x9a\x84\346\x94\xaf\346\214\201\xe3\200\202"))); goto WynJ4; GzhBj: pdo_insert($this->table_order, $orderdata); goto sVlJY; rcBd3: if (empty($activity)) { goto heNHR; } goto BHzdn; bMFWE: goto lMROW; goto KH4HW; L31Ha: $lesson = pdo_get($this->table_lesson_parent, array("\165\x6e\151\141\x63\x69\144" => $_W["\165\x6e\x69\x61\143\x69\144"], "\x69\144" => $junior["\154\x65\x73\x73\x6f\156\x69\144"])); goto fq9vj; vMj91: $junior["\141\143\164\x69\x76\151\164\171\x5f\151\144"] = $activity_id; goto vFuA0; ZHH7N: global $_W; goto af50u; GfAbA: if (!(!empty($activity) && time() > $activity["\x61\x64\x64\x74\151\155\x65"] + $lesson["\x72\145\x63\x6f\x6d\x6d\x65\156\x64\x5f\146\x72\145\x65\137\x6c\x69\x6d\x69\164"] * 86400)) { goto hEWGQ; } goto Kwfbl; WJUpJ: if (!(!$lesson || !$lesson["\x72\x65\x63\157\x6d\x6d\x65\x6e\x64\137\146\162\x65\145\137\x6e\x75\x6d"] || $order)) { goto ViQ3m; } goto okc3x; bMAdE: $remain_num = $lesson["\x72\x65\143\157\x6d\155\x65\x6e\144\x5f\x66\x72\145\x65\x5f\x6e\x75\x6d"] - $already_num; goto ttKrC; T7twe: goto enSMI; goto pSMYd; A6Pve: if (empty($activity)) { goto E1Zws; } goto ORtNU; Kwfbl: pdo_update($this->table_recommend_activity, array("\163\x74\141\x74\165\x73" => -1), array("\x69\144" => $activity["\151\144"])); goto H3zKj; Sq9rn: $activity_id = pdo_insertid(); goto Rtw8A; WynJ4: $this->send_template_message($sendmessage1, $uniacid); goto Ys1p1; H3zKj: unset($activity); goto nqPPS; PQDEx: if ($already_num >= $lesson["\162\145\x63\x6f\155\155\145\156\x64\137\x66\x72\145\145\x5f\156\165\155"]) { goto sLbGl; } goto A6Pve; X5VAB: if ($tplmessage["\x72\x65\x63\x6f\x6d\x6d\x65\156\144\x5f\152\165\156\x69\157\x72"]) { goto W2xWj; } goto ffS6k; izy9j: $rec_member = pdo_get($this->table_fans, array("\x75\151\144" => $junior["\165\151\144"]), array("\157\x70\x65\x6e\x69\x64")); goto Eoixx; ffS6k: $custom = array("\155\163\x67\164\x79\160\145" => "\x74\145\170\164", "\x74\x65\x78\x74" => array("\x63\157\x6e\x74\x65\156\x74" => urlencode($first . "\134\156\x5c\x6e\xe6\230\265\xe7\xa7\xb0\xef\274\x9a" . $junior_member["\x6e\151\143\153\x6e\x61\155\145"] . "\134\156\344\274\x9a\345\221\230\x49\x44\357\274\232" . $junior["\152\x75\156\x69\x6f\162\137\165\x69\144"] . "\x5c\156\346\xb3\xa8\xe5\206\x8c\xe6\x97\xb6\xe9\227\xb4\xef\274\232" . date("\x59\xe5\271\264\155\xe6\x9c\210\144\346\x97\245", time()) . "\134\156\134\x6e\346\204\x9f\350\260\242\346\x82\250\347\x9a\x84\xe6\224\xaf\346\214\201\357\274\x8c\74\x61\x20\150\x72\x65\146\x3d\134\42" . $url . "\x5c\x22\x3e\xe7\x82\271\xe5\x87\xbb\346\255\xa4\xe5\244\204\xe5\x8f\xaf\346\x9f\245\347\x9c\213\xe8\257\246\xe6\203\x85\x3c\57\141\76")), "\x74\x6f\165\163\x65\162" => $rec_member["\x6f\160\145\x6e\x69\144"]); goto JAPaV; R7mA5: $activity = pdo_get($this->table_recommend_activity, array("\x75\151\144" => $junior["\165\x69\144"], "\x6c\145\x73\163\x6f\156\151\x64" => $junior["\154\x65\x73\x73\157\x6e\x69\144"], "\163\164\141\164\x75\163" => 0)); goto GfAbA; VHn8g: E1Zws: goto bMAdE; mbcEn: $first = "\xe6\202\250\xe5\267\262\xe9\200\x9a\xe8\277\x87\343\x80\x8a{$lesson["\x62\x6f\x6f\153\x6e\141\155\145"]}\343\200\213\350\xaf\276\xe7\xa8\x8b\xe6\xb5\xb7\xe6\x8a\245\xe6\210\226\xe9\223\276\346\x8e\245\351\202\200\350\xaf\xb7{$already_num}\344\275\215\346\226\xb0\xe5\245\275\xe5\x8f\213\357\xbc\x8c\346\210\220\xe5\x8a\237\xe5\xae\214\xe6\210\x90\344\xbb\xbb\xe5\212\241\350\216\xb7\xe5\xbe\227\345\x85\x8d\xe8\xb4\xb9\345\255\246\xe4\xb9\240\xe8\257\245\xe8\xaf\xbe\347\250\x8b\xe7\x9a\x84\345\245\226\345\x8a\261\357\xbc\x8c\xe5\x85\x8d\xe8\xb4\xb9\345\255\246\344\xb9\240\xe6\234\237\351\231\x90{$lesson["\162\145\x63\157\x6d\x6d\x65\156\144\137\146\x72\x65\x65\137\x64\x61\x79"]}\xe5\xa4\xa9\343\x80\x82"; goto oVuHy; bDP92: $already_num = pdo_fetchcolumn("\123\105\114\x45\103\124\x20\103\x4f\125\x4e\124\x28\x2a\x29\x20\x46\x52\117\115\x20" . tablename($this->table_recommend_junior) . "\40\x57\x48\105\x52\105\40\x61\143\x74\x69\166\x69\x74\171\x5f\151\x64\x3d\72\141\x63\164\151\166\x69\x74\171\x5f\x69\x64\x20\101\x4e\x44\40\x75\151\x64\x3d\72\165\151\144\x20\101\116\x44\40\154\x65\163\x73\157\x6e\x69\144\x3d\x3a\x6c\145\x73\x73\x6f\156\x69\x64", array("\72\x61\x63\x74\151\166\151\x74\x79\137\151\x64" => $activity_id, "\72\x75\x69\144" => $junior["\x75\x69\x64"], "\72\154\145\163\163\157\156\x69\x64" => $junior["\154\145\163\x73\157\156\151\x64"])); goto PQDEx; oVuHy: enSMI: goto elekq; okc3x: return; goto flJVY; pdUsl: pdo_insert($this->table_recommend_activity, $activity_data); goto Sq9rn; CIl2u: $junior_member = pdo_get($this->table_fans, array("\x75\x69\x64" => $junior["\152\x75\156\x69\x6f\162\137\x75\151\x64"]), array("\156\151\x63\x6b\x6e\141\155\x65", "\157\x70\145\x6e\151\144")); goto izy9j; BHzdn: pdo_update($this->table_recommend_activity, array("\151\156\166\x69\164\145\x5f\x6e\x75\x6d\x62\x65\162\x20\53\75" => 1, "\x73\164\x61\x74\x75\x73" => 1, "\165\160\x64\141\x74\145\137\164\151\x6d\x65" => time()), array("\151\x64" => $activity["\151\x64"])); goto LvfjM; fq9vj: $order = pdo_get($this->table_order, array("\x75\x69\144" => $junior["\x75\x69\144"], "\154\145\x73\163\157\156\x69\144" => $junior["\x6c\145\163\x73\157\156\151\144"], "\x70\x61\171\164\x79\x70\x65" => "\x72\x65\143\147\x69\x76\145", "\x69\x73\x5f\144\145\x6c\x65\x74\x65" => 0)); goto WJUpJ; pSMYd: sLbGl: goto iDdop; Ys1p1: ns4Dw: goto nIrhn; flJVY: ViQ3m: goto R7mA5; gJuzO: $activity_data = array("\x75\156\x69\141\x63\151\x64" => $uniacid, "\165\151\x64" => $junior["\x75\151\144"], "\x6c\145\163\x73\x6f\156\x69\144" => $junior["\154\x65\x73\163\157\x6e\x69\x64"], "\x62\x6f\x6f\153\x6e\x61\x6d\145" => $lesson["\142\157\157\x6b\156\x61\x6d\145"], "\x69\155\141\147\145\163" => $lesson["\x69\x6d\x61\147\x65\163"], "\151\x6e\x76\x69\x74\145\x5f\x6e\165\x6d\x62\x65\x72" => 1, "\141\x64\144\164\151\x6d\x65" => time()); goto pdUsl; LvfjM: heNHR: goto mbcEn; X0Lh7: if (empty($activity)) { goto k1UcL; } goto FBjsn; ttKrC: $first = "\xe6\202\250\346\210\x90\345\212\237\351\200\232\350\xbf\x87\343\200\212{$lesson["\142\157\157\153\156\x61\x6d\x65"]}\xe3\x80\213\350\xaf\276\xe7\250\213\xe6\xb5\xb7\xe6\212\245\346\210\x96\xe9\223\276\xe6\216\xa5\351\x82\200\350\257\267\61\xe4\275\215\xe6\x96\260\xe5\xa5\xbd\345\x8f\x8b\357\274\x8c\345\x86\x8d\xe9\202\x80\350\257\xb7{$remain_num}\xe4\275\215\xe6\226\xb0\xe5\245\275\xe5\217\213\357\274\x8c\xe5\215\263\xe5\217\xaf\xe8\x8e\xb7\345\xbe\227\345\x85\215\xe8\264\271\xe5\xad\246\344\xb9\xa0\350\xaf\245\xe8\257\276\xe7\xa8\x8b\347\x9a\x84\345\245\x96\xe5\212\xb1\343\x80\x82"; goto T7twe; nqPPS: hEWGQ: goto X0Lh7; ORtNU: pdo_update($this->table_recommend_activity, array("\x69\156\x76\151\164\x65\137\156\165\155\x62\x65\x72\40\53\x3d" => 1, "\x75\x70\x64\x61\164\x65\x5f\164\151\155\145" => time()), array("\x69\x64" => $activity["\151\144"])); goto VHn8g; af50u: $uniacid = $_W["\x75\156\151\141\x63\x69\x64"]; goto L31Ha; vFuA0: pdo_insert($this->table_recommend_junior, $junior); goto bDP92; iDdop: $orderdata = array("\x61\x63\151\x64" => $_W["\x61\143\143\x6f\165\156\164"]["\141\x63\x69\144"], "\165\156\151\x61\143\151\144" => $uniacid, "\157\x72\144\145\x72\x73\156" => "\114" . date("\131\x6d\x64") . substr(time(), -5) . substr(microtime(), 2, 5) . sprintf("\45\x30\62\144", rand(1000, 9999)), "\x75\151\x64" => $junior["\165\x69\x64"], "\154\145\163\163\x6f\x6e\137\164\x79\x70\x65" => $lesson["\154\145\163\x73\157\x6e\x5f\x74\171\x70\145"], "\154\145\163\x73\x6f\x6e\151\x64" => $junior["\x6c\x65\163\x73\157\x6e\x69\144"], "\142\x6f\x6f\x6b\x6e\141\155\x65" => $lesson["\142\157\x6f\153\156\x61\x6d\145"], "\155\x61\162\153\145\x74\x70\162\151\143\x65" => 0, "\x70\x72\x69\143\145" => 0, "\x73\x70\145\143\x5f\x64\141\x79" => $lesson["\162\145\143\157\155\155\x65\156\144\x5f\146\x72\145\145\x5f\144\x61\171"], "\x74\145\x61\x63\x68\x65\162\151\x64" => $lesson["\x74\145\141\143\x68\145\x72\151\144"], "\x73\164\x61\x74\x75\163" => 1, "\x70\141\x79\164\171\160\145" => "\x72\145\x63\147\x69\166\x65", "\160\141\x79\164\x69\x6d\x65" => time(), "\166\x61\154\x69\x64\x69\x74\x79" => time() + $lesson["\x72\145\143\157\155\155\145\156\x64\137\x66\162\x65\x65\x5f\144\x61\x79"] * 86400, "\x61\x64\144\164\x69\x6d\x65" => time()); goto GzhBj; JAPaV: $account_api = WeAccount::create(); goto HH_2z; elekq: $url = $_W["\x73\x69\164\145\162\157\x6f\x74"] . "\141\160\160\x2f" . $this->redefineUrl($this->createMobileUrl("\162\x65\143\154\145\x73\163\157\x6e", array("\157\x70" => "\x64\x65\x74\x61\x69\x6c\x73", "\141\143\x74\151\166\151\164\171\x5f\x69\144" => $activity_id))); goto CIl2u; Rtw8A: lMROW: goto vMj91; BW3n0: goto ns4Dw; goto N4ZrK; FBjsn: $activity_id = $activity["\151\x64"]; goto bMFWE; N4ZrK: W2xWj: goto Ze3Yl; KH4HW: k1UcL: goto gJuzO; sVlJY: pdo_update($this->table_lesson_parent, array("\x62\x75\x79\156\x75\x6d\40\53\x3d" => 1), array("\x69\x64" => $junior["\154\x65\163\x73\x6f\x6e\151\x64"])); goto rcBd3; HH_2z: $account_api->sendCustomNotice($custom); goto BW3n0; nIrhn: } public function sendCouponByNewMember($member, $recmember, $setting) { goto QwEyx; HtNOe: BNR72: goto L7jay; HQ5dK: $t = $coupon_amount = 0; goto eIMcd; zOKMF: $account_api = WeAccount::create(); goto LgjFW; mD2TA: WOhOG: goto HtNOe; IXsKU: goto bRXc1; goto QXH5r; dT1ol: $account_api = WeAccount::create(); goto ueF7N; WBXg_: $recFans = pdo_fetch("\x53\x45\x4c\105\103\124\40\157\x70\145\156\x69\x64\x2c\156\x69\143\153\156\x61\155\145\x20\x46\x52\x4f\115\40" . tablename($this->table_fans) . "\40\127\110\x45\122\x45\40\x75\x69\144\75\72\165\x69\x64", array("\x3a\165\151\x64" => $recmember["\165\x69\x64"])); goto odw_l; u_Nyt: $regGive = json_decode($market["\x72\x65\x67\x5f\x67\151\x76\145"], true); goto eyXWf; lCbaP: $receive_coupon_format = json_decode($tplmessage["\x72\145\143\x65\151\x76\145\137\x63\x6f\165\x70\157\x6e\137\x66\x6f\162\155\x61\164"], true); goto u_Nyt; bfsez: bRXc1: goto ine2G; BokKo: $t = $coupon_amount = 0; goto Vzzo6; qN3XH: if (!($recTotal >= $market["\162\x65\143\157\x6d\x6d\x65\156\x64\137\164\x69\x6d\x65"])) { goto TLM7R; } goto PI2hx; O89SQ: if (!$t) { goto lSLg5; } goto WBXg_; FnEvv: if (!$t) { goto H5piJ; } goto Wl2zI; PI2hx: return; goto fUfNV; voqTh: goto U3qZJ; goto vJrvf; Xngw0: if (!$market["\162\x65\x63\157\x6d\x6d\x65\156\x64\137\164\x69\x6d\145"]) { goto eEUcd; } goto nfj0g; D4zQF: BYzry: goto FnEvv; rV2lp: LR14K: goto l9iAA; eIMcd: foreach ($regGive as $item) { goto pVQRX; sTwQ3: goto uCdwT; goto BKi_G; UQ26D: if (!empty($coupon)) { goto wZjW5; } goto sTwQ3; tYiM_: E_rTX: goto wjpnQ; pVQRX: $coupon = pdo_fetch("\x53\105\114\x45\x43\124\x20\52\x20\106\122\117\x4d\x20" . tablename($this->table_mcoupon) . "\x20\127\x48\105\x52\x45\x20\151\144\75\x3a\x69\x64", array("\72\x69\x64" => $item)); goto UQ26D; wjpnQ: uCdwT: goto wS4M_; BKi_G: wZjW5: goto a4C7a; KIsfq: if (!pdo_insert($this->table_member_coupon, $regCoupon)) { goto E_rTX; } goto FAGC4; FAGC4: $t++; goto U44fY; U44fY: $coupon_amount += $coupon["\x61\x6d\157\x75\156\x74"]; goto tYiM_; a4C7a: $regCoupon = array("\x75\156\151\x61\x63\151\144" => $uniacid, "\165\x69\x64" => $member["\165\151\144"], "\x61\x6d\x6f\x75\x6e\x74" => $coupon["\x61\x6d\x6f\x75\x6e\164"], "\143\157\x6e\144\x69\x74\151\x6f\x6e\163" => $coupon["\143\157\156\x64\151\x74\x69\x6f\x6e\x73"], "\x76\141\x6c\x69\x64\151\164\171" => $coupon["\166\x61\154\151\x64\151\164\171\x5f\164\171\160\x65"] == 1 ? $coupon["\x64\x61\x79\163\61"] : time() + $coupon["\144\x61\x79\x73\62"] * 86400, "\x75\163\145\137\164\x79\x70\145" => $coupon["\165\x73\145\x5f\164\x79\x70\145"], "\143\141\164\145\x67\x6f\x72\171\137\151\144" => $coupon["\x63\x61\x74\x65\147\x6f\162\x79\137\151\144"], "\x6c\145\x73\163\157\x6e\137\151\144\163" => $coupon["\154\145\x73\163\x6f\156\137\151\x64\x73"], "\x73\x74\x61\x74\x75\x73" => 0, "\x73\x6f\x75\162\x63\x65" => 6, "\143\157\x75\160\x6f\156\137\151\x64" => $coupon["\151\x64"], "\141\144\x64\x74\x69\x6d\x65" => time()); goto KIsfq; wS4M_: } goto D4zQF; fFvV3: $tplmessage = pdo_fetch("\123\x45\114\x45\x43\x54\40\162\145\x63\145\151\166\x65\137\x63\x6f\165\160\x6f\156\54\x72\x65\x63\145\151\166\145\x5f\x63\157\x75\x70\157\x6e\x5f\x66\x6f\162\155\141\x74\x20\x46\x52\x4f\x4d\40" . tablename($this->table_tplmessage) . "\x20\x57\110\105\122\105\40\165\156\x69\141\x63\151\144\x3d\72\x75\156\x69\141\x63\151\144", array("\x3a\165\x6e\x69\141\143\151\144" => $uniacid)); goto lCbaP; Us8W_: $custom = array("\x6d\x73\x67\164\x79\x70\x65" => "\164\x65\x78\x74", "\164\x65\170\164" => array("\143\157\156\164\x65\x6e\164" => urlencode($newFans["\x6e\151\143\153\156\141\x6d\x65"] . "\xef\274\214\xe7\273\210\xe4\272\x8e\xe7\255\x89\xe5\210\260\xe6\x82\xa8\344\xba\x86\343\x80\x82\347\xb3\273\xe7\273\237\xe8\265\240\346\x82\xa8" . $t . "\345\xbc\240\xe6\x96\xb0\344\274\232\345\x91\230\344\xb8\x93\xe4\xba\253\344\xbc\x98\346\203\240\xe5\210\270\xe5\xb7\xb2\xe5\217\221\346\x94\xbe\345\x88\xb0\xe6\202\250\xe7\232\x84\xe5\xb8\x90\345\x8f\xb7\xef\xbc\x8c\xe8\xaf\267\346\x82\250\346\x9f\xa5\xe6\x94\xb6\343\x80\202\x5c\x6e\134\156\xe8\xb4\246\xe6\210\267\xe5\220\215\357\274\x9a" . $newFans["\x6e\151\143\x6b\x6e\141\x6d\x65"] . "\134\156\xe6\x95\xb0\xe9\x87\x8f\357\xbc\232" . $t . "\xe5\274\240\x5c\x6e\xe6\227\xb6\351\227\xb4\357\xbc\x9a" . date("\x59\xe5\xb9\264\x6d\xe6\234\210\x64\xe6\x97\245", time()) . "\x5c\156\x5c\x6e" . $receive_coupon_format["\162\x65\x6d\141\162\x6b"] . "\74\141\x20\x68\x72\145\x66\x3d\x5c\x22" . $url . "\x5c\42\x3e\xe7\202\271\xe5\x87\xbb\xe6\255\244\xe5\xa4\204\xe5\x8f\257\346\237\xa5\xe7\x9c\x8b\350\xaf\xa6\xe6\203\x85\x3c\x2f\x61\76")), "\x74\x6f\x75\x73\x65\162" => $newFans["\x6f\x70\x65\156\x69\x64"]); goto dT1ol; auJWU: $custom = array("\x6d\163\147\164\171\160\x65" => "\x74\145\170\x74", "\x74\x65\x78\x74" => array("\x63\x6f\x6e\x74\x65\x6e\x74" => urlencode("\xe6\x81\xad\xe5\x96\234\xe6\202\xa8\346\210\x90\345\212\x9f\xe6\x8e\xa8\xe8\215\220\xe4\270\213\xe7\272\xa7\346\x88\220\xe5\221\230\357\xbc\214\xe7\xb3\273\xe7\273\237\xe8\265\xa0\346\202\xa8" . $t . "\345\xbc\240\xe4\274\x98\xe6\x83\240\xe5\210\xb8\345\xb7\262\345\x8f\x91\346\224\276\345\210\260\346\202\xa8\347\x9a\204\xe5\xb8\x90\xe5\217\267\xef\274\x8c\xe8\257\267\xe6\263\250\346\x84\217\xe6\237\245\346\x94\266\343\x80\x82\134\x6e\134\x6e\350\xb4\xa6\346\x88\267\xe5\x90\x8d\357\xbc\x9a" . $recFans["\x6e\151\x63\x6b\x6e\141\x6d\145"] . "\x5c\x6e\xe6\x95\xb0\xe9\207\x8f\357\274\x9a" . $t . "\xe5\xbc\xa0\x5c\x6e\xe6\x97\266\xe9\x97\xb4\357\274\x9a" . date("\131\345\xb9\264\155\346\234\210\x64\xe6\x97\245", time()) . "\x5c\x6e\x5c\156" . $receive_coupon_format["\x72\x65\155\141\162\153"] . "\x3c\141\40\150\x72\145\x66\x3d\x5c\x22" . $url . "\134\x22\x3e\xe7\202\xb9\xe5\x87\273\346\255\244\345\xa4\x84\xe5\217\257\346\x9f\245\347\234\x8b\350\xaf\xa6\346\203\x85\74\57\x61\x3e")), "\164\157\x75\163\145\162" => $recFans["\157\160\x65\156\151\x64"]); goto zOKMF; QXH5r: vMSXP: goto aqFv8; Q33z2: if (empty($regGive)) { goto BNR72; } goto ttDeV; S4uPj: U3qZJ: goto mirvN; QwEyx: global $_W; goto kClnM; wVcai: if ($tplmessage["\162\x65\143\145\151\166\x65\x5f\143\x6f\x75\x70\157\x6e"]) { goto RoPPm; } goto Us8W_; GwsL5: $this->send_template_message($sendmessage1, $uniacid); goto S4uPj; wS2A1: OCYg_: goto O89SQ; ine2G: lSLg5: goto rV2lp; eyXWf: $recommend = json_decode($market["\162\x65\143\157\x6d\155\145\x6e\144"], true); goto kCpRn; FTDvu: $this->send_template_message($sendmessage2, $uniacid); goto bfsez; vJrvf: RoPPm: goto IIccl; kCpRn: $remark = $receive_coupon_format["\x72\145\x6d\x61\162\153"] ? $receive_coupon_format["\x72\145\x6d\x61\x72\153"] : "\347\x82\271\xe5\x87\273\xe8\257\246\346\x83\x85\xe5\x8f\257\xe6\x9f\xa5\xe7\234\213\xe6\x82\xa8\347\x9a\204\xe5\270\x90\xe5\217\xb7\344\xbc\x98\xe6\203\240\345\210\270\350\257\246\346\x83\205\345\x93\xa6\176"; goto NeQq7; ttDeV: $regTotal = pdo_fetchcolumn("\x53\105\114\x45\103\x54\40\x43\117\125\x4e\x54\x28\x2a\x29\x20\x46\x52\x4f\115\40" . tablename($this->table_member_coupon) . "\x20\127\x48\105\122\105\40\x75\x69\x64\x3d\72\x75\x69\x64\40\x41\116\104\40\163\x6f\165\x72\143\x65\75\72\x73\157\165\162\143\x65", array("\x3a\x75\x69\144" => $member["\x75\x69\144"], "\x73\x6f\x75\162\143\x65" => 6)); goto W6wE3; ueF7N: $account_api->sendCustomNotice($custom); goto voqTh; pOckS: eEUcd: goto BokKo; odw_l: if ($tplmessage["\x72\x65\x63\145\151\x76\145\137\x63\157\165\160\157\x6e"]) { goto vMSXP; } goto auJWU; nfj0g: $recTotal = pdo_fetchcolumn("\x53\105\114\x45\103\x54\x20\103\x4f\x55\116\x54\50\52\51\x20\106\x52\x4f\115\x20" . tablename($this->table_member_coupon) . "\40\127\x48\105\x52\x45\x20\165\x69\144\75\x3a\165\x69\x64\40\x41\116\104\x20\x73\157\165\x72\x63\145\75\72\163\x6f\x75\x72\143\145", array("\x3a\x75\151\x64" => $recmember["\x75\151\144"], "\x73\x6f\165\x72\143\x65" => 3)); goto qN3XH; NeQq7: $url = $_W["\x73\x69\164\145\x72\x6f\x6f\x74"] . "\x61\160\160\x2f" . $this->redefineUrl($this->createMobileUrl("\143\x6f\165\160\x6f\x6e")); goto Q33z2; L7jay: if (!(!empty($recommend) && !empty($recmember))) { goto LR14K; } goto Xngw0; IIccl: $sendmessage1 = array("\164\x6f\x75\163\145\162" => $newFans["\x6f\160\145\x6e\x69\x64"], "\164\x65\155\x70\154\x61\164\145\x5f\151\144" => $tplmessage["\162\145\143\x65\x69\166\145\x5f\143\157\x75\x70\157\x6e"], "\x75\x72\154" => $url, "\x74\157\x70\x63\x6f\x6c\x6f\162" => "\x23\x37\x42\66\x38\105\x45", "\x64\141\164\141" => array("\146\x69\x72\x73\x74" => array("\166\x61\154\x75\x65" => $newFans["\156\151\143\153\156\x61\x6d\145"] . "\xef\274\214\347\xbb\x88\344\272\x8e\xe7\255\x89\xe5\x88\xb0\346\x82\xa8\xe4\xba\x86\343\x80\x82\347\xb3\273\xe7\xbb\x9f\xe8\xb5\240\xe6\x82\250{$t}\345\xbc\240\346\x96\xb0\344\xbc\232\345\221\x98\344\270\223\xe4\272\253\xe4\xbc\230\346\203\240\xe5\210\270\345\267\262\xe5\217\x91\xe6\224\xbe\345\x88\xb0\346\x82\250\xe7\x9a\x84\345\270\220\xe5\217\xb7\xef\274\x8c\350\257\xb7\xe6\x82\250\346\x9f\xa5\346\x94\266\343\200\202", "\143\x6f\x6c\x6f\162" => "\43\62\63\x39\x32\x45\101"), "\153\145\171\x77\x6f\162\144\61" => array("\166\141\x6c\165\x65" => "\344\273\267\xe5\x80\xbc" . $coupon_amount . "\345\x85\x83\347\x9a\204\xe4\xbc\230\346\203\xa0\345\210\xb8" . $t . "\x20\345\xbc\xa0", "\143\x6f\154\x6f\162" => ''), "\x6b\x65\x79\x77\157\x72\144\62" => array("\x76\x61\154\x75\145" => date("\131\345\271\264\155\346\234\x88\x64\346\x97\245", time()), "\143\157\154\157\x72" => ''), "\x72\x65\155\x61\162\x6b" => array("\166\x61\x6c\165\145" => $remark, "\x63\157\x6c\157\162" => ''))); goto GwsL5; mirvN: H5piJ: goto mD2TA; OJkqg: $market = pdo_fetch("\123\105\114\x45\103\124\40\x2a\40\106\122\117\115\x20" . tablename($this->table_market) . "\40\x57\x48\x45\122\105\x20\x75\156\x69\141\x63\x69\144\x3d\72\x75\156\151\x61\x63\x69\144", array("\72\165\x6e\x69\x61\143\151\144" => $uniacid)); goto fFvV3; kClnM: $uniacid = $_W["\165\x6e\151\x61\143\x69\x64"]; goto OJkqg; W6wE3: if (!(!$regTotal && $member)) { goto WOhOG; } goto HQ5dK; Wl2zI: $newFans = pdo_fetch("\x53\x45\x4c\105\103\124\x20\157\160\145\x6e\x69\x64\54\156\x69\143\x6b\156\141\x6d\x65\40\106\122\117\115\40" . tablename($this->table_fans) . "\x20\x57\110\x45\122\x45\x20\x75\x69\x64\x3d\x3a\x75\x69\x64", array("\x3a\x75\x69\x64" => $member["\165\x69\144"])); goto wVcai; LgjFW: $account_api->sendCustomNotice($custom); goto IXsKU; Vzzo6: foreach ($recommend as $item) { goto AiZ12; YiBTO: $t++; goto zHNy1; GW8x9: EJEhn: goto zwH_g; RFjhK: if (!pdo_insert($this->table_member_coupon, $recCoupon)) { goto TSpJO; } goto YiBTO; M3A5T: if (!empty($coupon)) { goto w3wWt; } goto z5BGj; AHGnr: w3wWt: goto ncOsX; z5BGj: goto EJEhn; goto AHGnr; h8h5p: TSpJO: goto GW8x9; ncOsX: $recCoupon = array("\x75\156\151\141\143\151\x64" => $uniacid, "\165\x69\144" => $recmember["\165\151\x64"], "\x61\155\x6f\165\x6e\164" => $coupon["\x61\x6d\157\x75\x6e\x74"], "\143\x6f\156\x64\151\164\151\x6f\x6e\x73" => $coupon["\143\x6f\156\144\x69\x74\x69\x6f\x6e\x73"], "\x76\x61\154\x69\x64\x69\164\171" => $coupon["\166\141\x6c\x69\x64\x69\164\171\x5f\x74\171\x70\x65"] == 1 ? $coupon["\x64\141\171\x73\61"] : time() + $coupon["\x64\x61\x79\163\x32"] * 86400, "\x75\163\x65\137\164\171\160\145" => $coupon["\165\163\x65\x5f\164\x79\x70\145"], "\143\141\x74\145\x67\157\162\171\137\x69\144" => $coupon["\143\141\164\x65\x67\157\x72\171\x5f\151\144"], "\x6c\x65\x73\x73\x6f\x6e\x5f\x69\144\x73" => $coupon["\154\145\x73\163\157\156\137\151\x64\x73"], "\163\x74\141\164\x75\x73" => 0, "\x73\157\x75\x72\x63\x65" => 3, "\143\x6f\x75\160\x6f\x6e\x5f\151\x64" => $coupon["\x69\144"], "\141\144\x64\164\151\x6d\x65" => time()); goto RFjhK; zHNy1: $coupon_amount += $coupon["\141\155\157\x75\x6e\x74"]; goto h8h5p; AiZ12: $coupon = pdo_fetch("\x53\x45\x4c\x45\103\x54\x20\x2a\40\106\122\x4f\115\40" . tablename($this->table_mcoupon) . "\40\x57\110\x45\x52\105\40\151\x64\75\72\151\x64", array("\x3a\x69\x64" => $item)); goto M3A5T; zwH_g: } goto wS2A1; fUfNV: TLM7R: goto pOckS; aqFv8: $sendmessage2 = array("\x74\x6f\165\x73\x65\162" => $recFans["\157\x70\x65\x6e\x69\x64"], "\164\145\x6d\160\154\141\x74\145\x5f\151\x64" => $tplmessage["\x72\x65\x63\145\151\x76\145\x5f\143\157\x75\x70\x6f\x6e"], "\x75\162\x6c" => $url, "\x74\x6f\160\x63\x6f\x6c\x6f\x72" => "\x23\67\x42\x36\70\105\105", "\144\141\x74\141" => array("\146\151\162\163\164" => array("\166\141\154\x75\145" => "\xe6\201\xad\345\226\x9c\xe6\202\xa8\346\210\x90\345\212\237\346\x8e\xa8\xe8\215\x90\xe4\270\213\347\xba\247\346\x88\x90\345\221\230\357\xbc\214\xe7\xb3\xbb\xe7\273\x9f\350\xb5\xa0\346\x82\250{$t}\345\274\240\344\xbc\x98\346\x83\240\345\210\270\345\267\262\xe5\217\221\346\x94\xbe\xe5\x88\xb0\xe6\x82\xa8\347\232\x84\xe5\xb8\220\345\x8f\267\357\274\214\xe8\257\267\xe6\xb3\250\346\x84\x8f\346\237\245\xe6\x94\xb6\xe3\x80\202", "\x63\x6f\x6c\x6f\x72" => "\43\x32\63\x39\62\105\101"), "\x6b\145\x79\x77\x6f\162\x64\61" => array("\x76\141\x6c\x75\145" => "\344\xbb\xb7\xe5\x80\xbc" . $coupon_amount . "\xe5\x85\203\347\232\204\344\xbc\x98\346\x83\240\345\210\270" . $t . "\x20\345\xbc\240", "\143\x6f\x6c\x6f\162" => ''), "\x6b\x65\x79\167\x6f\162\144\x32" => array("\x76\x61\154\x75\x65" => date("\x59\345\xb9\xb4\155\xe6\234\210\144\xe6\227\xa5", time()), "\x63\x6f\154\157\162" => ''), "\x72\x65\155\141\162\153" => array("\x76\141\x6c\x75\145" => $remark, "\143\157\154\x6f\x72" => ''))); goto FTDvu; l9iAA: } public function setMemberParentId($member, $recmember, $setting, $comsetting, $source_id) { goto RiKfa; v09th: $this->sendNoticeToMember3($member, $recmember3, $setting, $comsetting); goto dQ1j0; x0wsW: if (!($comsetting["\151\163\x5f\x73\141\154\x65"] == 1 && $recid > 0)) { goto FLhYL; } goto macgI; RiKfa: $recid = $recmember["\163\164\141\164\165\x73"] == 1 ? $recmember["\x75\151\x64"] : 0; goto x0wsW; tb3B6: up_eL: goto J_Aqb; fH3vU: FLhYL: goto LKBld; nWnHc: $this->sendNoticeToMember2($member, $recmember2, $setting, $comsetting); goto tb3B6; J_Aqb: $recmember3 = pdo_fetch("\123\x45\x4c\105\103\x54\x20\x2a\x20\x46\x52\x4f\x4d\40" . tablename($this->table_member) . "\x20\x57\x48\105\122\105\x20\165\x69\144\75\x3a\x75\x69\144", array("\x3a\165\151\x64" => $recmember2["\160\x61\162\145\x6e\x74\151\144"])); goto P31cH; LASWv: if (!($comsetting["\x69\x73\x5f\x73\141\x6c\x65"] == 1 && $recmember2["\165\151\x64"] > 0)) { goto up_eL; } goto nWnHc; macgI: $this->sendNoticeToMember1($member, $recmember, $setting, $source_id, $comsetting); goto fH3vU; LKBld: $recmember2 = pdo_fetch("\x53\x45\x4c\105\x43\124\x20\52\x20\x46\x52\x4f\115\x20" . tablename($this->table_member) . "\40\127\110\105\122\x45\40\165\x69\144\x3d\72\165\151\144", array("\x3a\x75\x69\x64" => $recmember["\160\141\x72\x65\156\x74\x69\x64"])); goto LASWv; dQ1j0: QmFmu: goto ufNj3; P31cH: if (!($comsetting["\x69\163\137\x73\x61\154\x65"] == 1 && $recmember3["\165\151\144"] > 0)) { goto QmFmu; } goto v09th; ufNj3: } public function sendNoticeToMember1($member, $recmember, $setting, $source_id, $comsetting) { goto Q6MG7; T6XiZ: $member_vip = pdo_fetchall("\123\105\114\x45\x43\x54\x20\x2a\x20\x46\x52\117\115\x20" . tablename($this->table_member_vip) . "\40\x57\110\x45\122\x45\40\165\x69\144\75\x3a\165\151\x64\x20\101\x4e\104\40\x76\141\x6c\x69\144\151\164\x79\76\72\166\x61\x6c\x69\x64\x69\164\x79", array("\72\165\x69\144" => $recmember["\165\x69\x64"], "\x3a\166\141\x6c\x69\144\x69\164\171" => time())); goto RVFcg; gXp80: kRuD4: goto lqOso; PLuMR: if (!empty($level)) { goto BYjEB; } goto UEVIN; TXW1D: $this->sendNewUserNoticeToRecmember($fans["\x6f\160\x65\x6e\151\x64"], $setting, $member["\x6e\x69\x63\x6b\156\x61\x6d\145"], $commission, $type = 1, $rec_income); goto Sm_41; T8Wye: $fans = pdo_fetch("\123\105\x4c\x45\103\x54\x20\156\151\x63\153\x6e\141\x6d\145\54\x6f\x70\x65\156\x69\144\40\x46\x52\117\x4d\x20" . tablename($this->table_fans) . "\x20\x20\127\x48\105\x52\105\x20\x75\151\x64\x3d\x3a\165\x69\x64", array("\72\x75\151\x64" => $recmember["\x75\151\x64"])); goto VpfUV; vD2ys: goto kRuD4; goto Tukrr; qrAUA: jeNCz: goto TXW1D; d9YWa: if ($comsetting["\x73\x65\154\x66\137\x73\x61\154\145"] == 1) { goto NsEgC; } goto dFV2o; qTdbo: suFca: goto TmxHW; y4h_z: $commission = unserialize($comsetting["\x63\x6f\x6d\x6d\151\163\163\x69\157\x6e"]); goto T8Wye; RVFcg: if (!empty($member_vip)) { goto kPhag; } goto lZDRG; yrZpw: $commission = $commission["\143\157\155\x6d\151\163\163\x69\x6f\156\61"]; goto vD2ys; gXVEN: NsEgC: goto PLuMR; EPG2s: if (!($comsetting["\163\141\154\145\x5f\162\141\x6e\153"] == 2)) { goto jeNCz; } goto T6XiZ; QGpVT: $commission = $level["\143\x6f\x6d\x6d\x69\163\163\151\157\156\61"]; goto gXp80; VpfUV: $rec_income = json_decode($comsetting["\162\145\x63\137\x69\x6e\143\x6f\155\145"], true); goto kae68; oc4yW: $log = array(0, "\xe7\x9b\264\xe6\216\xa5\346\x8e\xa8\350\215\220\344\xb8\213\xe7\xba\xa7\xe6\x88\x90\xe5\x91\x98\345\x8a\240\xe5\205\xa5", "\x66\171\x5f\154\145\163\163\157\156\x76\x32"); goto NVJZ5; lqOso: goto jnXem; goto gXVEN; eEhg7: VjV6c: goto ZGpze; Tukrr: qvJ32: goto QGpVT; dFV2o: if (!empty($level)) { goto qvJ32; } goto yrZpw; us6zm: if (!($recmember["\141\147\x65\x6e\x74\137\154\x65\x76\145\x6c"] > 0)) { goto mEiS9; } goto IX7Nn; UEVIN: $commission = $commission["\143\157\155\155\151\x73\163\x69\x6f\156\x32"]; goto dsN5e; TmxHW: if (!(floatval($rec_income["\x63\162\x65\x64\151\164\x32"]) > 0)) { goto X48Cg; } goto pg78p; IX7Nn: $level = pdo_fetch("\x53\105\114\105\103\124\x20\52\x20\106\x52\x4f\x4d\x20" . tablename($this->table_commission_level) . "\40\127\x48\105\x52\105\x20\x69\x64\75\x3a\151\144", array("\72\x69\x64" => $recmember["\x61\x67\145\156\x74\137\x6c\145\x76\x65\x6c"])); goto q7b22; xiE2o: BYjEB: goto SOeZB; Sm_41: tHmF1: goto ZPf4N; JJnD0: X48Cg: goto us6zm; Q6MG7: global $_W; goto r718d; q7b22: mEiS9: goto d9YWa; lZDRG: return; goto QW2O3; dsN5e: goto VjV6c; goto xiE2o; tSc7P: pdo_insert($this->table_commission_log, $logarr); goto JJnD0; NVJZ5: mc_credit_update($recmember["\x75\x69\144"], "\143\162\145\144\151\x74\61", $rec_income["\143\x72\145\144\151\x74\x31"], $log); goto qTdbo; SOeZB: $commission = $level["\143\x6f\155\x6d\x69\163\x73\x69\157\156\x32"]; goto eEhg7; ZGpze: jnXem: goto EPG2s; QW2O3: kPhag: goto qrAUA; SVmIz: load()->model("\x6d\143"); goto oc4yW; fUFMv: $logarr = array("\x75\x6e\x69\x61\143\x69\x64" => $_W["\165\156\x69\141\143\151\144"], "\157\x72\x64\145\162\x69\144" => $source_id, "\x75\x69\x64" => $recmember["\x75\x69\144"], "\156\x69\143\x6b\x6e\141\x6d\145" => $fans["\156\x69\x63\x6b\156\141\155\x65"], "\142\157\x6f\153\156\x61\x6d\x65" => "\xe6\216\xa8\xe8\x8d\x90\344\270\213\347\272\xa7\xe6\x88\x90\345\x91\230", "\x63\x68\x61\x6e\x67\145\x5f\156\x75\155" => $rec_income["\143\x72\145\x64\151\x74\62"], "\147\x72\x61\x64\x65" => 1, "\x72\x65\155\141\x72\x6b" => "\347\x9b\xb4\xe6\x8e\xa5\346\x8e\xa8\xe8\215\220\xe4\xb8\x8b\xe7\272\247\346\210\220\345\221\x98\345\212\240\345\205\245", "\142\165\171\x65\162\x5f\165\151\x64" => $member["\165\151\144"], "\x62\165\171\x65\x72\137\156\x61\x6d\145" => $member["\156\x69\x63\x6b\x6e\x61\x6d\145"], "\x61\x64\144\x74\x69\155\145" => time()); goto tSc7P; pg78p: pdo_update($this->table_member, array("\156\157\x70\x61\171\x5f\143\x6f\155\155\151\163\x73\x69\157\156" => $recmember["\x6e\157\x70\x61\x79\137\x63\157\155\x6d\x69\x73\163\151\157\x6e"] + $rec_income["\143\x72\145\x64\x69\164\x32"]), array("\165\x69\x64" => $recmember["\x75\x69\x64"])); goto fUFMv; kae68: if (!(floatval($rec_income["\143\162\x65\x64\151\164\61"]) > 0)) { goto suFca; } goto SVmIz; r718d: if (!($comsetting["\154\x65\166\145\154"] >= 1)) { goto tHmF1; } goto y4h_z; ZPf4N: } public function sendNoticeToMember2($member, $recmember, $setting, $comsetting) { goto wklOB; Mgcsn: RX9SP: goto OYO9Q; OfjdC: goto GiydC; goto Mgcsn; TPW00: $commission = $commission["\143\157\155\x6d\x69\163\x73\x69\157\x6e\x32"]; goto OfjdC; UFban: goto zCJYF; goto l7lNy; OO4tG: if (!empty($level)) { goto lYwfY; } goto JXBIa; tCwpp: xVHSe: goto Qs_ID; KUjyF: if (!empty($level)) { goto RX9SP; } goto TPW00; Qs_ID: $this->sendNewUserNoticeToRecmember($fans["\157\x70\145\x6e\151\144"], $setting, $member["\156\x69\x63\x6b\x6e\141\155\145"], $commission, $type = 2, $rec_income); goto Ipu4A; NEAeJ: zCJYF: goto tCwpp; myoRT: if (!($comsetting["\154\145\x76\145\154"] >= 2)) { goto jO8il; } goto ZGRuq; qqX3B: goto xVHSe; goto yJT3S; Ipu4A: jO8il: goto kCuS6; yJT3S: LNHV2: goto OO4tG; VFCVt: if ($comsetting["\163\x65\x6c\146\137\163\141\154\x65"] == 1) { goto LNHV2; } goto KUjyF; wklOB: global $_W; goto myoRT; drjrt: if (!($recmember["\141\x67\x65\156\x74\x5f\154\x65\166\145\154"] > 0)) { goto O00k3; } goto riRbb; riRbb: $level = pdo_fetch("\123\x45\114\x45\x43\x54\40\x2a\x20\106\122\117\115\x20" . tablename($this->table_commission_level) . "\40\x57\x48\x45\x52\x45\x20\151\144\75\x3a\x69\144", array("\x3a\x69\144" => $recmember["\x61\147\x65\x6e\x74\x5f\x6c\145\166\145\x6c"])); goto nBdwM; q4Owe: GiydC: goto qqX3B; OYO9Q: $commission = $level["\143\157\x6d\x6d\151\x73\x73\151\x6f\x6e\x32"]; goto q4Owe; nBdwM: O00k3: goto VFCVt; ZGRuq: $commission = unserialize($comsetting["\x63\157\155\155\x69\163\163\151\157\156"]); goto Rzago; l7lNy: lYwfY: goto UN1kI; Rzago: $fans = pdo_fetch("\123\x45\114\x45\x43\124\40\156\x69\143\x6b\156\141\x6d\145\x2c\x6f\160\x65\156\151\144\40\106\122\117\x4d\x20" . tablename($this->table_fans) . "\40\x20\127\110\105\x52\x45\x20\165\x69\x64\x3d\72\165\x69\144", array("\72\x75\151\x64" => $recmember["\x75\151\144"])); goto drjrt; UN1kI: $commission = $level["\x63\157\155\x6d\151\x73\x73\x69\x6f\156\63"]; goto NEAeJ; JXBIa: $commission = $commission["\x63\157\x6d\x6d\151\163\x73\151\157\x6e\63"]; goto UFban; kCuS6: } public function sendNoticeToMember3($member, $recmember, $setting, $comsetting) { goto WN_Jn; UjfEY: I5bLr: goto iJ_mr; WN_Jn: global $_W; goto GwifN; GwifN: if (!($comsetting["\154\x65\x76\145\154"] >= 3)) { goto QeT27; } goto Zxgz4; flJGC: if (!empty($level)) { goto EtFZj; } goto dSJFZ; n6z0g: $this->sendNewUserNoticeToRecmember($fans["\x6f\x70\x65\156\x69\144"], $setting, $member["\x6e\151\x63\153\x6e\x61\x6d\x65"], $commission, $type = 3, $rec_income); goto VEOKZ; VEOKZ: QeT27: goto CjrG4; ZSoT1: $commission = $level["\143\x6f\155\x6d\x69\163\x73\x69\157\x6e\63"]; goto UjfEY; QFHh0: vAlXY: goto ez1QB; Yb187: EtFZj: goto ZSoT1; s3AWW: kFvWy: goto gWNqj; NDzSO: $level = pdo_fetch("\123\x45\114\x45\103\x54\40\52\x20\x46\122\x4f\115\x20" . tablename($this->table_commission_level) . "\x20\x57\x48\105\122\105\40\x69\144\75\72\151\x64", array("\72\151\144" => $recmember["\141\x67\145\156\164\137\x6c\x65\166\x65\x6c"])); goto QFHh0; Zxgz4: $commission = unserialize($comsetting["\143\157\155\x6d\x69\163\163\x69\x6f\x6e"]); goto KxN4F; dSJFZ: $commission = $commission["\143\157\155\x6d\151\163\163\151\x6f\156\x33"]; goto tTTip; iJ_mr: goto vFiYN; goto s3AWW; LQ936: vFiYN: goto n6z0g; tTTip: goto I5bLr; goto Yb187; gWNqj: $commission = 0; goto LQ936; ez1QB: if ($comsetting["\x73\145\154\x66\x5f\163\x61\154\145"] == 1) { goto kFvWy; } goto flJGC; KxN4F: $fans = pdo_fetch("\x53\x45\x4c\105\103\x54\40\156\151\143\x6b\x6e\x61\155\x65\x2c\x6f\x70\x65\x6e\151\144\40\x46\122\x4f\115\40" . tablename($this->table_fans) . "\x20\x20\x57\x48\105\x52\105\40\165\151\144\x3d\72\x75\151\144", array("\x3a\165\x69\x64" => $recmember["\165\x69\x64"])); goto DDBO7; DDBO7: if (!($recmember["\x61\x67\x65\156\x74\137\154\x65\166\145\154"] > 0)) { goto vAlXY; } goto NDzSO; CjrG4: } public function sendNewUserNoticeToRecmember($toOpenid, $setting, $nickname, $commission, $type, $rec_income = array()) { goto pBWkm; BIReq: $tplmessage = pdo_fetch("\123\x45\114\105\x43\x54\x20\156\145\167\152\157\x69\156\x2c\40\x6e\x65\x77\x6a\157\x69\x6e\137\146\x6f\162\x6d\x61\164\40\106\122\117\115\40" . tablename($this->table_tplmessage) . "\x20\x57\110\x45\x52\x45\40\x75\156\x69\141\143\x69\x64\x3d\x3a\x75\x6e\151\x61\x63\151\x64", array("\x3a\x75\156\151\x61\143\151\x64" => $setting["\165\x6e\x69\x61\x63\151\x64"])); goto jLYfy; J3J4L: if (!($rec_income["\143\162\x65\144\x69\164\x31"] > 0)) { goto RyuNv; } goto nLlPv; jLYfy: $newjoin_format = json_decode($tplmessage["\156\x65\167\x6a\x6f\x69\156\x5f\x66\157\162\155\141\x74"], true); goto nEeqf; zvRHr: if (!($rec_income["\143\162\x65\144\151\x74\62"] > 0)) { goto y2ksh; } goto aOv3m; nLlPv: $award_tip .= $rec_income["\x63\162\145\144\x69\164\61"] . "\xe4\270\xaa\xe7\247\257\xe5\x88\x86"; goto oDYkE; oDYkE: RyuNv: goto zvRHr; eL22g: $award_tip = "\357\274\x8c\347\263\xbb\347\273\x9f\xe5\245\226\345\x8a\xb1\346\x82\xa8"; goto J3J4L; fvYdg: ZKKJY: goto ewVMg; aOv3m: $award_tip .= "\357\xbc\214\357\xbf\245" . $rec_income["\x63\162\145\144\151\164\62"] . "\344\275\243\xe9\x87\x91\357\xbc\x8c\xe5\xb7\262\345\217\221\346\224\xbe\xe5\210\xb0\xe6\x82\xa8\xe7\232\204\350\xb4\xa6\346\210\267\343\200\x82"; goto e9bP2; ZV01A: $this->send_template_message($send, $setting["\165\x6e\151\141\x63\x69\x64"]); goto fvYdg; jjaRn: ffdLh: goto JzdXt; vtazp: if (!($type == 1)) { goto HJyj1; } goto PIYz1; n4vqa: if (!($commission > 0)) { goto ZKKJY; } goto ZV01A; JzdXt: HJyj1: goto BIReq; PIYz1: if (!($rec_income["\x63\162\x65\144\x69\164\61"] > 0 || $rec_income["\x63\162\145\144\x69\164\62"] > 0)) { goto ffdLh; } goto eL22g; e9bP2: y2ksh: goto jjaRn; nEeqf: $send = array("\164\157\x75\x73\x65\162" => $toOpenid, "\x74\x65\x6d\x70\x6c\x61\164\145\x5f\151\x64" => $tplmessage["\x6e\145\x77\152\157\x69\x6e"], "\x75\x72\x6c" => $_W["\163\151\x74\145\x72\157\157\164"] . "\x61\160\x70\x2f" . $this->redefineUrl($this->createMobileUrl("\x74\145\141\x6d", array("\x6c\x65\166\x65\154" => 1))), "\164\x6f\x70\143\157\x6c\157\162" => "\x23\x65\x32\x35\x38\60\64", "\144\141\164\141" => array("\x66\151\162\x73\164" => array("\x76\141\x6c\x75\x65" => $newjoin_format["\x66\x69\x72\163\164"] ? $newjoin_format["\146\x69\x72\x73\164"] : "\346\x81\xad\345\226\234\346\202\250\xe6\234\211\xe6\x96\260\347\x9a\204\xe6\x88\220\345\x91\x98\345\x8a\240\345\205\245" . $award_tip, "\x63\x6f\154\x6f\x72" => ''), "\153\x65\x79\167\x6f\x72\x64\x31" => array("\166\141\154\x75\145" => $nickname ? $nickname . "\x28{$type}\x29" : "\x28{$type}\51", "\143\157\x6c\x6f\x72" => ''), "\153\x65\x79\x77\157\x72\x64\62" => array("\x76\141\x6c\165\145" => date("\x59\345\271\264\x6d\346\234\x88\144\xe6\x97\245", time()), "\143\157\154\157\162" => ''), "\162\x65\155\x61\x72\x6b" => array("\166\141\154\x75\x65" => $newjoin_format["\162\x65\x6d\141\x72\153"] ? $newjoin_format["\162\145\155\141\x72\x6b"] : "\346\x82\xa8\347\x9a\204\xe4\xb8\213\xe7\272\xa7\xe6\x88\220\345\x91\230\350\xbf\x9b\350\241\214\xe6\266\210\350\264\271\346\227\266\357\xbc\x8c\346\202\xa8\xe5\260\x86\346\x9c\x89\xe6\x9c\xba\xe4\xbc\232\350\x8e\267\xe5\xbe\227\xe5\xa5\x96\xe5\x8a\xb1\x7e", "\x63\x6f\154\x6f\x72" => ''))); goto n4vqa; pBWkm: global $_W; goto vtazp; ewVMg: } public function systemEvaluate($evaluate) { goto a_3y8; F_7F3: $data["\x75\x6e\144\145\162\x73\164\x61\156\x64\x5f\163\143\157\162\x65"] = round($data["\164\157\x74\x61\x6c\137\x75\x6e\144\145\x72\x73\x74\x61\x6e\144"] / $total, 2); goto nuHNs; DoYYl: aEIfE: goto v0Ncu; SA89y: $data["\143\x6f\x6e\x74\x65\156\164\137\163\143\x6f\162\x65"] = round($data["\x74\157\x74\x61\x6c\x5f\x63\157\x6e\x74\145\156\x74"] / $data["\164\157\164\x61\154\x5f\156\165\155\x62\x65\x72"], 2); goto QqsrM; xWIJi: $good = pdo_fetchcolumn("\x53\x45\114\105\103\124\x20\x43\x4f\125\x4e\124\x28\52\51\40\x46\x52\117\115\40" . tablename($this->table_evaluate) . "\40\127\110\105\x52\105\40\165\x6e\151\141\143\151\144\75\x3a\165\156\x69\x61\x63\x69\x64\x20\101\x4e\104\40\x6c\145\x73\163\157\x6e\151\144\x3d\72\x6c\145\x73\x73\x6f\x6e\x69\x64\x20\x41\x4e\104\x20\x67\x72\141\x64\145\75\x3a\147\x72\x61\144\x65\x20\101\x4e\x44\x20\x73\164\141\164\165\163\75\x3a\x73\164\x61\x74\165\163", array("\72\165\156\151\x61\x63\151\x64" => $evaluate["\165\156\x69\x61\x63\x69\x64"], "\72\154\x65\163\163\x6f\x6e\151\144" => $evaluate["\x6c\145\163\163\157\x6e\151\x64"], "\72\147\162\141\x64\x65" => 1, "\x3a\x73\x74\141\x74\165\163" => 1)); goto DxgfL; AdpVl: $data["\164\x6f\164\141\154\x5f\x63\157\x6e\164\145\156\x74"] = $evaluate_score["\x74\157\164\141\154\x5f\x63\x6f\156\164\x65\x6e\164"] + $evaluate["\x63\157\x6e\164\x65\x6e\x74\137\x73\x63\157\x72\145"]; goto OAEUL; fswzX: $data["\x63\x6f\x6e\164\x65\x6e\x74\137\163\143\157\x72\145"] = round($data["\164\x6f\164\141\x6c\137\x63\x6f\156\164\x65\x6e\x74"] / $total, 2); goto F_7F3; z8Na4: $data["\x73\143\x6f\x72\145"] = round($data["\164\157\164\x61\x6c\137\x67\x6f\x6f\x64\163"] / $data["\164\157\x74\141\154\x5f\x6e\x75\155\x62\x65\x72"], 2); goto plW38; HZMfl: $data["\x67\154\x6f\142\141\154\x5f\x73\143\157\162\x65"] = round($data["\x74\x6f\164\x61\154\x5f\147\x6c\x6f\x62\141\154"] / $total, 2); goto fswzX; plW38: $data["\147\154\157\x62\141\154\137\x73\143\x6f\162\x65"] = round($data["\164\157\x74\x61\154\137\x67\154\157\142\141\x6c"] / $data["\164\x6f\164\141\154\x5f\156\x75\x6d\x62\x65\162"], 2); goto SA89y; OAEUL: $data["\164\157\164\141\x6c\x5f\x75\156\x64\145\162\163\164\x61\156\x64"] = $evaluate_score["\x74\157\x74\x61\x6c\x5f\x75\156\x64\145\162\x73\164\141\156\x64"] + $evaluate["\x75\x6e\144\145\162\163\x74\x61\x6e\144\137\163\143\157\x72\x65"]; goto U_k1R; tmhpp: goto aEIfE; goto lMWw8; y_2_q: $data["\164\157\x74\x61\154\x5f\x67\154\157\142\141\x6c"] = $evaluate_score["\164\x6f\x74\141\x6c\137\147\154\x6f\x62\x61\154"] + $evaluate["\147\x6c\x6f\142\x61\x6c\137\x73\x63\x6f\162\x65"]; goto AdpVl; v0Ncu: pdo_update($this->table_lesson_parent, array("\x73\143\157\162\145" => $data["\163\x63\157\x72\145"]), array("\x69\144" => $evaluate["\x6c\145\163\x73\x6f\x6e\151\x64"])); goto Y1Ped; QqsrM: $data["\x75\156\144\145\162\x73\x74\x61\156\x64\137\x73\x63\157\162\145"] = round($data["\x74\157\x74\141\x6c\137\x75\156\144\x65\x72\x73\164\141\156\144"] / $data["\164\x6f\x74\141\154\137\156\165\155\x62\145\162"], 2); goto wS6VB; WXSzF: $total = pdo_fetchcolumn("\x53\105\x4c\x45\103\x54\40\x43\x4f\125\116\x54\50\52\51\x20\106\x52\x4f\115\40" . tablename($this->table_evaluate) . "\x20\127\x48\x45\x52\105\x20\165\156\x69\x61\143\x69\144\75\72\165\156\x69\141\x63\151\144\x20\101\x4e\x44\x20\x6c\x65\163\163\157\156\x69\x64\75\72\x6c\x65\x73\163\157\156\x69\144\x20\101\116\x44\x20\x73\164\x61\x74\x75\x73\x3d\72\x73\x74\x61\x74\x75\163", array("\72\x75\156\x69\141\x63\x69\144" => $evaluate["\165\156\x69\x61\143\x69\144"], "\x3a\154\x65\163\x73\157\156\x69\x64" => $evaluate["\154\145\163\x73\x6f\156\151\144"], "\x3a\163\164\141\164\165\163" => 1)); goto xWIJi; DxgfL: $data = array("\165\156\x69\141\143\x69\144" => $evaluate["\x75\156\x69\141\143\x69\x64"], "\154\145\163\163\157\156\151\x64" => $evaluate["\x6c\145\x73\x73\x6f\x6e\151\x64"], "\163\143\157\162\145" => round($good / $total, 2), "\x74\157\x74\x61\x6c\137\147\157\x6f\144\163" => $good, "\164\x6f\x74\x61\154\137\x67\x6c\157\x62\141\x6c" => ($total - 1) * 5 + $evaluate["\147\154\x6f\142\141\154\x5f\163\143\157\x72\x65"], "\164\x6f\x74\x61\x6c\x5f\143\x6f\x6e\x74\x65\156\x74" => ($total - 1) * 5 + $evaluate["\x63\x6f\156\x74\145\156\x74\137\x73\x63\157\x72\x65"], "\164\157\x74\141\x6c\137\165\x6e\144\145\x72\163\x74\x61\x6e\x64" => ($total - 1) * 5 + $evaluate["\x75\156\x64\145\x72\x73\x74\x61\156\144\137\163\x63\x6f\x72\x65"], "\x74\157\x74\141\x6c\137\x6e\x75\x6d\x62\x65\x72" => $total, "\165\160\x64\141\164\x65\137\164\151\155\x65" => time()); goto HZMfl; VR5Gm: if (!$evaluate_score) { goto pRF8p; } goto rhpQQ; nuHNs: pdo_insert($this->table_evaluate_score, $data); goto DoYYl; lMWw8: pRF8p: goto WXSzF; wS6VB: $data["\x75\x70\x64\x61\164\x65\x5f\x74\x69\x6d\x65"] = time(); goto KIM2r; U_k1R: $data["\x74\x6f\x74\141\x6c\x5f\x6e\x75\155\142\x65\162"] = $evaluate_score["\x74\x6f\x74\x61\154\137\156\x75\155\142\x65\162"] + 1; goto z8Na4; a_3y8: $evaluate_score = pdo_get($this->table_evaluate_score, array("\x75\x6e\x69\x61\x63\x69\x64" => $evaluate["\x75\x6e\151\141\x63\151\x64"], "\154\145\x73\163\x6f\x6e\x69\x64" => $evaluate["\154\145\163\163\x6f\x6e\x69\144"])); goto VR5Gm; rhpQQ: $data["\x74\157\164\141\154\137\147\157\x6f\x64\x73"] = $evaluate["\147\162\x61\144\145"] == 1 ? $evaluate_score["\164\x6f\164\141\x6c\x5f\147\157\x6f\x64\163"] + 1 : $evaluate_score["\164\x6f\x74\141\x6c\137\147\x6f\157\x64\x73"]; goto y_2_q; KIM2r: pdo_update($this->table_evaluate_score, $data, array("\151\144" => $evaluate_score["\x69\x64"])); goto tmhpp; Y1Ped: } public function memberEvaluate($evaluate) { goto LE4ql; LE4ql: $evaluate_score = pdo_get($this->table_evaluate_score, array("\x75\156\x69\141\x63\x69\144" => $evaluate["\165\156\151\x61\x63\x69\144"], "\x6c\145\x73\163\157\156\151\x64" => $evaluate["\x6c\145\163\x73\x6f\x6e\x69\x64"])); goto CpnLO; bFhUj: $total_score = pdo_fetchall("\123\105\114\105\x43\124\x20\x53\125\115\x28\x67\154\x6f\142\x61\154\x5f\163\x63\157\162\x65\x29\40\x61\x73\x20\x74\x6f\164\x61\x6c\x5f\147\154\157\x62\141\154\54\x20\123\125\115\x28\x63\157\x6e\164\x65\156\164\x5f\163\x63\157\162\x65\51\40\x61\163\x20\164\157\x74\141\x6c\137\143\157\156\164\145\x6e\164\x2c\x20\123\125\x4d\x28\165\156\x64\x65\162\163\x74\141\156\144\x5f\163\143\157\162\x65\x29\40\x61\163\x20\x74\x6f\164\x61\x6c\x5f\165\x6e\x64\x65\162\163\164\x61\156\x64\40\x46\x52\x4f\x4d\40" . tablename($this->table_evaluate) . "\x20\127\x48\x45\122\x45\40\x75\x6e\151\141\143\151\144\75\72\165\x6e\x69\x61\x63\x69\x64\40\101\x4e\x44\40\x6c\x65\x73\x73\x6f\x6e\151\x64\x3d\x3a\154\145\163\163\x6f\156\151\144\40\101\x4e\104\x20\163\164\x61\x74\165\x73\75\72\x73\x74\141\164\165\163", array("\x3a\165\x6e\x69\141\x63\151\x64" => $evaluate["\165\x6e\x69\x61\x63\x69\144"], "\72\154\145\x73\x73\x6f\x6e\151\x64" => $evaluate["\154\145\163\x73\157\x6e\x69\x64"], "\72\163\x74\141\164\165\163" => 1)); goto UkrLv; NmPFX: pdo_update($this->table_evaluate_score, $data, array("\165\156\x69\141\143\x69\144" => $evaluate["\165\156\151\141\143\151\144"], "\151\144" => $evaluate_score["\x69\144"])); goto O1LEC; LeLXV: pdo_insert($this->table_evaluate_score, $data); goto xNvKY; O1LEC: goto ucqxW; goto k7wVr; VABT4: $good = pdo_fetchcolumn("\x53\x45\114\x45\x43\124\x20\103\x4f\125\x4e\x54\50\x2a\51\40\x46\122\x4f\x4d\x20" . tablename($this->table_evaluate) . "\x20\x57\110\105\122\105\40\x75\x6e\151\141\x63\151\144\75\72\x75\156\151\141\143\151\x64\40\x41\x4e\x44\x20\154\x65\163\x73\157\156\151\x64\75\x3a\154\145\163\163\x6f\156\151\x64\40\x41\x4e\104\40\147\162\x61\144\145\75\x3a\x67\x72\141\x64\x65\x20\x41\x4e\104\40\x73\x74\x61\164\165\x73\x3d\x3a\163\x74\141\164\165\163", array("\72\x75\156\x69\x61\143\x69\x64" => $evaluate["\165\x6e\x69\141\143\151\x64"], "\72\x6c\145\163\x73\157\x6e\151\x64" => $evaluate["\154\x65\x73\163\157\x6e\151\x64"], "\x3a\x67\162\x61\144\x65" => 1, "\x3a\x73\x74\x61\x74\x75\163" => 1)); goto bFhUj; LcB3q: if (!$evaluate_score) { goto VHSrU; } goto NmPFX; UkrLv: $data = array("\165\x6e\x69\x61\143\x69\x64" => $evaluate["\x75\156\x69\x61\x63\x69\x64"], "\x6c\145\163\x73\x6f\156\151\144" => $evaluate["\x6c\145\163\x73\x6f\156\151\x64"], "\163\143\157\x72\x65" => round($good / $total, 2), "\147\x6c\157\x62\x61\x6c\137\163\x63\x6f\162\145" => round($total_score[0]["\x74\157\164\141\x6c\137\147\x6c\x6f\x62\141\154"] / $total, 2), "\x63\x6f\156\164\145\x6e\164\x5f\163\x63\157\x72\145" => round($total_score[0]["\x74\x6f\x74\141\154\137\143\157\156\x74\x65\156\164"] / $total, 2), "\x75\x6e\144\x65\x72\x73\164\141\156\144\x5f\x73\143\x6f\x72\145" => round($total_score[0]["\164\x6f\164\x61\x6c\x5f\165\156\144\145\x72\163\x74\141\156\x64"] / $total, 2), "\x74\157\164\141\x6c\137\x67\x6f\x6f\144\x73" => $good, "\x74\157\x74\141\x6c\137\147\x6c\x6f\x62\x61\154" => $total_score[0]["\164\x6f\x74\x61\154\137\147\x6c\x6f\x62\x61\154"], "\164\x6f\x74\141\x6c\x5f\x63\x6f\x6e\164\x65\156\164" => $total_score[0]["\x74\157\x74\x61\154\x5f\143\157\156\x74\x65\156\164"], "\164\157\164\141\154\x5f\x75\156\144\x65\162\x73\164\141\x6e\144" => $total_score[0]["\x74\x6f\164\141\154\x5f\x75\x6e\x64\x65\x72\163\x74\141\x6e\144"], "\164\x6f\164\x61\154\137\156\165\155\x62\x65\162" => $total, "\x75\x70\144\x61\x74\x65\x5f\164\x69\x6d\145" => time()); goto LcB3q; WrDHu: pdo_update($this->table_lesson_parent, array("\163\143\x6f\x72\x65" => $data["\x73\x63\157\162\145"]), array("\151\144" => $evaluate["\154\145\163\163\157\x6e\151\144"])); goto RJC6L; CpnLO: $total = pdo_fetchcolumn("\x53\x45\x4c\105\x43\124\40\x43\117\125\x4e\x54\x28\52\x29\x20\106\122\x4f\115\x20" . tablename($this->table_evaluate) . "\x20\127\110\105\122\105\x20\x75\x6e\x69\141\x63\x69\144\x3d\72\x75\x6e\x69\141\143\151\x64\x20\x41\x4e\x44\x20\154\x65\x73\163\x6f\156\151\144\75\72\154\x65\x73\163\157\156\151\x64\x20\x41\116\104\x20\163\164\141\164\165\163\75\72\163\x74\x61\164\165\163", array("\x3a\x75\x6e\x69\141\143\151\x64" => $evaluate["\x75\x6e\151\x61\143\151\x64"], "\x3a\x6c\145\163\163\x6f\156\x69\144" => $evaluate["\x6c\x65\163\163\157\x6e\x69\144"], "\72\x73\164\141\164\x75\x73" => 1)); goto VABT4; k7wVr: VHSrU: goto LeLXV; xNvKY: ucqxW: goto WrDHu; RJC6L: } public function send_template_message($messageDatas, $uniacid = '') { goto gcwUm; gcwUm: global $_W, $_GPC; goto Ydj7m; lhi8g: mZoXo: goto zX4Yt; TeAye: $account_api = WeixinAccount::create($account); goto qX6Pe; EJZl1: $urls = "\x68\x74\x74\x70\x73\72\x2f\x2f\141\x70\151\56\167\x65\151\170\x69\156\x2e\161\x71\x2e\x63\x6f\155\57\143\x67\151\x2d\142\151\x6e\57\155\145\x73\x73\x61\x67\145\x2f\164\x65\x6d\x70\x6c\141\x74\x65\57\x73\145\x6e\x64\x3f\x61\x63\143\x65\x73\163\x5f\x74\157\x6b\145\x6e\75" . $access_token; goto m43Oh; qX6Pe: $access_token = $account_api->getAccessToken(); goto EJZl1; Ydj7m: if (!(!$messageDatas["\x74\157\165\x73\x65\x72"] || !$messageDatas["\x74\145\155\160\154\x61\164\145\137\x69\144"])) { goto KtM1j; } goto Qc52_; mUUfx: $account = uni_fetch($uniacid); goto lhi8g; ACkiq: return json_decode($ress, true); goto RxPSK; AJdUJ: $ress = ihttp_request($urls, $messageDatas); goto ACkiq; u2oEx: KtM1j: goto Iln06; zX4Yt: load()->classs("\x77\x65\x69\x78\x69\156\56\141\x63\143\x6f\x75\156\x74"); goto TeAye; m43Oh: $messageDatas = urldecode(json_encode($messageDatas)); goto AJdUJ; Qc52_: return; goto u2oEx; Iln06: if (!$uniacid) { goto mZoXo; } goto mUUfx; RxPSK: } public function updateMemberVip($uid, $vip) { return pdo_update($this->table_member, array("\166\x69\160" => $vip), array("\165\x69\x64" => $uid)); } public function getLevelById($level_id) { global $_W; return pdo_get($this->table_vip_level, array("\x75\x6e\x69\x61\x63\x69\144" => $_W["\x75\x6e\x69\x61\143\151\x64"], "\x69\x64" => $level_id)); } public function getNextSectionid($section, $title_list) { goto xvSxB; xvSxB: if ($section["\x74\x69\164\x6c\x65\x5f\x69\x64"]) { goto chhBU; } goto HfC2U; lxARs: foreach ($section_sort as $key => $value) { goto BKNCI; BKNCI: if (!($value["\151\x64"] == $section["\151\x64"])) { goto hL9Lx; } goto bbzl0; MaoSP: hL9Lx: goto x8Y23; bOzJS: goto l51Lh; goto MaoSP; bbzl0: $next_sectionid = $section_sort[$key + 1]["\151\x64"]; goto bOzJS; x8Y23: lhdXj: goto X9lrH; X9lrH: } goto RkrQW; wqY0e: cTpfz: goto Aeq44; s1zrU: if (!$next_section) { goto ypuwL; } goto iNgXB; fnFHy: ypuwL: goto wqY0e; C3dZq: $next_section = pdo_fetch("\x53\x45\114\105\x43\124\x20\151\144\x20\106\x52\117\x4d\x20" . tablename($this->table_lesson_son) . "\40\x57\110\105\x52\x45\40\x74\x69\164\x6c\x65\137\x69\144\x3d\72\164\x69\164\154\x65\137\151\144\40\x41\x4e\x44\40\163\x74\141\164\165\163\x3d\x3a\x73\x74\141\x74\x75\x73\x20\x4f\122\104\105\x52\40\102\x59\x20\x64\151\x73\160\154\x61\x79\x6f\162\x64\x65\x72\x20\x44\x45\123\103\54\151\144\x20\101\x53\103\x20\x4c\x49\115\x49\x54\x20\x31", array("\x3a\x74\151\x74\x6c\x65\x5f\151\x64" => $next_title["\x74\x69\164\154\x65\x5f\151\144"], "\72\163\164\x61\164\x75\x73" => 1)); goto s1zrU; Wm7uE: FC5Qr: goto C3dZq; JpHRM: foreach ($section_sort as $key => $value) { goto U89Qp; U89Qp: if (!($value["\x69\x64"] == $section["\x69\144"])) { goto E76pN; } goto fmsIg; u8hN7: KPUkW: goto BIkp2; fmsIg: $next_sectionid = $section_sort[$key + 1]["\151\144"]; goto KSk7r; gmZvD: E76pN: goto u8hN7; KSk7r: goto hf1q4; goto gmZvD; BIkp2: } goto wPLrt; quwqL: return $next_sectionid; goto CBRBy; ftJJq: foreach ($title_list as $key => $value) { goto vhZsD; kdj3b: $next_title = $title_list[$key + 1]; goto bZD3H; jpZqJ: C2wwe: goto FF9Y2; bZD3H: goto FC5Qr; goto z53GV; vhZsD: if (!($value["\164\151\x74\x6c\145\x5f\151\x64"] == $section["\164\x69\164\154\x65\x5f\151\144"])) { goto MEPJt; } goto kdj3b; z53GV: MEPJt: goto jpZqJ; FF9Y2: } goto Wm7uE; wPLrt: hf1q4: goto O2fhA; RkrQW: l51Lh: goto UGHeQ; HfC2U: $section_sort = pdo_fetchall("\123\x45\114\x45\103\x54\40\x69\144\40\106\x52\x4f\x4d\40" . tablename($this->table_lesson_son) . "\x20\127\110\x45\122\x45\40\x70\141\x72\x65\156\164\151\144\75\72\160\141\x72\145\156\164\151\144\x20\101\x4e\104\40\x74\151\164\154\x65\x5f\x69\x64\75\x3a\164\151\164\x6c\145\x5f\x69\144\40\x41\116\104\x20\x73\164\141\x74\165\163\75\x3a\x73\x74\x61\164\165\x73\x20\117\x52\104\105\122\40\x42\x59\x20\144\x69\163\160\154\x61\x79\157\162\144\145\x72\x20\x44\x45\123\x43\54\151\144\x20\101\123\103", array("\72\x70\x61\x72\145\156\164\x69\x64" => $section["\160\141\x72\x65\156\164\x69\x64"], "\x3a\x74\151\x74\154\x65\137\x69\x64" => 0, "\x3a\163\x74\141\x74\165\163" => 1)); goto lxARs; UGHeQ: goto lk0w_; goto wPi0r; Aeq44: lk0w_: goto quwqL; wPkmt: $section_sort = pdo_fetchall("\x53\105\x4c\105\103\x54\x20\x69\144\x20\x46\122\117\115\x20" . tablename($this->table_lesson_son) . "\x20\127\x48\105\x52\105\x20\x70\x61\162\145\156\164\x69\x64\75\x3a\x70\x61\x72\x65\x6e\x74\x69\x64\x20\x41\116\104\x20\x74\x69\x74\x6c\145\137\x69\x64\75\72\164\x69\x74\x6c\x65\x5f\151\x64\40\x41\x4e\104\40\x73\164\x61\164\x75\163\x3d\72\x73\164\x61\164\165\x73\40\117\122\x44\105\x52\40\x42\x59\40\144\x69\x73\160\x6c\141\x79\x6f\162\x64\x65\162\40\104\x45\x53\103\54\x69\144\x20\101\123\x43", array("\72\160\141\162\x65\156\x74\x69\x64" => $section["\x70\x61\x72\x65\x6e\164\x69\x64"], "\72\164\151\164\x6c\145\x5f\x69\x64" => $section["\164\151\x74\154\x65\x5f\x69\x64"], "\72\x73\164\x61\x74\x75\163" => 1)); goto JpHRM; iNgXB: $next_sectionid = $next_section["\x69\x64"]; goto fnFHy; O2fhA: if ($next_sectionid) { goto cTpfz; } goto ftJJq; wPi0r: chhBU: goto wPkmt; CBRBy: } public function getOrderVerifyLog($orderid) { goto mBA_D; Ic7ER: BJdqC: goto Jp4IE; cYi5l: $verify_log = pdo_fetchall("\x53\x45\x4c\x45\103\124\40\52\40\x46\x52\117\115\40" . tablename($this->table_order_verify) . "\40\x57\x48\x45\122\105\40\x75\x6e\151\x61\143\x69\144\75\x3a\x75\x6e\151\141\143\x69\x64\40\101\x4e\104\40\x6f\162\144\x65\162\151\x64\75\x3a\157\x72\x64\145\x72\x69\x64\x20\117\122\104\105\x52\x20\x42\x59\40\151\144\40\101\123\x43", array("\72\x75\156\151\141\x63\x69\x64" => $_W["\x75\156\151\141\143\x69\144"], "\x3a\157\x72\x64\145\162\x69\144" => $orderid)); goto h9kZM; h9kZM: foreach ($verify_log as $k => $v) { goto KCDmo; KqY12: Di8wr: goto ruCGy; C7Hjv: goto VG7Dq; goto EoqJb; dYmrG: if ($v["\166\x65\162\x69\146\x79\137\164\x79\x70\145"] == 0) { goto Zzegx; } goto Aq4Z1; K8WOV: Zzegx: goto navt2; hUOJg: VG7Dq: goto MA9QP; MA9QP: $v["\154\157\147"] .= $v["\166\145\162\151\x66\x79\137\x6e\141\x6d\145"] . "\50\165\x69\x64\x3a" . $v["\166\x65\x72\x69\x66\171\x5f\x75\x69\144"] . "\51\xef\274\x8c\xe4\272\x8e" . date("\x59\x2d\155\x2d\144\x20\x48\x3a\151", $v["\141\x64\x64\x74\x69\155\145"]) . "\346\240\xb8\xe9\224\200\xe3\x80\202"; goto DVPC2; KCDmo: $v["\154\157\x67"] = $k + 1 . "\343\200\x81"; goto dYmrG; Aq4Z1: if ($v["\x76\145\x72\x69\146\x79\137\x74\171\160\145"] == 1) { goto F1PyD; } goto SbTJK; SbTJK: goto VG7Dq; goto K8WOV; ai8uR: $v["\x6c\157\x67"] .= "\xe5\x90\x8e\345\217\260\347\xae\241\347\x90\206\345\x91\230\xef\xbc\232"; goto hUOJg; navt2: $v["\x6c\x6f\147"] .= "\346\240\xb8\xe9\224\200\345\221\230\xef\274\232"; goto C7Hjv; EoqJb: F1PyD: goto ai8uR; DVPC2: $verify_log[$k] = $v; goto KqY12; ruCGy: } goto Ic7ER; XMvCl: return $verify_log; goto RDzj2; Jp4IE: $verify_log["\143\157\x75\156\x74"] = count($verify_log); goto XMvCl; mBA_D: global $_W; goto cYi5l; RDzj2: } public function updateOrderVerifyLog() { goto gXeKA; EaYqt: $old_order = pdo_fetchall("\x53\105\x4c\x45\103\x54\x20\x69\x64\x2c\x20\166\x65\162\x69\x66\x79\x5f\151\156\146\x6f\x20\106\122\x4f\x4d\x20" . tablename($this->table_order) . "\x20\x57\x48\x45\x52\x45\x20\x75\156\x69\x61\143\151\144\75\x3a\165\156\151\x61\143\x69\x64\x20\x41\x4e\x44\x20\154\145\163\x73\157\x6e\137\164\171\160\x65\75\x3a\154\x65\163\163\157\156\x5f\x74\171\160\145\x20\101\x4e\104\40\x73\164\141\x74\x75\163\x3e\x3a\163\164\x61\164\165\x73\x20\x41\116\x44\40\x69\163\137\166\145\x72\151\x66\x79\75\x3a\151\163\x5f\166\x65\162\x69\146\171\x20\x41\116\104\40\x76\145\x72\151\146\171\137\x69\x6e\146\157\x21\x3d\x27\47\40", array("\x3a\165\156\151\141\143\x69\x64" => $uniacid, "\x3a\x6c\x65\163\163\x6f\x6e\137\x74\x79\x70\x65" => 1, "\x3a\x73\164\141\164\165\x73" => 0, "\x3a\x69\x73\137\166\x65\162\151\146\x79" => 1)); goto RZqw3; Z4lEF: hGmsI: goto n7cZy; fSEsb: foreach ($complete_order as $v) { goto t4oEa; rDOOc: dGSMo: goto d_0Gk; t4oEa: $total = pdo_fetchcolumn("\123\x45\x4c\105\x43\x54\x20\x43\x4f\125\116\124\50\52\51\40\106\x52\117\x4d\x20" . tablename($this->table_order_verify) . "\x20\x57\x48\105\122\x45\x20\x75\x6e\151\x61\x63\x69\144\75\72\165\156\151\x61\143\x69\144\x20\x41\116\104\40\x6f\x72\144\x65\x72\x69\x64\75\x3a\157\162\144\145\x72\151\144", array("\72\165\x6e\x69\x61\x63\x69\x64" => $uniacid, "\72\157\x72\144\145\x72\x69\144" => $v["\151\144"])); goto gjbKt; gjbKt: if (!($total == $v["\x76\x65\x72\151\146\x79\137\156\x75\155\142\145\162"])) { goto IvAMR; } goto fG4Mw; TZ82i: IvAMR: goto rDOOc; fG4Mw: pdo_update($this->table_order, array("\x69\163\x5f\166\145\x72\151\x66\171" => 2), array("\x69\x64" => $v["\151\x64"])); goto TZ82i; d_0Gk: } goto Z4lEF; RZqw3: foreach ($old_order as $v) { goto ZzSXD; m7_EN: pdo_insert($this->table_order_verify, $verify_data); goto qjJvo; qjJvo: pdo_update($this->table_order, array("\x76\145\x72\x69\x66\171\x5f\x69\156\146\157" => ''), array("\151\144" => $v["\x69\144"])); goto lftUd; ZzSXD: $verify_info = json_decode($v["\166\145\x72\151\146\x79\x5f\151\156\146\157"], true); goto nKRYY; mDjBt: $verify_data["\x76\145\x72\x69\x66\x79\x5f\164\x79\160\x65"] = 0; goto Bb1X8; Bb1X8: $verify_data["\166\x65\x72\151\146\x79\x5f\x75\x69\144"] = $verify_info["\166\145\x72\x69\x66\x79\137\165\151\x64"]; goto T9s3j; Lf1fM: $verify_data["\x76\145\162\x69\146\171\137\x74\171\x70\x65"] = 1; goto XpgpE; XpgpE: $verify_data["\166\145\x72\151\146\x79\x5f\156\x61\155\145"] = $verify_info["\166\x65\162\x69\x66\171\137\141\144\x6d\151\156"]; goto UtahB; lftUd: ozboJ: goto RUIFE; PAQJj: XNYy8: goto m7_EN; UtahB: goto XNYy8; goto RKe3E; RKe3E: Wiy4M: goto GW4fD; T9s3j: $verify_data["\x76\145\x72\x69\x66\171\137\156\x61\x6d\x65"] = $verify_member["\x6e\151\x63\153\x6e\141\155\x65"]; goto PAQJj; nKRYY: $verify_data = array("\x75\156\x69\x61\143\151\144" => $uniacid, "\x6f\x72\144\145\162\151\x64" => $v["\151\144"], "\x61\x64\144\x74\x69\155\145" => $verify_info["\x76\x65\162\151\x66\171\x5f\x74\x69\155\145"]); goto RVHBF; GW4fD: $verify_member = pdo_get($this->table_mc_members, array("\x75\x6e\x69\x61\143\x69\x64" => $uniacid, "\165\151\x64" => $verify_info["\166\145\162\151\x66\171\137\165\x69\144"]), "\156\x69\x63\153\x6e\141\155\x65"); goto mDjBt; RVHBF: if ($verify_info["\166\145\x72\151\x66\x79\x5f\165\x69\x64"]) { goto Wiy4M; } goto Lf1fM; RUIFE: } goto Spjd_; dFcAb: $uniacid = $_W["\x75\x6e\151\x61\143\x69\144"]; goto EaYqt; Spjd_: RLtou: goto ie5Pw; gXeKA: global $_W; goto dFcAb; ie5Pw: $complete_order = pdo_fetchall("\123\x45\114\105\x43\124\40\151\x64\54\166\145\162\x69\x66\x79\x5f\156\x75\155\x62\x65\x72\x20\x46\122\117\x4d\x20" . tablename($this->table_order) . "\x20\x57\x48\105\122\105\x20\165\x6e\x69\x61\143\151\x64\75\x3a\x75\156\151\x61\x63\151\x64\x20\101\x4e\104\40\x6c\x65\163\163\157\x6e\137\x74\171\x70\x65\x3d\72\154\145\x73\x73\x6f\156\137\x74\171\x70\x65\40\x41\x4e\104\x20\163\x74\141\164\165\163\76\x3a\163\x74\141\x74\x75\x73\x20\x41\x4e\104\x20\x69\x73\137\166\145\162\x69\x66\171\75\72\151\x73\137\x76\145\x72\151\146\171\40", array("\72\165\x6e\x69\141\x63\151\x64" => $uniacid, "\72\x6c\145\x73\163\157\156\137\164\x79\x70\145" => 1, "\x3a\x73\x74\x61\164\x75\163" => 0, "\72\151\163\137\166\x65\162\x69\x66\171" => 1)); goto fSEsb; n7cZy: } public function updateLessonStock($lessonid, $spec_id, $change) { goto K6rYh; fy0FR: sKYfa: goto kJww9; GNmwd: O82Sr: goto ICEUG; DDygN: cZPD8: goto xq3LO; xq3LO: Jj1lj: goto EQhSp; lFcO8: pdo_update($this->table_lesson_parent, array("\163\164\157\x63\153\x20\55\75" => abs($change)), array("\151\144" => $lessonid)); goto DDygN; K6rYh: if ($change > 0) { goto sKYfa; } goto RX1OJ; QV2GB: P7NNh: goto TYXZ4; CjQ_P: goto Jj1lj; goto fy0FR; RX1OJ: if ($change < 0) { goto P7NNh; } goto CjQ_P; kJww9: if (!pdo_update($this->table_lesson_spec, array("\x73\x70\x65\x63\137\163\x74\157\143\153\x20\x2b\x3d" => $change), array("\x73\x70\145\x63\137\151\144" => $spec_id))) { goto O82Sr; } goto bs1A5; bs1A5: pdo_update($this->table_lesson_parent, array("\163\164\x6f\x63\x6b\40\x2b\75" => $change), array("\151\144" => $lessonid)); goto GNmwd; ICEUG: goto Jj1lj; goto QV2GB; TYXZ4: if (!pdo_update($this->table_lesson_spec, array("\163\160\145\x63\x5f\x73\x74\x6f\143\x6b\40\55\75" => abs($change)), array("\x73\x70\145\143\137\x69\x64" => $spec_id))) { goto cZPD8; } goto lFcO8; EQhSp: } public function getParentid($uid) { goto fpqWD; z0t6e: return "\x30"; goto rznTG; HvGsB: ZxahK: goto dILRj; tcpeJ: dfnlO: goto gczYa; rznTG: goto ZxahK; goto tcpeJ; fpqWD: global $_W; goto cxB2Z; gczYa: return $parent["\x70\141\x72\x65\x6e\164\151\144"]; goto HvGsB; cxB2Z: $parent = pdo_get($this->table_member, array("\x75\156\x69\x61\x63\x69\x64" => $_W["\165\x6e\151\x61\x63\x69\x64"], "\x75\x69\x64" => $uid), array("\160\141\162\145\156\x74\151\144")); goto r38lC; r38lC: if ($parent) { goto dfnlO; } goto z0t6e; dILRj: } public function getAgentCommission1($commission_type = 0, $lessoncommission, $settingcommission, $price, $uid) { goto yYjpF; yYjpF: global $_W; goto Gp1Cn; WaYGV: return $commission; goto p0l3b; ofw8w: vlbmR: goto IT12v; cU5N7: $commission = round($price * $member["\x63\x6f\155\155\x69\x73\163\x69\157\156\x31"] * 0.01, 2); goto ofw8w; GmGIX: JCQjb: goto H43ix; IT12v: goto vs3PL; goto eWAE8; xC426: iQU8Z: goto cU5N7; qDOfM: $member = pdo_fetch("\x53\x45\x4c\105\103\x54\40\x62\56\x63\x6f\x6d\x6d\x69\163\163\x69\x6f\156\61\40\x46\122\117\x4d\40" . tablename($this->table_member) . "\x20\x61\40\114\x45\x46\124\x20\112\x4f\111\x4e\40" . tablename($this->table_commission_level) . "\x20\x62\40\x4f\116\x20\141\56\141\x67\145\156\164\x5f\154\x65\166\145\154\75\x62\x2e\151\x64\40\127\110\x45\122\x45\x20\x61\56\x75\156\x69\141\143\x69\x64\x3d\72\x75\156\151\141\x63\x69\x64\40\101\x4e\x44\x20\x61\56\165\151\144\75\72\165\151\x64", array("\72\x75\x6e\151\141\143\x69\144" => $_W["\x75\156\151\x61\x63\151\x64"], "\x3a\x75\x69\144" => $uid)); goto HXw0n; d_0jW: goto JCQjb; goto PSKQl; K2s8w: $commission = $lessoncommission; goto d_0jW; PSKQl: MCTjL: goto bckv0; g6pzx: if (!$commission_type) { goto MCTjL; } goto K2s8w; iY2T3: goto vlbmR; goto xC426; bckv0: $commission = round($price * $lessoncommission * 0.01, 2); goto GmGIX; HXw0n: if ($member["\143\157\155\x6d\151\163\163\151\157\156\x31"]) { goto iQU8Z; } goto LIE62; LIE62: $commission = round($price * $settingcommission * 0.01, 2); goto iY2T3; Gp1Cn: if ($lessoncommission > 0) { goto fxpaz; } goto qDOfM; H43ix: vs3PL: goto WaYGV; eWAE8: fxpaz: goto g6pzx; p0l3b: } public function getAgentCommission2($commission_type = 0, $lessoncommission, $settingcommission, $price, $uid) { goto ZnBgM; w2HBc: if ($member["\x63\157\155\155\x69\163\163\151\x6f\x6e\x32"]) { goto M678n; } goto jKqwp; kckMQ: $commission = $lessoncommission; goto fFcDi; IGSzR: return $commission; goto E9dde; KE2xp: M9i7n: goto thost; YEnCm: $commission = round($price * $lessoncommission * 0.01, 2); goto KE2xp; jKqwp: $commission = round($price * $settingcommission * 0.01, 2); goto tooC8; tmo50: $commission = round($price * $member["\x63\x6f\x6d\x6d\151\163\x73\x69\157\x6e\x32"] * 0.01, 2); goto TGKqj; zB9K6: goto hMxCc; goto vC3ua; vC3ua: BHgXM: goto iJ8BE; ZnBgM: global $_W; goto pDVzC; fFcDi: goto M9i7n; goto BKnvE; AbtAH: $member = pdo_fetch("\123\x45\114\105\103\x54\x20\x62\x2e\143\x6f\x6d\155\x69\x73\163\151\x6f\x6e\x32\40\106\x52\x4f\115\x20" . tablename($this->table_member) . "\x20\x61\x20\114\x45\x46\124\x20\x4a\x4f\x49\116\40" . tablename($this->table_commission_level) . "\x20\x62\40\x4f\x4e\x20\141\56\141\x67\x65\156\x74\x5f\x6c\145\x76\x65\154\x3d\142\x2e\151\144\40\x57\x48\x45\x52\x45\x20\141\56\165\156\151\141\143\x69\144\75\x3a\165\156\151\141\143\151\144\40\101\x4e\x44\x20\141\56\165\151\144\75\72\165\151\144", array("\72\165\x6e\151\x61\143\151\x64" => $_W["\165\x6e\151\x61\143\x69\x64"], "\x3a\165\151\x64" => $uid)); goto w2HBc; BKnvE: QvDtt: goto YEnCm; thost: hMxCc: goto IGSzR; tooC8: goto OxMiM; goto n2F67; iJ8BE: if (!$commission_type) { goto QvDtt; } goto kckMQ; TGKqj: OxMiM: goto zB9K6; pDVzC: if ($lessoncommission > 0) { goto BHgXM; } goto AbtAH; n2F67: M678n: goto tmo50; E9dde: } public function getAgentCommission3($commission_type = 0, $lessoncommission, $settingcommission, $price, $uid) { goto hI5s_; k5MtB: $commission = $lessoncommission; goto hPHmX; jWUAW: $commission = round($price * $member["\143\x6f\155\155\151\163\x73\x69\x6f\156\x33"] * 0.01, 2); goto Z0Izd; sexxJ: if (!$commission_type) { goto mHrZN; } goto k5MtB; l5T1d: if ($member["\x63\157\155\155\x69\163\x73\151\x6f\x6e\63"]) { goto Yo3_f; } goto JNkUt; S0R4X: $member = pdo_fetch("\123\105\114\x45\x43\124\40\x62\56\x63\x6f\x6d\x6d\x69\x73\163\x69\x6f\x6e\63\40\106\122\117\x4d\x20" . tablename($this->table_member) . "\40\x61\x20\114\105\106\124\x20\112\x4f\x49\116\40" . tablename($this->table_commission_level) . "\40\142\x20\117\x4e\40\141\56\141\x67\145\x6e\164\x5f\154\x65\166\145\154\x3d\x62\x2e\151\144\x20\x57\x48\x45\x52\105\x20\x61\x2e\x75\156\x69\141\x63\x69\x64\75\72\x75\x6e\x69\141\143\151\x64\x20\101\116\x44\40\141\56\165\151\x64\x3d\72\165\151\144", array("\x3a\x75\156\151\x61\143\x69\x64" => $_W["\165\156\151\141\143\x69\144"], "\x3a\x75\x69\144" => $uid)); goto l5T1d; S14xH: $commission = round($price * $lessoncommission * 0.01, 2); goto RCSK9; JNkUt: $commission = round($price * $settingcommission * 0.01, 2); goto qfy2X; RCSK9: WyVrB: goto iXazX; KS9vU: if ($lessoncommission > 0) { goto uniyT; } goto S0R4X; Z0Izd: Y5U1D: goto Q2cmL; DgwCK: uniyT: goto sexxJ; iXazX: TI6jO: goto KFVIK; hPHmX: goto WyVrB; goto lIuW7; gBuqz: Yo3_f: goto jWUAW; KFVIK: return $commission; goto jIYOz; qfy2X: goto Y5U1D; goto gBuqz; lIuW7: mHrZN: goto S14xH; Q2cmL: goto TI6jO; goto DgwCK; hI5s_: global $_W; goto KS9vU; jIYOz: } public function getArticleLastAndNext($section, $title_list) { goto ljaSk; dkw9N: foreach ($section_sort as $key => $value) { goto k0V6l; uIWXj: $next_article = $section_sort[$key + 1]; goto MkZsx; k0V6l: if (!($value["\151\x64"] == $section["\x69\x64"])) { goto o3vbv; } goto RNIK_; RNIK_: $prev_article = $section_sort[$key - 1]; goto uIWXj; MkZsx: o3vbv: goto L0jbl; L0jbl: JNxNl: goto NL_AR; NL_AR: } goto YR0DT; bFyid: Rrn4P: goto xZZHU; db8Bw: return $data; goto U8G3A; rkdZu: $prev_article = pdo_fetch("\123\105\x4c\105\103\124\40\x69\x64\54\x70\141\162\145\x6e\x74\x69\144\54\x74\x69\x74\x6c\x65\x20\106\x52\117\x4d\x20" . tablename($this->table_lesson_son) . "\40\x57\x48\105\122\105\40\x70\141\162\x65\x6e\x74\x69\144\x3d\x3a\160\141\x72\x65\x6e\164\x69\144\x20\x41\116\x44\x20\x74\151\x74\154\x65\137\151\x64\75\72\164\151\x74\x6c\145\x5f\151\x64\40\x41\116\x44\40\163\164\x61\x74\x75\163\x3d\x3a\x73\164\x61\164\x75\163\40\x4f\122\x44\x45\122\40\102\x59\40\144\151\x73\x70\x6c\x61\171\x6f\162\x64\x65\x72\40\x44\105\x53\x43\x2c\151\x64\40\x41\x53\x43\x20\x4c\111\115\x49\x54\40\61", array("\72\160\141\162\145\156\164\x69\x64" => $section["\160\141\162\x65\156\x74\x69\x64"], "\x3a\x74\151\164\154\x65\137\x69\x64" => $prev_title["\164\151\x74\154\145\x5f\151\x64"], "\72\x73\164\141\164\165\163" => 1)); goto pGUAB; W7Ssd: goto DheOy; goto bNtKI; bNtKI: isN0G: goto V3D22; J5j2G: foreach ($title_list as $key => $value) { goto M3k9r; V80DQ: $prev_title = $title_list[$key - 1]; goto JvK3u; JvK3u: $next_title = $title_list[$key + 1]; goto jmSPU; M3k9r: if (!($value["\x74\151\x74\154\145\137\151\x64"] == $section["\x74\x69\164\154\145\137\151\x64"])) { goto Uz5zY; } goto V80DQ; H5X7X: f2nYb: goto vGxWx; jmSPU: Uz5zY: goto H5X7X; vGxWx: } goto bFyid; oL5f8: foreach ($section_sort as $key => $value) { goto Rimdi; uwwVk: $next_article = $section_sort[$key + 1]; goto lWUsE; gxSsz: N9URv: goto g8t2V; Rimdi: if (!($value["\151\144"] == $section["\x69\144"])) { goto P8WL6; } goto g0hvJ; g0hvJ: $prev_article = $section_sort[$key - 1]; goto uwwVk; lWUsE: P8WL6: goto gxSsz; g8t2V: } goto jrlPO; RRRjS: DheOy: goto jcu1M; ljaSk: if ($section["\164\x69\x74\154\x65\137\151\x64"]) { goto isN0G; } goto kjcT7; V3D22: $section_sort = pdo_fetchall("\x53\105\x4c\x45\103\124\x20\151\144\x2c\x70\141\162\x65\x6e\x74\151\144\54\x74\151\x74\x6c\145\x20\x46\122\x4f\115\x20" . tablename($this->table_lesson_son) . "\40\x57\110\105\122\x45\40\160\x61\x72\145\156\164\x69\x64\75\72\x70\x61\162\x65\156\164\x69\144\x20\x41\x4e\104\40\x74\151\x74\154\145\137\x69\144\75\72\x74\151\164\154\145\137\x69\144\x20\x41\x4e\x44\x20\163\x74\x61\164\165\163\75\x3a\x73\164\x61\x74\165\163\40\117\x52\104\x45\122\x20\102\131\x20\x64\151\x73\x70\154\x61\x79\x6f\x72\144\x65\162\40\104\105\123\103\54\151\144\40\101\123\103", array("\x3a\160\x61\162\145\156\164\x69\144" => $section["\160\141\162\x65\156\164\151\144"], "\x3a\164\151\x74\154\145\x5f\x69\x64" => $section["\x74\151\x74\154\x65\137\x69\x64"], "\x3a\163\x74\x61\164\x75\163" => 1)); goto oL5f8; YR0DT: f2Lzz: goto W7Ssd; wRxyV: if ($next_article) { goto vLpS8; } goto ynhho; ynhho: $next_article = pdo_fetch("\123\105\x4c\x45\x43\x54\40\x69\x64\54\160\x61\162\x65\x6e\x74\x69\x64\54\x74\x69\x74\154\x65\x20\x46\122\117\115\x20" . tablename($this->table_lesson_son) . "\x20\127\110\105\122\105\x20\x70\141\x72\x65\x6e\x74\x69\144\x3d\x3a\x70\141\162\145\156\x74\151\144\x20\101\x4e\x44\x20\x74\x69\x74\x6c\x65\137\x69\x64\75\72\164\x69\164\154\145\x5f\151\144\x20\x41\x4e\x44\x20\x73\x74\x61\x74\165\163\x3d\72\x73\x74\141\164\x75\x73\40\117\122\104\x45\x52\40\102\131\40\x64\x69\163\160\x6c\x61\171\x6f\162\x64\x65\x72\x20\104\x45\x53\103\54\151\x64\40\101\x53\x43\40\114\x49\115\111\x54\x20\x31", array("\x3a\160\x61\x72\145\x6e\164\151\x64" => $section["\160\141\162\x65\156\x74\151\144"], "\72\164\x69\x74\x6c\145\137\151\x64" => $next_title["\164\151\164\154\145\x5f\x69\144"], "\x3a\163\x74\141\x74\165\163" => 1)); goto Iy_YX; kjcT7: $section_sort = pdo_fetchall("\123\x45\114\105\103\x54\x20\151\144\x2c\x70\141\x72\145\156\164\x69\144\x2c\164\x69\x74\x6c\145\x20\106\x52\x4f\x4d\x20" . tablename($this->table_lesson_son) . "\40\127\110\x45\x52\105\40\x70\x61\162\x65\x6e\x74\x69\x64\x3d\72\160\x61\162\145\x6e\x74\x69\144\40\x41\x4e\104\40\x74\151\164\154\x65\x5f\151\x64\75\72\164\151\164\x6c\x65\x5f\151\144\x20\x41\x4e\104\x20\x73\x74\141\x74\165\163\x3d\72\x73\164\x61\164\x75\163\x20\x4f\x52\x44\105\122\40\102\131\x20\x64\x69\163\x70\x6c\141\x79\x6f\x72\x64\x65\x72\x20\104\105\x53\x43\x2c\151\144\x20\x41\123\103", array("\72\x70\141\x72\x65\x6e\164\x69\x64" => $section["\160\141\x72\145\x6e\164\x69\144"], "\72\x74\151\x74\x6c\145\x5f\x69\144" => 0, "\x3a\x73\164\x61\x74\x75\x73" => 1)); goto dkw9N; jrlPO: Vam8U: goto J5j2G; jcu1M: $data = array("\160\x72\x65\166\x5f\141\x72\164\x69\x63\x6c\x65" => $prev_article, "\156\145\170\x74\137\x61\162\164\151\143\x6c\145" => $next_article); goto db8Bw; pGUAB: xm3Wx: goto wRxyV; Iy_YX: vLpS8: goto RRRjS; xZZHU: if ($prev_article) { goto xm3Wx; } goto rkdZu; U8G3A: } public function getLessonDiscount($lessonid) { goto g5HI6; wFWod: return $discount; goto tWncv; g5HI6: global $_W; goto FW4D1; FUU94: $discount = $discount_lesson["\x64\x69\x73\143\157\x75\156\164"] ? $discount_lesson["\x64\x69\163\x63\157\x75\x6e\164"] * 0.01 : 1; goto wFWod; FW4D1: $discount_lesson = pdo_fetch("\123\x45\114\x45\103\x54\40\x64\x69\x73\x63\x6f\165\x6e\x74\x20\x46\x52\x4f\115\x20" . tablename($this->table_discount_lesson) . "\40\x57\110\105\x52\x45\40\165\156\151\141\143\x69\x64\75\72\x75\x6e\151\141\143\151\144\x20\101\x4e\104\40\154\x65\x73\163\x6f\x6e\137\151\x64\75\72\x6c\145\163\163\157\156\x5f\x69\x64\x20\x41\x4e\x44\40\x73\x74\141\162\x74\x74\151\155\x65\x3c\x3a\164\x69\x6d\x65\x20\x41\x4e\104\x20\x65\x6e\144\x74\151\155\x65\76\x3a\164\151\155\x65", array("\x3a\x75\x6e\x69\x61\x63\151\x64" => $_W["\x75\x6e\151\141\143\151\x64"], "\x3a\x6c\145\x73\x73\x6f\x6e\137\x69\x64" => $lessonid, "\72\x74\151\155\x65" => time())); goto FUU94; tWncv: } public function getMarketParams() { goto K002g; Nd1st: cache_write("\x66\x79\137\154\x65\x73\163\157\x6e\137" . $_W["\165\x6e\151\x61\x63\151\144"] . "\137\155\x61\162\x6b\145\164", $market); goto xkfcg; E5oBa: if (!empty($market)) { goto vpFvb; } goto JV1un; xkfcg: vpFvb: goto YLrQn; JJyKJ: $market = cache_load("\146\171\x5f\x6c\145\163\x73\x6f\x6e\x5f" . $_W["\x75\156\151\141\x63\x69\x64"] . "\x5f\x6d\141\x72\x6b\145\164"); goto E5oBa; JV1un: $market = pdo_get($this->table_market, array("\x75\156\x69\x61\x63\x69\x64" => $_W["\x75\x6e\151\141\x63\151\144"])); goto Nd1st; K002g: global $_W; goto JJyKJ; YLrQn: return $market; goto jCq4j; jCq4j: } public function getArticleCategory() { goto el7bz; el7bz: global $_W; goto u3mSK; tbNWm: if (!empty($list)) { goto Obh6h; } goto fQpbS; u3mSK: $list = cache_load("\x66\x79\137\154\145\x73\163\x6f\x6e\137" . $_W["\x75\156\x69\141\x63\x69\x64"] . "\137\x61\x72\164\x69\x63\154\x65\x5f\x63\141\164\x65\x67\x6f\162\171\x6c\151\x73\164"); goto tbNWm; fQpbS: $list = pdo_fetchall("\123\x45\114\105\103\124\40\52\40\x46\122\x4f\115\40" . tablename($this->table_article_category) . "\40\127\110\x45\x52\x45\40\x75\x6e\151\141\x63\151\144\x3d\72\x75\156\x69\x61\x63\151\144\x20\101\116\104\40\163\x74\x61\x74\165\x73\75\72\x73\x74\141\164\165\163\40\117\122\x44\x45\x52\40\102\131\x20\144\x69\163\x70\x6c\x61\x79\157\162\144\x65\x72\40\104\105\123\103\x2c\x20\151\144\x20\x41\123\103", array("\72\x75\156\x69\x61\x63\151\x64" => $_W["\x75\x6e\151\x61\x63\151\144"], "\x3a\163\x74\141\x74\x75\x73" => 1)); goto V9Vml; FkdAX: Obh6h: goto LjWzv; LjWzv: return $list; goto NJuUC; V9Vml: cache_write("\146\x79\137\154\145\x73\x73\157\x6e\137" . $_W["\x75\x6e\x69\x61\x63\151\x64"] . "\137\x61\162\164\151\x63\154\x65\137\x63\x61\164\x65\147\157\x72\171\154\x69\163\164", $list); goto FkdAX; NJuUC: } public function getTeacherCategory() { goto FpboJ; U2vaZ: cache_write("\x66\x79\137\x6c\x65\163\163\157\156\x5f" . $_W["\x75\x6e\x69\141\143\x69\x64"] . "\x5f\164\145\141\x63\x68\x65\x72\x5f\x63\x61\164\145\x67\x6f\162\x79\x6c\151\x73\x74", $category_list); goto E9wYz; yv1RE: return $category_list; goto hqesA; E9wYz: CKG6b: goto yv1RE; NRE8h: fx8FV: goto U2vaZ; JL3PP: $category_list = array(); goto ojeGP; FpboJ: global $_W; goto yLYaS; EDa3s: if (!empty($category_list)) { goto CKG6b; } goto gr5eo; ojeGP: foreach ($list as $v) { $category_list[$v["\x69\x64"]] = $v["\156\141\155\145"]; tniTF: } goto NRE8h; gr5eo: $list = pdo_fetchall("\123\x45\114\x45\103\124\40\52\x20\x46\x52\x4f\x4d\40" . tablename($this->table_teacher_category) . "\40\x57\x48\x45\x52\x45\x20\165\x6e\151\x61\x63\x69\144\75\x3a\165\156\x69\141\x63\x69\144\40\101\x4e\x44\40\x73\164\141\164\x75\x73\75\72\163\x74\141\x74\x75\x73\40\117\x52\104\105\122\40\x42\131\x20\x64\151\x73\160\154\141\171\x6f\162\144\145\x72\x20\104\105\x53\x43\x2c\40\x69\x64\40\x41\123\103", array("\x3a\x75\x6e\151\x61\143\151\144" => $_W["\x75\x6e\151\141\x63\x69\x64"], "\72\x73\164\x61\x74\165\163" => 1)); goto JL3PP; yLYaS: $category_list = cache_load("\146\x79\137\154\145\163\163\157\x6e\x5f" . $_W["\165\x6e\x69\x61\x63\x69\144"] . "\x5f\x74\145\x61\x63\150\145\x72\x5f\143\141\x74\x65\147\157\162\x79\x6c\x69\x73\164"); goto EDa3s; hqesA: } public function getRandMember($limit = 200) { goto cMFHc; Yf8PW: foreach ($member_list as $k => $v) { goto gFhYz; cRcDh: $v["\156\151\x63\153\x6e\x61\x6d\145"] = $firstStr . "\52\52"; goto ODhJ7; gFhYz: $strlen = mb_strlen($v["\156\x69\143\x6b\156\x61\155\x65"], "\165\x74\x66\55\x38"); goto mmn3s; mmn3s: $firstStr = mb_substr($v["\x6e\151\x63\x6b\156\x61\155\x65"], 0, 4, "\x75\164\x66\55\70"); goto cRcDh; ODhJ7: $list[] = $v["\156\151\143\x6b\156\x61\x6d\x65"] . $time_arr[array_rand($time_arr, 1)]; goto Yf0mS; Yf0mS: UFabh: goto Kt09A; Kt09A: } goto sLGND; fb40E: $member_list = pdo_fetchall("\x53\x45\x4c\105\x43\x54\40\156\151\143\x6b\x6e\141\x6d\x65\x20\x46\122\x4f\115\x20" . tablename($this->table_mc_members) . "\x20\x57\x48\105\122\105\40\165\x6e\x69\x61\143\x69\x64\x3d\72\165\x6e\151\141\143\x69\144\40\x41\x4e\x44\40\156\x69\143\153\x6e\x61\x6d\x65\x21\x3d\72\156\151\x63\x6b\156\x61\155\x65\x20\x4f\122\x44\x45\122\40\x42\x59\40\122\x41\x4e\104\50\x29\x20\x4c\111\115\111\x54\x20\x30\x2c{$limit}\x20", array("\x3a\x75\156\x69\x61\x63\x69\x64" => $_W["\x75\x6e\x69\141\x63\151\144"], "\72\156\151\143\153\x6e\x61\x6d\x65" => '')); goto xVo9B; qrhNd: gkUaM: goto k3QPS; EqDNB: cache_write("\x66\x79\137\x6c\145\163\x73\157\x6e\x5f" . $_W["\165\x6e\x69\141\x63\x69\x64"] . "\137\155\x65\155\x62\x65\162\x5f\162\141\156\144\137\154\151\163\164\137\143\x61\143\x68\x65\x5f\164\x69\x6d\145", time() + 300); goto KCbbi; idcoJ: if (!(empty($list) || time() > $cache_time)) { goto gkUaM; } goto fb40E; cMFHc: global $_W; goto WWZ0L; DPvdI: $cache_time = intval(cache_load("\x66\171\x5f\x6c\x65\x73\163\157\156\x5f" . $_W["\165\x6e\x69\141\x63\151\144"] . "\137\155\145\x6d\142\145\162\x5f\x72\141\156\x64\137\x6c\151\163\164\x5f\x63\141\x63\150\145\x5f\164\x69\x6d\145")); goto idcoJ; F70q0: $list = array(); goto Yf8PW; WWZ0L: $list = cache_load("\146\x79\137\154\145\163\163\x6f\x6e\x5f" . $_W["\x75\156\151\141\x63\151\x64"] . "\137\155\x65\x6d\x62\145\x72\x5f\x72\x61\x6e\144\137\154\151\x73\164"); goto DPvdI; k3QPS: return $list; goto t0p1s; sLGND: vLwUm: goto EqDNB; xVo9B: $time_arr = array("\345\210\232\345\x88\232", "\x31\345\210\x86\351\222\x9f\345\211\x8d", "\62\345\210\x86\351\x92\237\345\211\x8d", "\63\345\210\x86\351\222\x9f\xe5\211\x8d", "\65\345\210\206\xe9\222\237\xe5\211\215", "\x36\345\x88\x86\351\222\237\345\211\x8d", "\x38\345\x88\206\xe9\222\237\345\211\215", "\x31\60\345\210\x86\xe9\x92\x9f\xe5\211\215", "\x31\x35\345\210\206\351\x92\x9f\xe5\x89\215", "\xe5\215\x8a\344\270\xaa\xe5\260\217\346\227\xb6\xe5\211\215", "\x31\344\xb8\252\345\xb0\217\xe6\227\266\xe5\x89\x8d", "\x32\xe4\xb8\252\xe5\260\x8f\346\x97\266\345\x89\x8d", "\63\xe4\270\252\345\260\217\xe6\227\266\xe5\211\x8d", "\64\xe4\xb8\252\xe5\xb0\217\xe6\x97\xb6\345\211\215", "\65\xe4\270\252\345\260\x8f\xe6\227\xb6\xe5\x89\x8d", "\x36\xe4\xb8\252\345\xb0\x8f\xe6\x97\xb6\345\x89\215"); goto F70q0; KCbbi: cache_write("\x66\x79\137\154\x65\163\163\157\x6e\x5f" . $_W["\x75\x6e\151\141\x63\x69\x64"] . "\137\x6d\145\x6d\142\x65\x72\137\x72\141\x6e\144\x5f\154\151\163\x74", $list); goto qrhNd; t0p1s: } public function privateDownloadUrl($accessKey, $secretKey, $baseUrl, $expires = 3600) { goto cQy5D; cQy5D: $deadline = time() + $expires; goto qG59D; E_Lu9: goto rxEHb; goto LhfwI; nevZ2: $token = $accessKey . "\72" . $hmac; goto n2hjv; LhfwI: o55Zz: goto KVRPV; L__ig: rxEHb: goto iOSjG; qG59D: $pos = strpos($baseUrl, "\77"); goto Vh9oV; QP3m3: $hmac = str_replace($find, $replace, base64_encode($hmac)); goto nevZ2; KVRPV: $baseUrl .= "\x26\145\x3d"; goto L__ig; Goh5v: $hmac = hash_hmac("\x73\150\141\61", $baseUrl, $secretKey, true); goto m7XSN; Vh9oV: if ($pos !== false) { goto o55Zz; } goto L_9za; L_9za: $baseUrl .= "\77\145\75"; goto E_Lu9; YdmcG: $replace = array("\55", "\x5f"); goto QP3m3; n2hjv: return "{$baseUrl}\46\x74\x6f\153\x65\x6e\x3d{$token}"; goto kKNOJ; m7XSN: $find = array("\53", "\x2f"); goto YdmcG; iOSjG: $baseUrl .= $deadline; goto Goh5v; kKNOJ: } public function tencentDownloadUrl($qcloud, $access_url) { goto S9g62; XJ3Q_: return $qcloudCos->getXmlSignature($qcloud["\x73\145\x63\x72\145\x74\x69\x64"], $qcloud["\x73\x65\143\162\x65\x74\153\x65\171"], $Method = "\x47\105\x54", $access_url); goto B0UjB; p2Ggj: wnL28: goto f1fCZ; B0UjB: goto wnL28; goto jSoof; jSoof: MwWkE: goto ORGsr; S9g62: $qcloudCos = new QcloudCos(); goto NxJJg; dODGy: goto wnL28; goto SemCg; ORGsr: return $qcloudCos->getJsonSignature($qcloud, $access_url); goto p2Ggj; SemCg: QXAZk: goto XJ3Q_; k2bRD: if (empty($qcloud["\161\x63\154\157\x75\x64\137\x74\171\x70\145"]) || $qcloud["\161\143\154\157\165\x64\x5f\x74\171\x70\145"] == "\x6a\x73\157\x6e") { goto MwWkE; } goto dODGy; NxJJg: if ($qcloud["\161\x63\x6c\157\165\x64\x5f\x74\x79\160\145"] == "\170\155\x6c") { goto QXAZk; } goto k2bRD; f1fCZ: } public function aliyunOssPlayUrl($default_url, $aliyunoss) { goto N99IT; N99IT: $param = explode($aliyunoss["\145\x6e\144\x70\x6f\151\x6e\164"], $default_url); goto t0Ny4; t0Ny4: $play_url = "\x68\x74\164\x70\72\57\x2f" . $aliyunoss["\142\165\143\153\x65\164\137\165\x72\154"] . $param[1]; goto nH5y_; bhIYQ: FAdc8: goto QY6nB; Aqor0: $play_url = "\x68\164\164\160\x73\x3a\x2f\x2f" . $aliyunoss["\x62\x75\143\x6b\x65\x74\137\x75\x72\154"] . $param[1]; goto bhIYQ; nH5y_: if (!$aliyunoss["\x68\x74\164\160\163"]) { goto FAdc8; } goto Aqor0; QY6nB: return $play_url; goto IAjbD; IAjbD: } public function saveImage($url, $image_path, $type = '') { goto wJgXy; RADNE: if (!($type == "\x61\x76\141\164\x61\x72")) { goto ynW0A; } goto kX62U; v09X3: curl_setopt($curl, CURLOPT_FOLLOWLOCATION, true); goto ZnQa2; ZJphT: curl_setopt($curl, CURLOPT_URL, $url); goto u6af2; Ljdcx: AutiR: goto S0wo_; sGQaa: $type = $result[2]; goto GQ0q3; uwNpK: if (!file_put_contents($new_file, base64_decode(str_replace($result[1], '', $img_content)))) { goto muBHo; } goto lzcjv; X1AuA: pPoXs: goto RUTvu; q_QoQ: if (!($code == 200)) { goto nfah7; } goto b265E; szrP_: curl_setopt($curl, CURLOPT_HTTPHEADER, $header); goto JRHII; wJgXy: global $_W; goto bYXT0; MgdPe: $img_content = $imgBase64Code; goto vcChO; nASQ5: curl_close($curl); goto q_QoQ; lzcjv: return $type; goto hcQPQ; b265E: $imgBase64Code = "\144\141\164\x61\72\151\x6d\141\x67\145\x2f\x6a\x70\x65\147\73\x62\x61\163\145\x36\x34\x2c" . base64_encode($data); goto w6dYD; RUTvu: $new_file = $image_path . $type; goto uwNpK; vcChO: if (!preg_match("\x2f\x5e\50\x64\x61\164\x61\72\x5c\163\52\151\155\141\147\145\134\x2f\x28\134\167\x2b\51\x3b\142\141\x73\145\66\x34\x2c\51\x2f", $img_content, $result)) { goto qSKL3; } goto sGQaa; bYXT0: $header = array("\x55\163\145\162\55\101\x67\145\x6e\x74\72\x20\x4d\157\172\151\154\x6c\x61\x2f\65\56\60\x20\50\x57\151\x6e\144\157\167\163\40\116\x54\x20\66\56\x31\x3b\x20\127\x69\x6e\x36\x34\73\40\x78\x36\x34\73\x20\162\x76\x3a\64\x35\x2e\60\51\40\x47\x65\x63\x6b\157\57\62\x30\61\60\x30\61\x30\61\x20\106\151\x72\x65\146\x6f\170\57\x34\x35\x2e\x30", "\x41\x63\x63\x65\x70\x74\x2d\114\x61\x6e\147\x75\x61\147\x65\x3a\40\x7a\x68\55\103\116\x2c\172\150\73\x71\x3d\60\x2e\70\x2c\145\x6e\55\125\x53\73\x71\x3d\x30\56\65\x2c\x65\156\x3b\161\x3d\60\x2e\63", "\x41\143\143\145\x70\164\55\x45\x6e\143\157\x64\151\156\x67\72\40\x67\x7a\151\160\x2c\x20\144\x65\x66\x6c\141\x74\x65"); goto No6nc; vDiG_: $type = "\x6a\x70\147"; goto X1AuA; JRHII: $data = curl_exec($curl); goto fuCKu; kX62U: echo "\350\216\xb7\345\217\226\345\xa4\xb4\xe5\203\217\xe5\244\xb1\xe8\xb4\xa5\xef\xbc\x8c\xe8\257\267\xe5\234\xa8\xe4\xb8\xaa\344\xba\xba\344\xb8\xad\345\xbf\203\347\x82\271\xe5\207\xbb\xe5\244\264\345\x83\x8f\xe6\x9b\xb4\xe6\226\260"; goto sENuP; ZeQ4d: curl_setopt($curl, CURLOPT_ENCODING, "\x67\172\x69\x70"); goto szrP_; ZnQa2: curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false); goto ZeQ4d; hcQPQ: goto AutiR; goto Qpm4D; w6dYD: nfah7: goto MgdPe; Qpm4D: muBHo: goto RADNE; fuCKu: $code = curl_getinfo($curl, CURLINFO_HTTP_CODE); goto nASQ5; u6af2: curl_setopt($curl, CURLOPT_RETURNTRANSFER, true); goto v09X3; No6nc: $curl = curl_init(); goto ZJphT; sENuP: ynW0A: goto Ljdcx; GQ0q3: if (!($type == "\x6a\x70\x65\147")) { goto pPoXs; } goto vDiG_; S0wo_: qSKL3: goto ic3I5; ic3I5: } public function img_water_mark($srcImg, $waterImg, $savepath = null, $savename = null, $x, $y, $alpha = 100) { goto VUvzi; r2HBN: return -2; goto g1lrj; pLsMV: return -3; goto ZCM_x; ZCM_x: VXhbI: goto sOmmn; MI1u4: if ($srcinfo) { goto qA01Q; } goto bC3h5; WWDQf: $waterinfo = @getimagesize($waterImg); goto JKQa_; tJBuI: $savefile = $savepath . "\57" . $savename; goto X2zXt; HierW: imagedestroy($waterImgObj); goto uIoa7; sOmmn: $waterImgObj = $this->image_create_from_ext($waterImg); goto nCdE2; dWBNb: amkgG: goto TFito; JKQa_: if ($waterinfo) { goto xii5t; } goto r2HBN; YJ6eb: switch ($srcinfo[2]) { case 1: imagegif($srcImgObj, $savefile); goto jvZ0d; case 2: imagejpeg($srcImgObj, $savefile); goto jvZ0d; case 3: imagepng($srcImgObj, $savefile); goto jvZ0d; default: return -5; } goto dWBNb; uIoa7: return $savefile; goto FiApl; T2QuK: $name = $temp["\142\141\x73\x65\x6e\141\x6d\145"]; goto Ucw1W; w067h: return -4; goto G8tDL; X2zXt: $srcinfo = @getimagesize($srcImg); goto MI1u4; nCdE2: if ($waterImgObj) { goto wp8VN; } goto w067h; Ucw1W: $path = $temp["\x64\151\x72\x6e\x61\x6d\x65"]; goto DiPcK; MBd1a: imagecopymerge($srcImgObj, $waterImgObj, $x, $y, 0, 0, $waterinfo[0], $waterinfo[1], $alpha); goto YJ6eb; deiKR: if ($srcImgObj) { goto VXhbI; } goto pLsMV; pAcAC: $savepath = $savepath ? $savepath : $path; goto tJBuI; G8tDL: wp8VN: goto MBd1a; TFito: jvZ0d: goto PhATP; MgHWO: $srcImgObj = $this->image_create_from_ext($srcImg); goto deiKR; DiPcK: $exte = $temp["\x65\170\164\x65\156\x73\151\x6f\x6e"]; goto F4yb7; PhATP: imagedestroy($srcImgObj); goto HierW; F4yb7: $savename = $savename ? $savename : $name; goto pAcAC; g1lrj: xii5t: goto MgHWO; euiIh: qA01Q: goto WWDQf; VUvzi: $temp = pathinfo($srcImg); goto T2QuK; bC3h5: return -1; goto euiIh; FiApl: } public function image_create_from_ext($imgfile) { goto KpxIg; yZsgp: lIWyB: goto UULoe; wIVbX: $im = null; goto vtk0e; vtk0e: switch ($info[2]) { case 1: $im = imagecreatefromgif($imgfile); goto lIWyB; case 2: $im = imagecreatefromjpeg($imgfile); goto lIWyB; case 3: $im = imagecreatefrompng($imgfile); goto lIWyB; } goto x73Vb; x73Vb: qtr9O: goto yZsgp; UULoe: return $im; goto whX4i; KpxIg: $info = getimagesize($imgfile); goto wIVbX; whX4i: } public function resize($imgsrc, $imgdst, $maxWidth = 1024, $maxHeight = 1024, $imgQuality) { goto nkc_k; AuY0A: AVELC: goto XysfH; HJfVv: if (!($width < $maxWidth || $height < $maxHeight)) { goto G0sFo; } goto xpyaU; nkc_k: list($width, $height, $type) = getimagesize($imgsrc); goto HJfVv; Vnvni: if (!($scale > 1)) { goto EFuWx; } goto mfMtC; ef5w0: switch ($type) { case 1: goto sG2a_; PkXR5: imagecopyresampled($image_wp, $image, 0, 0, 0, 0, $new_width, $new_height, $width, $height); goto nw6JR; nw6JR: imagejpeg($image_wp, $imgdst, $imgQuality); goto RG9A7; sG2a_: $image_wp = imagecreatetruecolor($new_width, $new_height); goto JRirk; Q64ZJ: goto AVELC; goto URe6N; JRirk: $image = imagecreatefromgif($imgsrc); goto PkXR5; RG9A7: imagedestroy($image_wp); goto Q64ZJ; URe6N: case 2: goto k7FSu; raMAC: goto AVELC; goto QanRJ; Um_R0: $image = imagecreatefromjpeg($imgsrc); goto haeRj; haeRj: imagecopyresampled($image_wp, $image, 0, 0, 0, 0, $new_width, $new_height, $width, $height); goto U2xg4; k7FSu: $image_wp = imagecreatetruecolor($new_width, $new_height); goto Um_R0; wx_Ez: imagedestroy($image_wp); goto raMAC; U2xg4: imagejpeg($image_wp, $imgdst, $imgQuality); goto wx_Ez; QanRJ: case 3: goto aZ7qF; oB23b: goto AVELC; goto F4rHa; lFt90: imagecopyresampled($image_wp, $image, 0, 0, 0, 0, $new_width, $new_height, $width, $height); goto DRUjM; DRUjM: imagejpeg($image_wp, $imgdst, $imgQuality); goto myyNM; myyNM: imagedestroy($image_wp); goto oB23b; aZ7qF: $image_wp = imagecreatetruecolor($new_width, $new_height); goto agDCl; agDCl: $image = imagecreatefrompng($imgsrc); goto lFt90; F4rHa: } goto Owf_2; V6qdo: $scale = min($maxWidth / $width, $maxHeight / $height); goto Vnvni; bjSvR: EFuWx: goto eLIyb; WpU54: G0sFo: goto V6qdo; eLIyb: $new_width = floor($scale * $width); goto trcc2; xpyaU: return; goto WpU54; mfMtC: return; goto bjSvR; Owf_2: Si4e6: goto AuY0A; trcc2: $new_height = floor($scale * $height); goto ef5w0; XysfH: } public function circularImg($imgpath, $savepath) { goto bxWsc; KZME1: $h = $wh[1]; goto xpnIS; PyYHW: if (!($y < $h)) { goto XFS3n; } goto NUgTe; M1ZnN: huLJA: goto IIncw; NUgTe: $rgbColor = imagecolorat($src_img, $x, $y); goto s6jEf; LrKss: goto Dx4D0; goto M1ZnN; sDQvf: $x = 0; goto jhV2D; IawmA: $y++; goto dhnix; Fyr9x: $y_x = $r; goto tKxxI; COMvW: URpDn: goto w68MC; ZNqrt: $src_img = null; goto oCZxy; RaymW: $w = $wh[0]; goto KZME1; s8kNJ: hFAuT: goto eh0g7; dhnix: goto F4ZMz; goto jEvMI; BxZ1c: F4ZMz: goto PyYHW; w68MC: zZ94f: goto IawmA; JwZCm: $r = $w / 2; goto Fyr9x; SMTi_: $img = imagecreatetruecolor($w, $h); goto SqRPJ; w6Aij: if (!($x < $w)) { goto huLJA; } goto FxRFH; Zs6CW: $bg = imagecolorallocatealpha($img, 255, 255, 255, 127); goto VvL_6; FxRFH: $y = 0; goto BxZ1c; eh0g7: $wh = getimagesize($imgpath); goto RaymW; jhV2D: Dx4D0: goto w6Aij; bxWsc: $ext = pathinfo($imgpath); goto ZNqrt; jSOMJ: imagesetpixel($img, $x, $y, $rgbColor); goto COMvW; jEvMI: XFS3n: goto UrVUz; oCZxy: switch ($ext["\x65\170\164\x65\x6e\x73\x69\157\x6e"]) { case "\x6a\160\147": $src_img = imagecreatefromjpeg($imgpath); goto hFAuT; case "\x70\156\147": $src_img = imagecreatefrompng($imgpath); goto hFAuT; } goto IAcpx; UrVUz: tBHe4: goto gib09; SqRPJ: imagesavealpha($img, true); goto Zs6CW; gib09: $x++; goto LrKss; vFAz6: $h = $w; goto SMTi_; EYTvk: imagedestroy($img); goto JeYbn; xpnIS: $w = min($w, $h); goto vFAz6; s6jEf: if (!(($x - $r) * ($x - $r) + ($y - $r) * ($y - $r) < $r * $r)) { goto URpDn; } goto jSOMJ; IAcpx: f6GGl: goto s8kNJ; VvL_6: imagefill($img, 0, 0, $bg); goto JwZCm; IIncw: imagepng($img, $savepath); goto EYTvk; tKxxI: $y_y = $r; goto sDQvf; JeYbn: } public function mergerImg($bigImgPath, $smallImgPath, $width, $height, $bigImgPaths) { goto HiMzG; PfHRe: imageColorTransparent($image_3, $color); goto flCGi; dAstx: $color = imagecolorallocate($image_3, 255, 255, 255); goto IenMl; IenMl: imagefill($image_3, 0, 0, $color); goto PfHRe; TLiDf: $image_photo = imagecreatefromstring(file_get_contents($bigImgPath)); goto ruXyb; yD1IU: imagecopy($image_3, $image_kuang, $width, $height, 0, 0, imagesx($image_kuang), imagesy($image_kuang)); goto Xqc8_; HiMzG: $image_kuang = imagecreatefromstring(file_get_contents($smallImgPath)); goto TLiDf; QeJgL: return $bigImgPaths; goto IVQzv; ruXyb: $image_3 = imageCreatetruecolor(imagesx($image_photo), imagesy($image_photo)); goto dAstx; flCGi: imagecopyresampled($image_3, $image_photo, 0, 0, 0, 0, imagesx($image_photo), imagesy($image_photo), imagesx($image_photo), imagesy($image_photo)); goto yD1IU; Xqc8_: imagejpeg($image_3, $bigImgPaths); goto QeJgL; IVQzv: } public function checkSystenType() { goto oaChs; vhROo: goto sIsnT; goto QAJ_q; ATxSn: if (strpos($_SERVER["\x48\124\x54\120\x5f\125\123\x45\122\x5f\x41\x47\x45\116\x54"], "\x41\x6e\x64\162\157\x69\144")) { goto lVZNK; } goto lJ4J8; Ed1uM: JfH39: goto Zs1IM; BlNBF: return "\141\156\144\162\157\x69\x64"; goto p7V4x; iG9PJ: return "\x69\x6f\163"; goto Ed1uM; oaChs: if (strpos($_SERVER["\110\x54\124\120\x5f\x55\123\x45\122\137\101\107\x45\x4e\124"], "\x69\x50\x68\x6f\x6e\145") || strpos($_SERVER["\110\x54\x54\x50\x5f\125\123\x45\122\137\101\x47\x45\x4e\124"], "\151\120\x61\x64")) { goto vBBAr; } goto ATxSn; NZNec: goto JfH39; goto Bwevl; p7V4x: sIsnT: goto NZNec; lJ4J8: return ''; goto vhROo; Bwevl: vBBAr: goto iG9PJ; QAJ_q: lVZNK: goto BlNBF; Zs1IM: } public function check_black_list($type, $uid = '') { goto h30xc; rJcTH: if (!($type == "\157\x72\144\x65\162" && $member["\142\x6c\141\x63\x6b\154\151\x73\164"] == 1)) { goto wvH6s; } goto bXj1S; zwe0c: return; goto CWdZ5; h30xc: global $_W; goto kLiXG; Ea9zF: wvH6s: goto cU3TN; hZ3J_: message("\345\275\223\345\211\215\347\224\250\346\x88\267\xe5\xb7\262\xe8\242\xab\xe5\x81\234\346\255\242\350\256\xbf\xe9\227\xae\xef\274\214\xe8\xaf\267\350\x81\224\xe7\xb3\xbb\347\256\241\347\x90\x86\345\x91\230"); goto xtHRz; wKx6Q: $member = pdo_get($this->table_member, array("\165\156\x69\x61\143\151\x64" => $_W["\165\x6e\151\x61\143\151\144"], "\x75\x69\x64" => $uid), array("\142\x6c\141\143\153\x6c\x69\163\x74")); goto rPR0o; PInfA: return; goto P9z39; P9z39: Wc0mH: goto JCg88; rPR0o: if ($member["\142\x6c\141\x63\x6b\154\x69\x73\x74"]) { goto Wc0mH; } goto PInfA; kLiXG: if ($uid) { goto k826J; } goto zwe0c; xtHRz: XFV2m: goto rJcTH; JCg88: if (!($type == "\166\x69\x73\151\x74" && $member["\142\154\x61\143\x6b\154\151\163\x74"] == 2)) { goto XFV2m; } goto hZ3J_; CWdZ5: k826J: goto wKx6Q; bXj1S: message("\xe5\275\223\345\x89\215\xe7\224\xa8\xe6\x88\xb7\345\267\262\350\242\253\345\201\x9c\xe6\xad\xa2\344\xb8\213\xe5\x8d\x95\357\xbc\x8c\350\257\267\350\x81\224\xe7\263\xbb\xe7\xae\241\xe7\220\x86\345\221\230"); goto Ea9zF; cU3TN: } public function addSysLog($admin_uid, $admin_username, $log_type, $function, $content) { goto cs9Gp; o_1QW: rL1UT: goto eKV_r; LevKR: Qf106: goto CguDz; F08Dy: kdRhO: goto Z1ZzA; FNp8H: if (getenv("\x48\x54\124\x50\137\x58\x5f\x46\x4f\122\x57\101\122\x44\x45\x44\x5f\106\x4f\x52")) { goto werze; } goto tLidX; uGqET: $ip = getenv("\x48\x54\124\x50\x5f\130\x5f\106\x4f\122\127\x41\x52\x44\x45\x44\137\106\x4f\122"); goto F08Dy; vpKQY: goto kdRhO; goto o_1QW; Z1ZzA: $log_data = array("\x75\x6e\x69\x61\143\151\x64" => $_W["\165\156\x69\x61\x63\151\x64"], "\141\144\155\151\156\137\x75\151\x64" => $admin_uid, "\x61\144\155\x69\x6e\137\165\163\x65\162\156\141\x6d\x65" => $admin_username, "\x6c\157\x67\137\x74\171\x70\145" => $log_type, "\146\165\156\143\x74\151\x6f\x6e" => $function, "\143\157\156\164\145\x6e\164" => $content, "\151\x70" => $ip, "\x61\x64\144\164\151\155\x65" => time()); goto VSQtb; cq7o_: WiiNa: goto vpKQY; C1jQW: $ip = $_SERVER["\x52\105\x4d\x4f\x54\x45\137\x41\x44\104\122"]; goto LYbgt; cs9Gp: global $_W; goto T3D6N; LYbgt: goto WiiNa; goto LevKR; ntWpR: werze: goto uGqET; CguDz: $ip = getenv("\122\105\115\x4f\x54\105\x5f\x41\x44\x44\x52"); goto cq7o_; tLidX: if (getenv("\122\x45\x4d\x4f\x54\105\137\101\x44\104\122")) { goto Qf106; } goto C1jQW; eKV_r: $ip = getenv("\110\x54\x54\x50\137\103\x4c\x49\105\116\124\x5f\111\x50"); goto ArMUp; VSQtb: return pdo_insert($this->table_syslog, $log_data); goto MC0HV; ArMUp: goto kdRhO; goto ntWpR; T3D6N: if (getenv("\x48\124\x54\120\x5f\103\114\111\x45\x4e\124\x5f\x49\120")) { goto rL1UT; } goto FNp8H; MC0HV: } public function getAgentLevelName($levelId) { goto H72PV; Adb2j: $level = pdo_fetch("\x53\x45\x4c\105\103\x54\40\154\x65\166\x65\154\156\141\x6d\x65\40\x46\122\x4f\x4d\x20" . tablename($this->table_commission_level) . "\x20\127\x48\x45\122\105\x20\165\156\x69\141\x63\x69\x64\x3d\72\x75\156\151\141\x63\151\x64\40\101\116\x44\40\x69\x64\x3d\72\151\x64", array("\x3a\165\156\151\141\143\x69\144" => $_W["\165\156\x69\141\x63\151\144"], "\x3a\151\144" => $levelId)); goto E7qKH; H72PV: global $_W; goto Adb2j; E7qKH: return $level ? $level["\154\145\x76\x65\x6c\156\141\155\145"] : "\351\xbb\230\xe8\256\xa4\347\xba\247\xe5\210\253"; goto MtIWa; MtIWa: } public function getFansCount($uid) { global $_W; return pdo_fetchcolumn("\x53\x45\114\105\103\124\40\103\117\x55\x4e\x54\50\x2a\x29\40\x46\x52\117\115\40" . tablename($this->table_member) . "\x20\127\110\x45\x52\x45\40\165\x6e\x69\141\x63\151\x64\x3d\72\165\x6e\151\141\143\151\144\40\x41\116\x44\x20\x70\141\x72\x65\156\164\x69\144\x3d\x3a\160\141\162\x65\156\164\x69\144", array("\x3a\165\x6e\151\141\x63\x69\x64" => $_W["\x75\x6e\x69\141\143\151\144"], "\x3a\160\x61\162\x65\156\x74\151\x64" => $uid)); } public function getWechatPayNo($tid) { return pdo_fetch("\123\x45\114\x45\103\x54\40\x75\156\x69\x6f\156\x74\151\144\54\x74\141\147\40\x46\x52\117\115\x20" . tablename("\143\157\x72\145\x5f\160\x61\171\154\x6f\147") . "\40\x57\x48\x45\x52\x45\40\164\151\x64\x3d\72\x74\151\144", array("\72\164\x69\x64" => $tid)); } public function tranTime($time) { goto EBn_o; HjVXu: if ($time < 60) { goto nxxPb; } goto M9yx9; luM3S: if ($time < 60 * 60 * 24) { goto jiQFQ; } goto No_od; pf8Sl: $str = $h . "\345\260\217\xe6\227\266\345\x89\215"; goto obImx; usOae: $min = floor($time / 60); goto cFAFy; FQsLU: $h = floor($time / (60 * 60)); goto pf8Sl; wIwbl: goto sq3Qo; goto GKBZT; gPbeq: goto ZyiYW; goto mW91W; obImx: goto ZyiYW; goto F70Ar; AklG7: if ($d == 1) { goto Jhs05; } goto n2964; xhZSF: return $str; goto rmZhy; Arj6f: $htime = date("\x48\72\x69", $time); goto Kg6IF; QEESi: t3KG9: goto usOae; X3JAO: goto ZyiYW; goto YPrIT; VJ547: $d = floor($time / (60 * 60 * 24)); goto AklG7; uqycR: $str = "\xe5\x88\x9a\345\210\x9a"; goto RfF2Y; No_od: if ($time < 60 * 60 * 24 * 3) { goto nAsLB; } goto u8vE4; cF25L: $str = "\xe6\x98\xa8\345\244\251"; goto suzZ5; n2964: $str = "\xe5\211\215\345\xa4\xa9"; goto wIwbl; GKBZT: Jhs05: goto cF25L; RfF2Y: goto ZyiYW; goto QEESi; suzZ5: sq3Qo: goto Vy0PT; YPrIT: jiQFQ: goto FQsLU; F70Ar: nAsLB: goto VJ547; Vy0PT: ZyiYW: goto xhZSF; Kg6IF: $time = time() - $time; goto HjVXu; mW91W: nxxPb: goto uqycR; cFAFy: $str = $min . "\xe5\210\206\351\222\237\345\x89\x8d"; goto X3JAO; M9yx9: if ($time < 60 * 60) { goto t3KG9; } goto luM3S; u8vE4: $str = $rtime; goto gPbeq; EBn_o: $rtime = date("\155\x2d\144\40\x48\72\151", $time); goto Arj6f; rmZhy: } public function secToTime($seconds, $show_h = true) { goto owr8K; M_s7t: $hours = intval($seconds / 3600) >= 10 ? intval($seconds / 3600) : "\x30" . intval($seconds / 3600); goto qUw34; ZGtan: goto YFE8u; goto T5Ymh; HPgAR: return $time; goto NPXgf; SU1vZ: YFE8u: goto fPXqG; xKx9x: if ($show_h) { goto DwS3a; } goto iFxl6; owr8K: if ($seconds > 3600) { goto Df7lt; } goto xKx9x; sm9f3: $time = $hours . "\72" . gmstrftime("\x25\x4d\72\x25\123", $minutes); goto sUeg8; qUw34: $minutes = $seconds % 3600; goto sm9f3; dSkQI: $time = gmstrftime("\45\110\72\x25\x4d\72\x25\x53", $seconds); goto SU1vZ; sUeg8: QQY3w: goto HPgAR; T5Ymh: DwS3a: goto dSkQI; fPXqG: goto QQY3w; goto XuBmy; iFxl6: $time = gmstrftime("\45\115\x3a\x25\x53", $seconds); goto ZGtan; XuBmy: Df7lt: goto M_s7t; NPXgf: } public function secToTime2($seconds) { goto h9OBp; Y3VqD: $time = $h . "\346\x97\266" . $m . "\xe5\210\206"; goto jQ3no; bhmze: Xy7lT: goto If4iC; RC0jI: knHlm: goto bwWgn; Xc5cT: zerIz: goto Sjd0C; P4qBH: m5yY7: goto gSfY0; a9QQj: $time = $d . "\xe5\244\xa9" . $h . "\xe6\x97\266" . $m . "\xe5\210\206"; goto RC0jI; yA3tv: vJoa3: goto RdrhU; XdxGV: goto l5fC0; goto bhmze; RqpwX: if ($seconds >= 3600) { goto vJoa3; } goto N3SJL; X8Sx4: W3gLB: goto a9QQj; PhBy6: goto l5fC0; goto yA3tv; RdrhU: if ($d) { goto W3gLB; } goto Y3VqD; VoTGm: return $time; goto TAlbI; Sjd0C: $time = "\x31\xe5\210\x86\60\347\xa7\x92"; goto V0KOk; GOcVM: if ($seconds < 60) { goto Xy7lT; } goto YCzAH; u4WTS: $h = floor($seconds % (3600 * 24) / 3600); goto tjGgm; gSfY0: $time = intval($seconds / 60) . "\xe5\210\206" . $seconds % 60 . "\xe7\247\x92"; goto PhBy6; h9OBp: $d = floor($seconds / (3600 * 24)); goto u4WTS; N3SJL: goto l5fC0; goto D46y2; y06xb: $time = "\60\xe5\210\x86\60\347\xa7\222"; goto XdxGV; D46y2: EHEj0: goto y06xb; tjGgm: $m = floor($seconds % (3600 * 24) % 3600 / 60); goto MbZKT; MbZKT: if ($seconds == 0) { goto EHEj0; } goto GOcVM; YCzAH: if ($seconds == 60) { goto zerIz; } goto b6Wqa; If4iC: $time = "\x30\xe5\210\206" . $seconds . "\xe7\247\222"; goto LBXPW; bwWgn: l5fC0: goto VoTGm; LBXPW: goto l5fC0; goto Xc5cT; jQ3no: goto knHlm; goto X8Sx4; V0KOk: goto l5fC0; goto P4qBH; b6Wqa: if ($seconds > 60 && $seconds < 3600) { goto m5yY7; } goto RqpwX; TAlbI: } function hexTorgb($hexColor) { goto IM9Rz; H6z7S: if (strlen($color) > 3) { goto a4TXu; } goto FLaVI; WK9yi: $r = substr($color, 0, 1) . substr($color, 0, 1); goto LB2xS; nrtqa: $rgb = array("\162" => hexdec($r), "\147" => hexdec($g), "\x62" => hexdec($b)); goto i4UIR; nnng3: a4TXu: goto ErHG0; FLaVI: $color = $hexColor; goto WK9yi; IM9Rz: $color = str_replace("\x23", '', $hexColor); goto H6z7S; ErHG0: $rgb = array("\x72" => hexdec(substr($color, 0, 2)), "\x67" => hexdec(substr($color, 2, 2)), "\142" => hexdec(substr($color, 4, 2))); goto W_0NR; W_0NR: sD1V6: goto rr4QM; i4UIR: goto sD1V6; goto nnng3; LB2xS: $g = substr($color, 1, 1) . substr($color, 1, 1); goto azwou; azwou: $b = substr($color, 2, 1) . substr($color, 2, 1); goto nrtqa; rr4QM: return $rgb; goto whpLx; whpLx: } public function char_array($str, $charset = "\165\164\x66\55\x38") { goto ptkgn; yrxOo: preg_match_all($re[$charset], $str, $match); goto WSbjZ; ptkgn: $re["\165\x74\x66\x2d\70"] = "\57\x5b\1\55\177\135\174\x5b\xc2\55\337\x5d\x5b\x80\x2d\xbf\135\x7c\133\340\x2d\357\135\133\200\x2d\277\135\173\62\x7d\174\x5b\xf0\55\377\x5d\133\x80\55\277\135\173\x33\175\x2f"; goto ZHA9X; oUzmx: $re["\x67\142\x6b"] = "\x2f\x5b\1\x2d\177\135\174\133\201\55\376\x5d\133\100\55\xfe\135\57"; goto nlmx6; nlmx6: $re["\x62\151\x67\65"] = "\57\133\x1\x2d\177\x5d\x7c\133\201\55\376\x5d\50\x5b\100\55\x7e\135\x7c\241\x2d\376\x5d\51\x2f"; goto yrxOo; WSbjZ: return $match[0]; goto k2f6P; ZHA9X: $re["\147\x62\62\63\x31\62"] = "\57\133\1\x2d\177\135\x7c\133\260\55\xf7\x5d\x5b\xa0\55\376\x5d\x2f"; goto oUzmx; k2f6P: } public function downloadFile($fileid) { goto nuvow; g4Wow: header("\x43\157\x6e\x74\145\x6e\164\55\x44\151\x73\160\x6f\x73\151\164\151\157\156\x3a\x20\141\164\164\141\x63\x68\x6d\x65\156\x74\x3b\40\x66\x69\x6c\x65\156\141\x6d\x65\x3d\42" . $filename . "\x22"); goto QXJ6C; faVwQ: yCi4s: goto QPWlb; fLrnD: Ab1gx: goto e7DL4; gYfsJ: if (preg_match("\x2f\x4d\123\111\105\57", $ua) || preg_match("\57\x54\162\x69\x64\x65\x6e\x74\134\57\x37\x2e\60\57", $ua) || preg_match("\57\105\144\x67\x65\x2f", $ua)) { goto PmDql; } goto zdmRC; PDGFO: VfHmr: goto CCTJQ; W149R: $file = @fopen($file_url, "\x72"); goto y4shN; Opcgk: header("\103\x6f\x6e\x74\145\156\164\x2d\x44\x69\163\160\x6f\163\x69\x74\151\157\156\72\x20\x61\x74\164\141\143\x68\155\x65\x6e\x74\73\40\x66\x69\154\145\156\141\155\145\x2a\x3d\42\x75\x74\146\70\47\x27" . $filename . "\42"); goto GLUH6; jhZjm: $encoded_filename = str_replace("\53", "\45\62\60", $encoded_filename); goto ySvj1; Yp9aw: header("\103\141\x63\150\145\x2d\x43\x6f\156\164\x72\157\x6c\72\x20\160\165\142\x6c\x69\x63"); goto Hhj7p; NwYXI: SYnxh: goto PGN6K; D2jFn: yK1PA: goto fLrnD; Akeje: $document = pdo_get($this->table_document, array("\x75\x6e\x69\x61\x63\x69\x64" => $_W["\165\x6e\151\x61\143\x69\x64"], "\x69\x64" => $fileid)); goto b7gxy; e7DL4: if (feof($file)) { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: $encoded_filename = urlencode($filename); goto jhZjm; HerVk: goto MS0Lc; goto zg5cN; srpBY: header("\x43\x6f\x6e\x74\145\x6e\164\x2d\x44\x69\x73\x70\x6f\163\151\164\151\x6f\156\72\40\x61\164\x74\141\143\x68\155\x65\x6e\164\73\40\x66\x69\x6c\145\x6e\x61\155\x65\75\x22" . $encoded_filename . "\42"); goto D2jFn; uh8rF: QcEG9: goto K9ESy; ikZbq: if (file_exists($file_url)) { goto zximv; } goto jv9xe; AUnLe: header("\x45\x78\160\151\x72\x65\163\x3a\x20\x30"); goto zx_rD; h16uv: MS0Lc: goto X_9D_; jv9xe: message("\346\x9c\xac\xe5\x9c\260\346\x96\x87\344\273\266\xe4\xb8\x8d\xe5\255\x98\345\x9c\xa8"); goto HiRfx; AdCoJ: $file_url = $_W["\x61\x74\164\x61\143\x68\165\162\154"] . $document["\x66\151\154\x65\x70\141\164\x68"]; goto W149R; GLUH6: Esol1: goto HerVk; pdrw_: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\171\160\145\x3a\141\160\x70\x6c\151\x63\x61\164\151\x6f\x6e\57\x6f\x63\164\x65\164\x2d\163\x74\x72\145\x61\155\x3b"); goto PCH6L; nuvow: global $_W; goto Akeje; GtZic: xusUf: goto E6wDS; khNJP: $filename = $document["\x74\151\x74\x6c\x65"]; goto Ts3dT; NBAOL: WDmWv: goto wwySl; QPWlb: fclose($file); goto bBngO; jNZwf: if (preg_match("\57\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\124\162\151\x64\145\156\x74\x5c\57\x37\x2e\60\57", $ua) || preg_match("\57\105\x64\x67\x65\x2f", $ua)) { goto nIlm9; } goto XvjO7; b7gxy: if (!empty($document)) { goto VfHmr; } goto lIbQU; tViKO: $file_url = ATTACHMENT_ROOT . $document["\146\x69\x6c\145\x70\141\164\150"]; goto ikZbq; lIbQU: message("\xe6\226\207\xe4\xbb\266\350\256\xb0\345\275\225\344\270\215\xe5\xad\x98\345\x9c\xa8"); goto PDGFO; ySvj1: if (!empty($_W["\x73\x65\164\x74\151\156\147"]["\162\145\x6d\157\164\145"]["\x74\x79\160\x65"])) { goto aGNRJ; } goto tViKO; wwySl: header("\103\157\156\x74\x65\x6e\164\55\104\x69\x73\160\157\163\x69\x74\x69\x6f\156\x3a\x20\x61\x74\164\x61\143\150\x6d\x65\156\x74\73\x20\146\151\x6c\145\x6e\141\155\x65\x2a\75\42\x75\164\146\x38\x27\x27" . $filename . "\42"); goto G68E3; zg5cN: PmDql: goto HvxeF; L95xn: ja1nh: goto uh8rF; QXJ6C: goto Esol1; goto Yh2Ta; y4shN: if ($file) { goto xusUf; } goto ip0Gj; HvxeF: header("\x43\157\x6e\164\x65\156\164\x2d\104\x69\163\x70\157\163\151\x74\151\157\156\72\40\x61\164\x74\141\143\150\x6d\x65\x6e\164\73\x20\x66\x69\x6c\145\x6e\x61\x6d\145\x3d\x22" . $encoded_filename . "\x22"); goto h16uv; rejF9: $fileData .= fread($fp, $buffer); goto X4dpI; t25S7: goto yK1PA; goto B2HQf; Hhj7p: header("\103\x6f\x6e\x74\145\x6e\164\x2d\104\145\163\143\162\151\160\164\x69\x6f\x6e\72\x20\x46\x69\x6c\x65\x20\124\162\141\x6e\163\x66\145\162"); goto pdrw_; MzLsn: $fileData = ''; goto ac_Yl; sWkOh: goto ja1nh; goto GtZic; XvjO7: if (preg_match("\x2f\x46\151\162\145\146\x6f\x78\57", $ua)) { goto WDmWv; } goto DX5AL; G68E3: ZRr2m: goto t25S7; NzkzQ: echo fread($file, $buffer); goto AYQI3; WZdrY: header("\101\143\143\145\160\x74\x2d\114\x65\156\147\x74\150\x3a{$fileSize}"); goto gYfsJ; ip0Gj: message("\xe8\xbf\x9c\xe7\250\213\xe6\x96\x87\xe4\xbb\xb6\344\xb8\215\xe5\255\230\345\x9c\250"); goto sWkOh; EEief: if (feof($fp)) { goto SYnxh; } goto rejF9; YPolB: goto QcEG9; goto FuSH0; FuSH0: aGNRJ: goto AdCoJ; RlBxb: echo $fileData; goto KRvO0; X_9D_: header("\103\x6f\156\164\x65\x6e\x74\x2d\x54\162\141\x6e\163\146\145\x72\55\105\x6e\143\x6f\x64\151\x6e\x67\x3a\x20\x62\151\x6e\141\x72\x79"); goto RlBxb; SQq2P: $ua = $_SERVER["\110\x54\124\120\x5f\x55\123\105\122\137\x41\x47\105\x4e\x54"]; goto khNJP; KRvO0: exit; goto YPolB; DX5AL: header("\103\157\x6e\164\145\156\x74\55\x44\x69\163\x70\157\x73\151\x74\x69\x6f\x6e\x3a\40\x61\164\x74\x61\x63\x68\x6d\145\x6e\164\73\40\146\151\x6c\145\156\141\x6d\145\75\42" . $filename . "\x22"); goto mUYFC; j700F: $fp = fopen($file_url, "\x72"); goto PFFez; E6wDS: header("\103\x6f\x6e\x74\145\156\x74\x2d\164\x79\160\x65\x3a\x20\x61\160\x70\154\151\x63\141\164\151\x6f\x6e\x2f\x6f\x63\x74\145\164\x2d\x73\164\162\145\141\x6d"); goto jNZwf; mUYFC: goto ZRr2m; goto NBAOL; PFFez: $fileSize = filesize($file_url); goto MzLsn; bBngO: exit; goto L95xn; X4dpI: goto pqjSO; goto NwYXI; AYQI3: goto Ab1gx; goto faVwQ; PGN6K: fclose($fp); goto yhscV; HiRfx: zximv: goto j700F; zx_rD: header("\103\141\143\x68\145\55\103\157\x6e\164\162\157\154\x3a\40\155\165\163\x74\x2d\x72\145\x76\141\x6c\151\x64\x61\x74\145\54\40\160\x6f\163\164\x2d\143\150\145\x63\153\x3d\60\x2c\40\x70\162\x65\x2d\x63\x68\145\143\x6b\75\x30"); goto Yp9aw; zdmRC: if (preg_match("\57\106\x69\162\145\x66\157\170\57", $ua)) { goto kCzyM; } goto g4Wow; yhscV: header("\x50\162\x61\147\155\141\x3a\40\x70\165\142\154\151\143"); goto AUnLe; ac_Yl: pqjSO: goto EEief; PCH6L: header("\101\x63\x63\x65\160\164\55\x52\141\x6e\147\x65\163\72\x62\x79\x74\x65\x73"); goto WZdrY; B2HQf: nIlm9: goto srpBY; CCTJQ: $buffer = 102400; goto SQq2P; K9ESy: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 50) { goto W6a1A; hoc0l: if ($lessonid) { goto gzJQc; } goto zqOqy; W6a1A: global $_W; goto EOuuW; KKcZq: return; goto nFbRA; nFbRA: fYBnv: goto NvU6w; nezw5: foreach ($list as $k => $v) { goto LT2Ht; E2r71: BAmCP: goto JEEPB; RrTkg: $list[$k] = $v; goto E2r71; LT2Ht: $v["\142\157\x64\x79"] = urldecode($v["\x62\157\x64\x79"]); goto IJsu_; IJsu_: $v["\164\151\x6d\x65"] = date("\155\x2d\x64\40\110\72\151\72\163", $v["\164\151\155\145"]); goto RrTkg; JEEPB: } goto m8XYA; EOuuW: $uniacid = $_W["\x75\156\x69\141\143\x69\x64"]; goto hoc0l; NvU6w: $list = pdo_fetchall("\x53\105\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_live_chatrecord) . "\x20\x57\x48\105\122\105\40\165\156\x69\x61\143\151\x64\x3d\72\165\x6e\x69\x61\143\x69\144\40\101\116\x44\x20\x6c\x65\163\163\x6f\156\151\144\75\x3a\154\145\163\x73\x6f\156\x69\144\x20\101\116\104\40\162\157\157\x6d\x69\144\75\72\162\x6f\157\x6d\151\144\x20\117\122\104\105\x52\x20\x42\131\x20\x69\x64\40\x44\x45\x53\103\40\x4c\x49\x4d\x49\x54\40\60\x2c{$limit}", array("\72\x75\156\151\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\x6f\x6e\151\x64" => $lessonid, "\72\162\x6f\x6f\155\x69\144" => $roomid)); goto pn4pc; XnC2m: return $list; goto UB_Yc; pn4pc: $list = array_reverse($list); goto nezw5; { goto yCi4s; } goto NzkzQ; Yh2Ta: kCzyM: goto Opcgk; Ts3dT: 