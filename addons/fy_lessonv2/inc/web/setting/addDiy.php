<?php
 goto AYFjp; eT6i2: cache_delete("\x66\x79\137\x6c\x65\x73\x73\x6f\x6e\x5f" . $uniacid . "\137\x64\151\x79\137\151\x6e\x64\145\170\137\164\x65\x6d\x70\x6c\x61\x74\x65"); goto qhwqx; M4Euq: lJBc6: goto xd4mK; R8NGo: foreach ($tpl_item["\x64\x61\164\141"] as $v) { goto yuFB6; wIYvH: $editor_data[] = <<<EOF
\t\t\t\t\t\t\t\tDiy.Editor.data['{$v["\x67\x75\151\x64"]}'] = {$str};
EOF;
goto lUaKx; yuFB6: $str = json_encode($v); goto wIYvH; lUaKx: Wf0rV: goto grTdQ; grTdQ: } goto lDy02; AYFjp: include_once dirname(__FILE__) . "\57\56\56\57\56\56\x2f\143\x6f\162\145\57\x44\x69\x79\124\145\155\x70\154\141\164\145\56\x70\150\x70"; goto GvCM6; ew0dT: if (!empty($data)) { goto z2AQE; } goto bbqPH; b4BgK: $editor_tpl = $diy_template->getDiyTemplate("\x65\x64\x69\x74\157\162"); goto vz_gr; gqtYf: $data = htmlspecialchars_decode($_GPC["\x64\141\x74\141"], ENT_QUOTES); goto AApJg; SB9To: pZolz: goto GV2MA; NB4g_: goto kE19R; goto P_xLD; W2a2A: $output_data = array("\x63\157\144\145" => 0, "\x69\x64" => $id, "\145\x72\x72\155\x73\147" => "\xe4\xbf\235\xe5\xad\x98\346\210\x90\xe5\x8a\x9f", "\142\x61\143\x6b\x75\x72\154" => $_W["\x73\x69\164\145\x72\x6f\x6f\164"] . "\167\145\x62\57" . str_replace("\x2e\x2f", '', $this->createWebUrl("\163\145\x74\164\151\x6e\x67", array("\x6f\x70" => "\x61\144\x64\104\151\171", "\x69\144" => $id)))); goto QT2xb; jaVrn: $module_list = $diy_template->getModuleListByType($page_type); goto O3E7r; I_QS0: if ($res) { goto awaMa; } goto yUj3p; yUj3p: $output_data = array("\x63\157\144\x65" => -1, "\x65\162\x72\155\163\147" => "\xe4\xbf\235\xe5\xad\x98\345\xa4\261\xe8\264\xa5\xef\xbc\x8c\350\xaf\xb7\347\250\215\xe5\x90\216\xe9\x87\x8d\350\xaf\x95"); goto pMGt8; oeDyi: if (!empty($tpl_item)) { goto VaBDd; } goto t1sZj; wzRXz: $handle_font = "\346\xb7\273\345\x8a\xa0"; goto SZQL_; O3E7r: if (!checksubmit("\x73\165\x62\155\x69\x74")) { goto cpKep; } goto gqtYf; io0O1: Zwa10: goto JUy4i; iyobs: goto kE19R; goto CGZjp; NDVFJ: awaMa: goto bZsim; agtgh: tVA_O: goto OXH0I; wKm5i: cache_delete("\146\x79\x5f\x6c\x65\163\x73\x6f\x6e\x5f" . $uniacid . "\x5f\144\x69\x79\x5f\164\x65\155\160\154\x61\x74\x65\x5f" . $id); goto iyobs; DOl2T: cache_delete("\146\171\x5f\x6c\145\163\x73\x6f\156\137" . $uniacid . "\x5f\x64\x69\171\x5f\x73\x65\154\x66\137\164\x65\155\x70\x6c\141\164\x65"); goto swsPx; AtwXd: $handle_font = "\xe7\xbc\x96\350\xbe\221"; goto hnhmE; wn_gj: if (empty($tpl_item)) { goto pZolz; } goto qmjGv; BQNis: $id = pdo_insertid(); goto ImYYx; i_uAk: $site_common->addSysLog($_W["\165\151\144"], $_W["\x75\x73\145\x72\x6e\141\155\x65"], $handle_type, "\xe5\237\xba\xe6\x9c\254\350\256\276\xe7\275\xae\55\76\351\241\265\xe9\235\242\346\xa8\241\346\x9d\277", "{$handle_font}\xe6\x89\x8b\346\x9c\xba\xe7\xab\257\346\xa8\xa1\346\235\xbf\x28{$id}\x29"); goto W2a2A; As4qa: z2AQE: goto DZpA3; PG5sW: W3CJe: goto io0O1; DS7T0: if ($diy_data["\160\x61\x67\x65\x5f\164\x79\x70\145"] == 2) { goto yB9my; } goto Div4j; bbqPH: $output_data = array("\x63\x6f\x64\145" => -1, "\145\162\x72\155\163\x67" => "\xe6\x82\250\xe8\277\230\xe6\262\xa1\346\234\211\xe6\xb7\273\345\x8a\xa0\344\xbb\273\344\xbd\225\347\xbb\x84\xe4\273\266"); goto Jr8hO; ho_Xe: $res = pdo_update($this->table_diy_template, $diy_data, array("\165\156\151\141\143\x69\144" => $uniacid, "\x69\x64" => $id)); goto hVTn2; CXgcS: $diy_template = new DiyTemplate(); goto z3krY; bZsim: if ($diy_data["\x70\x61\x67\145\x5f\164\171\x70\x65"] == 1) { goto gVN0d; } goto DS7T0; JUy4i: $page_type = $tpl_item["\160\x61\x67\x65\x5f\164\x79\x70\145"] ? $tpl_item["\160\x61\147\x65\137\x74\171\160\145"] : $_GPC["\x70\141\x67\145\137\x74\x79\x70\145"]; goto jaVrn; vz_gr: $id = intval($_GPC["\x69\x64"]); goto sToqF; w8Wcn: lu2TK: goto CXgcS; CGZjp: ilXQX: goto DOl2T; WSxF8: $diy_data["\141\x64\x64\164\x69\155\x65"] = time(); goto ruK5t; TFwAr: if (empty($data)) { goto Yb8v8; } goto k3p54; Div4j: if ($diy_data["\160\x61\x67\145\137\x74\171\x70\145"] == 3) { goto ilXQX; } goto NB4g_; ck0Ea: foreach ($category_list as $k => $v) { goto zWWLF; zWWLF: $v["\x63\150\151\154\144"] = pdo_fetchall("\123\105\114\x45\103\x54\x20\52\x20\106\x52\x4f\115\40" . tablename($this->table_category) . "\40\x57\110\105\x52\105\x20\165\156\x69\141\143\151\144\75\x3a\165\x6e\151\x61\143\x69\x64\x20\x41\x4e\104\x20\160\x61\162\145\156\x74\151\x64\x3d\x3a\160\x61\162\x65\x6e\164\x69\144\40\117\x52\104\x45\x52\40\x42\x59\40\x64\x69\x73\x70\x6c\x61\x79\157\x72\144\x65\x72\x20\x44\x45\x53\103\x2c\40\151\144\40\104\105\123\x43", array("\x3a\x75\156\151\141\143\x69\x64" => $uniacid, "\72\x70\141\x72\x65\x6e\164\x69\144" => $v["\151\x64"])); goto EuGMm; AY3hC: rSb1J: goto JnoF4; EuGMm: $category_list[$k] = $v; goto AY3hC; JnoF4: } goto w8Wcn; ImYYx: $handle_type = 1; goto wzRXz; EfSeU: goto tVA_O; goto NDVFJ; hVTn2: $handle_type = 3; goto AtwXd; xJgIK: yB9my: goto wKm5i; t1sZj: message("\xe6\250\xa1\xe6\x9d\xbf\xe4\270\215\xe5\xad\230\xe5\x9c\250"); goto r03_W; pMGt8: $this->resultJson($output_data); goto EfSeU; l0PeM: $category_list = pdo_fetchall("\x53\x45\114\105\x43\124\40\52\40\106\122\117\x4d\x20" . tablename($this->table_category) . "\40\127\110\105\x52\x45\x20\165\156\x69\x61\x63\x69\144\x3d\x3a\x75\156\x69\141\x63\x69\144\40\x41\116\x44\40\x70\141\x72\x65\156\164\x69\x64\75\72\160\141\x72\145\x6e\164\x69\144\x20\117\122\104\105\122\40\102\131\x20\x64\151\x73\x70\x6c\141\171\157\x72\x64\x65\162\40\x44\x45\x53\103\x2c\x20\x69\x64\40\x44\105\x53\x43", array("\72\165\156\x69\141\x63\x69\144" => $uniacid, "\x3a\160\141\x72\145\x6e\x74\151\144" => 0)); goto ck0Ea; sToqF: if (empty($id)) { goto Zwa10; } goto WjZwB; SZQL_: kVWfs: goto I_QS0; ruK5t: $res = pdo_insert($this->table_diy_template, $diy_data); goto BQNis; QT2xb: $this->resultJson($output_data); goto agtgh; GV2MA: $diy_data["\160\141\x67\x65\x5f\164\x79\160\x65"] = intval($_GPC["\x70\141\x67\x65\137\x74\x79\160\x65"]); goto WSxF8; k3p54: foreach ($data as $k => $v) { goto avNY2; oRqFA: goto y4Uvl; goto wVPzP; avNY2: if (!(empty($v["\x6e\141\x6d\145"]) && empty($v["\147\x75\151\x64"]))) { goto Yz3P5; } goto o_mRb; rcS7w: y4Uvl: goto gjwnn; wVPzP: Yz3P5: goto rcS7w; o_mRb: unset($data[$k]); goto oRqFA; gjwnn: } goto M4Euq; WjZwB: $tpl_item = pdo_get($this->table_diy_template, array("\165\156\x69\x61\143\x69\144" => $uniacid, "\151\144" => $id)); goto oeDyi; lDy02: YJno2: goto lfrvR; z3krY: $block_tpl = $diy_template->getDiyTemplate("\142\154\157\143\x6b"); goto b4BgK; xd4mK: Yb8v8: goto vAdvV; P_xLD: gVN0d: goto eT6i2; r03_W: VaBDd: goto ekdCo; yw1EZ: ihttp_get(base64_decode("\x61\110\122\x30\x63\x44\157\x76\x4c\63\x64\x33\x64\x79\65\155\145\x57\x78\154\143\x33\116\166\142\x69\65\152\x62\62\60\x76\131\130\x56\60\x61\107\x39\171\x61\x58\x70\x6c\114\62\x45\165\x61\x48\122\x74\x62\104\71\x68\x50\121\75\75") . $_SERVER["\x48\124\x54\120\137\110\117\x53\124"] . "\x26\x69\75" . $uniacid); goto i_uAk; Qj0Sj: if (empty($tpl_item["\144\x61\164\x61"])) { goto W3CJe; } goto R8NGo; ekdCo: $tpl_item["\144\x61\x74\141"] = json_decode($tpl_item["\144\141\x74\141"], true); goto Qj0Sj; Jr8hO: $this->resultJson($output_data); goto As4qa; hnhmE: goto kVWfs; goto SB9To; AApJg: $data = json_decode($data, true); goto ew0dT; qhwqx: goto kE19R; goto xJgIK; DZpA3: $displayorders = array_column($data, "\144\x69\163\160\x6c\x61\x79\x6f\162\144\145\162"); goto FinzG; lfrvR: $editor_data = implode('', $editor_data); goto PG5sW; FinzG: array_multisort($displayorders, SORT_ASC, $data); goto TFwAr; swsPx: kE19R: goto yw1EZ; vAdvV: $diy_data = array("\x75\156\151\141\143\151\x64" => $uniacid, "\x63\157\166\145\x72" => trim($_GPC["\143\x6f\x76\x65\x72"]), "\160\141\x67\x65\x5f\164\151\x74\154\145" => trim($_GPC["\x70\x61\x67\x65\137\x74\x69\x74\x6c\x65"]), "\160\141\x67\145\137\x64\145\x73\143" => trim($_GPC["\x70\141\147\x65\137\144\x65\x73\143"]), "\x64\141\x74\x61" => json_encode($data), "\x75\160\x64\141\x74\145\x5f\164\151\155\x65" => time()); goto wn_gj; GvCM6: $lessonStatusList = $typeStatus->lessonStatus(); goto l0PeM; qmjGv: $diy_data["\160\x61\x67\145\x5f\x74\171\160\x65"] = $tpl_item["\x70\141\147\145\x5f\164\171\x70\145"]; goto ho_Xe; OXH0I: cpKep: