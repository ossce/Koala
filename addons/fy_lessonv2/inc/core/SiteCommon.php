<?php
 defined("\111\x4e\137\111\101") or exit("\x41\143\x63\145\x73\163\x20\x44\145\x6e\151\145\x64"); class SiteCommon extends WeModuleSite { public $table_aliyun_upload = "\146\x79\137\154\x65\x73\163\157\156\137\141\154\151\x79\x75\156\137\165\x70\x6c\x6f\141\x64"; public $table_aliyunoss_upload = "\x66\171\137\154\145\163\163\x6f\156\137\x61\154\151\x79\x75\x6e\157\163\x73\137\x75\x70\154\157\x61\x64"; public $table_article = "\x66\x79\x5f\154\x65\163\163\x6f\156\x5f\x61\x72\x74\151\x63\154\145"; public $table_article_category = "\x66\171\137\x6c\145\163\163\x6f\x6e\137\x61\x72\x74\151\x63\154\x65\x5f\143\141\x74\145\147\x6f\162\x79"; public $table_attribute = "\x66\171\137\x6c\145\x73\163\x6f\156\137\141\164\164\x72\151\x62\165\x74\x65"; public $table_banner = "\146\x79\x5f\x6c\x65\x73\163\x6f\156\137\x62\x61\x6e\156\x65\x72"; public $table_cashlog = "\x66\171\137\154\x65\163\163\x6f\x6e\137\143\141\x73\150\x6c\x6f\147"; public $table_category = "\146\171\137\154\145\163\163\x6f\156\x5f\x63\141\164\x65\x67\x6f\162\x79"; public $table_lesson_collect = "\x66\x79\137\154\x65\163\163\x6f\156\x5f\x63\157\154\x6c\145\x63\x74"; public $table_commission_level = "\x66\171\x5f\154\x65\x73\163\x6f\x6e\x5f\x63\157\155\x6d\x69\x73\163\151\x6f\x6e\137\x6c\145\x76\x65\154"; public $table_commission_log = "\146\x79\137\x6c\145\x73\163\157\156\x5f\x63\x6f\x6d\x6d\151\163\163\x69\x6f\x6e\x5f\154\157\147"; public $table_commission_setting = "\146\171\x5f\x6c\x65\163\x73\157\x6e\137\x63\157\x6d\x6d\x69\x73\x73\x69\157\x6e\x5f\163\x65\x74\164\x69\156\147"; public $table_coupon = "\146\171\137\x6c\x65\163\163\157\156\137\143\157\x75\x70\157\156"; public $table_discount = "\x66\171\x5f\154\145\163\x73\x6f\156\137\x64\151\x73\x63\x6f\165\156\x74"; public $table_discount_lesson = "\x66\171\137\154\x65\163\x73\x6f\156\137\144\x69\163\143\x6f\x75\156\x74\137\154\145\x73\x73\157\156"; public $table_diy_template = "\146\171\x5f\x6c\145\x73\163\157\x6e\x5f\144\151\x79\x5f\164\145\155\160\x6c\x61\164\145"; public $table_document = "\x66\x79\137\x6c\x65\163\163\157\156\x5f\144\x6f\x63\x75\155\x65\x6e\164"; public $table_evaluate = "\146\x79\137\x6c\145\x73\163\x6f\x6e\137\x65\166\x61\154\165\141\164\x65"; public $table_evaluate_score = "\146\171\x5f\154\145\x73\x73\x6f\x6e\x5f\145\x76\141\154\x75\x61\164\x65\x5f\x73\143\157\x72\x65"; public $table_footer_group = "\146\171\137\x6c\145\x73\163\x6f\156\137\x66\157\157\164\x65\162\137\147\162\157\x75\160"; public $table_lesson_history = "\146\171\137\x6c\145\x73\163\157\x6e\137\x68\x69\x73\164\x6f\x72\x79"; public $table_index_module = "\x66\171\x5f\x6c\x65\x73\163\x6f\x6e\137\x69\156\144\145\170\x5f\x6d\x6f\144\165\154\145"; public $table_inform = "\x66\x79\137\154\145\163\x73\x6f\x6e\137\151\x6e\146\157\x72\x6d"; public $table_inform_fans = "\x66\x79\x5f\x6c\x65\x73\x73\x6f\x6e\137\151\156\146\x6f\x72\155\137\146\141\x6e\x73"; public $table_login_pc = "\x66\171\x5f\x6c\x65\163\163\x6f\x6e\137\x6c\157\147\151\156\137\x70\143"; public $table_recommend_junior = "\x66\x79\137\154\145\163\163\x6f\156\x5f\x72\x65\143\157\x6d\x6d\x65\156\x64\x5f\152\165\x6e\x69\x6f\162"; public $table_recommend_activity = "\146\171\137\154\145\x73\163\157\x6e\137\162\x65\x63\x6f\x6d\155\145\156\144\x5f\x61\143\x74\151\166\x69\164\171"; public $table_market = "\146\171\x5f\154\145\163\163\x6f\156\x5f\x6d\141\x72\153\x65\164"; public $table_mcoupon = "\x66\171\137\x6c\145\x73\x73\x6f\x6e\137\155\x63\x6f\165\160\x6f\x6e"; public $table_member = "\x66\171\x5f\x6c\145\x73\163\157\x6e\137\x6d\145\155\142\x65\x72"; public $table_member_bind = "\146\171\x5f\x6c\x65\163\163\157\156\x5f\x6d\x65\155\x62\x65\162\137\142\x69\x6e\x64"; public $table_member_buyteacher = "\x66\171\137\x6c\x65\x73\x73\157\x6e\x5f\x6d\145\155\x62\x65\x72\x5f\x62\165\x79\x74\145\141\143\x68\145\162"; public $table_member_coupon = "\x66\171\x5f\x6c\145\x73\x73\157\x6e\137\155\145\155\x62\145\x72\x5f\x63\157\165\x70\157\x6e"; public $table_member_order = "\146\x79\137\154\145\163\x73\x6f\x6e\137\x6d\x65\x6d\142\x65\x72\137\x6f\162\144\x65\162"; public $table_member_vip = "\146\x79\137\154\x65\x73\x73\157\156\137\x6d\x65\155\x62\x65\x72\137\x76\151\160"; public $table_navigation = "\146\171\x5f\154\145\163\163\157\x6e\137\x6e\x61\x76\x69\147\x61\x74\151\157\x6e"; public $table_order = "\146\171\x5f\x6c\145\163\x73\x6f\156\x5f\157\162\144\x65\x72"; public $table_order_verify = "\146\171\137\x6c\145\x73\163\x6f\156\137\157\162\x64\145\x72\137\x76\x65\x72\151\x66\171"; public $table_lesson_parent = "\x66\171\x5f\154\x65\x73\x73\x6f\156\137\160\x61\162\x65\156\x74"; public $table_playrecord = "\146\171\x5f\154\145\163\x73\157\156\137\160\154\x61\x79\162\x65\x63\157\x72\x64"; public $table_poster = "\x66\171\137\154\145\x73\x73\157\156\137\x70\157\163\x74\x65\162"; public $table_qcloudvod_upload = "\x66\171\137\x6c\x65\x73\163\157\x6e\137\x71\143\x6c\157\165\x64\x76\x6f\x64\137\x75\160\154\157\141\x64"; public $table_qcloud_upload = "\146\171\137\154\x65\163\163\x6f\156\x5f\x71\x63\154\157\165\144\x5f\x75\x70\x6c\x6f\x61\144"; public $table_qiniu_upload = "\x66\171\137\154\145\x73\163\157\156\137\x71\x69\x6e\x69\x75\x5f\165\x70\x6c\157\x61\x64"; public $table_recommend = "\146\171\137\154\145\163\163\157\x6e\x5f\x72\x65\x63\x6f\x6d\155\145\156\144"; public $table_setting = "\x66\x79\137\x6c\x65\163\x73\x6f\156\x5f\x73\x65\164\164\x69\156\x67"; public $table_setting_pc = "\x66\171\x5f\154\145\x73\x73\x6f\156\x5f\163\145\x74\x74\x69\x6e\147\x5f\x70\143"; public $table_signin = "\x66\x79\137\x6c\x65\163\163\157\156\x5f\x73\151\147\x6e\x69\156"; public $table_lesson_son = "\146\171\x5f\154\x65\x73\x73\x6f\156\137\163\157\x6e"; public $table_lesson_title = "\x66\x79\x5f\x6c\x65\163\x73\157\x6e\137\164\151\164\154\145"; public $table_lesson_spec = "\146\x79\137\154\x65\x73\163\x6f\x6e\137\x73\x70\x65\143"; public $table_static = "\x66\171\x5f\154\x65\163\x73\x6f\x6e\x5f\x73\164\x61\x74\x69\143"; public $table_study_duration = "\x66\171\x5f\154\145\x73\x73\157\x6e\137\x73\x74\x75\x64\x79\137\x64\165\162\141\x74\x69\x6f\156"; public $table_subscribe_msg = "\146\x79\x5f\154\145\x73\x73\157\156\x5f\163\165\142\x73\x63\x72\x69\x62\145\x5f\155\x73\x67"; public $table_suggest = "\146\x79\x5f\x6c\145\x73\163\x6f\x6e\x5f\163\x75\x67\x67\x65\163\x74"; public $table_suggest_category = "\146\171\x5f\x6c\145\163\x73\157\156\137\163\165\147\x67\x65\163\164\x5f\x63\141\164\145\147\157\162\171"; public $table_syslog = "\146\171\137\x6c\x65\x73\163\157\156\x5f\x73\171\163\154\157\x67"; public $table_teacher = "\x66\x79\x5f\154\145\x73\163\x6f\x6e\x5f\164\145\141\x63\150\145\162"; public $table_teacher_category = "\x66\x79\x5f\x6c\x65\x73\x73\x6f\x6e\x5f\164\x65\141\143\150\x65\x72\137\143\141\164\x65\147\x6f\x72\171"; public $table_teacher_income = "\x66\x79\137\154\x65\163\x73\157\x6e\137\164\x65\x61\x63\x68\145\162\137\x69\156\143\x6f\155\145"; public $table_teacher_order = "\x66\x79\137\154\x65\x73\x73\x6f\x6e\137\164\x65\141\x63\x68\x65\162\x5f\x6f\162\144\x65\x72"; public $table_teacher_price = "\x66\171\x5f\x6c\145\x73\163\157\156\x5f\164\x65\x61\143\150\145\162\137\160\x72\151\143\x65"; public $table_tplmessage = "\146\x79\x5f\154\145\x73\x73\157\156\x5f\164\x70\x6c\155\145\163\163\x61\x67\145"; public $table_video_category = "\x66\171\137\154\x65\x73\163\x6f\x6e\x5f\x76\151\x64\x65\157\137\x63\x61\164\145\147\157\162\x79"; public $table_vip_level = "\146\x79\x5f\x6c\x65\x73\x73\157\156\x5f\x76\151\160\x5f\154\145\166\145\x6c"; public $table_vipcard = "\146\171\137\x6c\145\x73\x73\x6f\x6e\x5f\x76\x69\160\x63\141\162\x64"; public $table_mc_members = "\x6d\143\137\x6d\x65\x6d\x62\x65\162\163"; public $table_fans = "\155\x63\x5f\x6d\141\x70\x70\x69\156\147\137\x66\141\156\163"; public $table_core_paylog = "\x63\x6f\162\145\137\x70\141\171\x6c\x6f\x67"; public $table_users = "\165\163\x65\x72\x73"; public $table_live_award = "\x66\x79\137\x6c\145\163\163\157\156\137\x70\154\165\147\151\x6e\x5f\154\151\166\x65\x5f\x61\167\x61\x72\x64"; public $table_live_chatrecord = "\x66\171\x5f\x6c\x65\x73\163\157\x6e\x5f\x70\154\165\147\151\x6e\x5f\x6c\x69\166\145\x5f\x63\150\x61\x74\162\145\143\157\162\144"; public $table_live_chatroom = "\x66\171\x5f\154\x65\x73\163\x6f\156\137\160\x6c\x75\147\x69\x6e\137\154\x69\166\x65\x5f\x63\x68\141\164\162\x6f\x6f\x6d"; public $table_live_stream = "\x66\171\137\154\x65\x73\163\157\156\137\x70\x6c\x75\x67\x69\x6e\137\x6c\x69\166\x65\x5f\163\164\162\145\141\155"; public $table_exam_course = "\146\171\x5f\x6c\x65\x73\x73\157\156\x5f\160\154\165\147\x69\156\x5f\x65\170\x61\x6d\x5f\143\157\x75\x72\x73\145"; public $table_exam_examine = "\146\171\x5f\154\145\x73\x73\157\156\x5f\x70\x6c\x75\147\151\x6e\x5f\x65\x78\x61\x6d\137\x65\170\141\x6d\x69\156\145"; public $table_exam_examine_record = "\x66\171\x5f\x6c\x65\163\x73\x6f\x6e\137\160\154\165\x67\151\156\x5f\145\170\x61\x6d\137\x65\170\141\155\x69\x6e\x65\137\162\x65\x63\x6f\162\x64"; public $table_exam_paper = "\x66\x79\x5f\154\x65\x73\x73\157\156\137\x70\154\x75\x67\x69\x6e\137\145\170\x61\155\x5f\x70\141\160\x65\162"; public $table_shop_commission_log = "\146\x79\137\x6c\x65\x73\163\157\x6e\137\160\x6c\x75\x67\x69\x6e\x5f\163\x68\157\160\x5f\x63\x6f\x6d\155\151\x73\163\151\x6f\x6e\x5f\154\157\x67"; public $table_shop_goods = "\x66\171\x5f\154\145\163\x73\157\156\x5f\160\x6c\165\x67\x69\x6e\x5f\x73\150\157\160\137\x67\x6f\157\144\163"; public $table_shop_order = "\146\171\x5f\154\x65\x73\x73\x6f\x6e\137\x70\154\x75\147\x69\x6e\137\163\150\157\160\x5f\157\162\144\145\162"; public $table_shop_order_goods = "\x66\x79\137\x6c\x65\x73\163\157\156\137\x70\x6c\165\147\x69\x6e\137\x73\x68\157\x70\137\157\x72\x64\x65\162\x5f\x67\x6f\x6f\x64\163"; public $table_shop_setting = "\x66\x79\x5f\154\145\163\163\x6f\x6e\x5f\160\154\x75\147\x69\156\137\x73\x68\x6f\160\x5f\163\x65\164\x74\x69\156\147"; public $table_shop_virtual = "\x66\x79\137\x6c\x65\x73\x73\x6f\156\137\160\x6c\x75\147\151\x6e\137\x73\150\157\160\137\x76\151\162\x74\165\141\x6c"; public function getNavigation($template) { goto o4YlG; Co274: if ($navigation["\163\x65\154\146"]) { goto gz7sN; } goto kz80v; RT2j2: cache_write("\146\171\137\x6c\x65\x73\x73\x6f\156\137" . $uniacid . "\137\x6e\x61\166\151\147\141\x74\x69\x6f\156", $navigation); goto VJiOG; fPX1S: foreach ($nav as $v) { goto fiz5B; CzjHr: UN2gG: goto TtX34; QQqZ9: $navigation[$v["\x6e\141\x76\x5f\x69\144\x65\x6e\164"]] = $v; goto CzjHr; VpDFN: $v["\x73\x65\x6c\x65\x63\164\145\x64\x5f\x69\x63\x6f\x6e"] = $_W["\141\164\x74\x61\x63\150\165\x72\x6c"] . $v["\x73\145\154\x65\x63\x74\x65\144\137\151\143\x6f\156"]; goto QQqZ9; fiz5B: $v["\x75\x6e\x73\145\x6c\145\143\164\x65\x64\137\151\143\x6f\156"] = $_W["\141\164\164\x61\143\150\x75\162\x6c"] . $v["\165\x6e\x73\145\x6c\145\x63\164\145\x64\x5f\151\x63\x6f\x6e"]; goto VpDFN; TtX34: } goto eRvaR; YFdvt: if ($navigation["\x69\156\x64\145\170"]) { goto jvrIR; } goto a2t0U; o4YlG: global $_W; goto H9AVn; JVQ5C: return $navigation; goto bbCSW; SsjlV: vfKL7: goto Co274; kz80v: $navigation["\163\145\x6c\146"] = array("\156\141\166\137\x6e\x61\x6d\x65" => "\346\210\221\347\x9a\204", "\165\x6e\163\145\x6c\x65\143\x74\x65\x64\137\151\143\157\156" => MODULE_URL . "\163\164\x61\164\151\143\x2f\155\157\x62\151\x6c\x65\x2f{$template}\x2f\151\155\141\147\x65\163\x2f\151\x63\157\x6e\x2d\146\x6f\x6f\164\x65\x72\x2d\x6d\x79\56\x70\156\x67", "\163\x65\x6c\x65\143\x74\145\144\137\151\143\x6f\x6e" => MODULE_URL . "\x73\x74\x61\164\x69\143\57\155\x6f\142\151\x6c\x65\57{$template}\x2f\151\155\141\x67\x65\163\57\x69\143\x6f\x6e\55\146\x6f\x6f\x74\145\162\x2d\155\x79\x2d\x61\x63\164\151\166\x65\x64\x2e\160\156\x67", "\165\162\x6c\x5f\x6c\x69\x6e\x6b" => $this->redefineUrl($this->createMobileUrl("\x73\145\154\x66", array("\164" => time())))); goto i4wAk; YBePz: if (!empty($navigation)) { goto mgPSK; } goto qBsUm; i4wAk: gz7sN: goto RT2j2; VJiOG: mgPSK: goto JVQ5C; H9AVn: $uniacid = $_W["\x75\x6e\x69\141\x63\x69\144"]; goto ELpYF; a2t0U: $navigation["\151\x6e\144\x65\x78"] = array("\156\141\166\137\156\x61\155\x65" => "\351\xa6\x96\xe9\xa1\xb5", "\165\156\x73\145\x6c\145\x63\164\x65\144\137\151\143\157\156" => MODULE_URL . "\x73\164\141\164\x69\x63\x2f\x6d\157\142\x69\154\x65\57{$template}\x2f\151\x6d\x61\x67\145\163\x2f\x69\143\157\156\55\x66\x6f\157\x74\145\x72\55\x68\157\155\145\x2e\160\x6e\147", "\x73\145\x6c\145\x63\x74\x65\144\x5f\151\143\157\156" => MODULE_URL . "\163\164\141\164\x69\x63\57\155\x6f\x62\151\154\145\57{$template}\57\x69\155\141\147\145\x73\x2f\x69\x63\x6f\x6e\55\x66\x6f\x6f\x74\x65\162\x2d\150\157\155\145\55\x61\x63\x74\151\166\x65\x64\56\x70\x6e\147", "\x75\162\154\x5f\x6c\151\156\x6b" => $this->redefineUrl($this->createMobileUrl("\151\x6e\x64\145\x78", array("\164" => time())))); goto IIjKD; eRvaR: x89KU: goto YFdvt; ELpYF: $navigation = cache_load("\x66\171\x5f\154\145\x73\163\x6f\x6e\x5f" . $uniacid . "\137\156\x61\x76\151\147\x61\164\151\157\156"); goto YBePz; ReWIY: if ($navigation["\163\x65\141\162\143\x68"]) { goto vfKL7; } goto ES3Ad; IIjKD: jvrIR: goto ReWIY; qBsUm: $navigation = []; goto JYnCc; JYnCc: $nav = pdo_fetchall("\x53\x45\x4c\x45\103\124\x20\52\40\106\x52\117\115\40" . tablename($this->table_navigation) . "\x20\127\110\x45\x52\105\x20\x75\156\x69\141\143\151\144\x3d\72\165\x6e\151\141\143\151\x64\x20\101\x4e\x44\40\151\163\137\x70\143\75\72\x69\x73\x5f\x70\x63\40\x41\116\x44\x20\x6c\x6f\143\141\x74\151\157\156\x3d\72\154\x6f\x63\141\164\x69\x6f\x6e\x20\117\122\104\x45\x52\40\102\131\40\x64\x69\163\160\154\x61\171\157\162\144\x65\162\40\101\123\x43", array("\72\x75\156\151\x61\143\151\144" => $uniacid, "\72\151\x73\137\x70\143" => 0, "\x3a\x6c\157\x63\x61\164\151\x6f\156" => 1)); goto fPX1S; ES3Ad: $navigation["\163\x65\141\x72\143\x68"] = array("\x6e\141\x76\x5f\x6e\x61\155\145" => "\350\xaf\xbe\xe7\xa8\213", "\165\156\163\x65\154\145\143\x74\145\x64\137\151\x63\157\156" => MODULE_URL . "\163\x74\141\164\151\143\x2f\155\x6f\x62\x69\154\x65\x2f{$template}\57\x69\x6d\x61\x67\x65\x73\x2f\151\x63\157\x6e\x2d\x66\157\x6f\164\x65\x72\55\x73\145\x61\x72\143\x68\56\160\x6e\147", "\163\145\154\x65\x63\x74\145\144\137\x69\143\x6f\x6e" => MODULE_URL . "\x73\164\x61\x74\151\143\57\x6d\157\x62\x69\154\145\x2f{$template}\57\x69\x6d\x61\147\x65\x73\x2f\151\143\x6f\x6e\55\x66\157\x6f\x74\x65\162\55\x73\145\x61\x72\x63\150\55\141\143\x74\151\166\x65\x64\56\160\x6e\x67", "\x75\x72\154\137\154\x69\156\x6b" => $this->redefineUrl($this->createMobileUrl("\x73\x65\x61\x72\143\x68", array("\x74" => time())))); goto SsjlV; bbCSW: } public function setFooter($navigation) { goto DnbHw; VU3l0: if (!($com_do == $diynav_do && $com_op == $diynav_op)) { goto jEfFb; } goto O0kDC; O0kDC: $foot_params["\144\151\171\x6e\141\x76"] = true; goto CGbmh; zA_Ka: if (!$navigation["\163\x65\154\146"]["\165\162\154\x5f\154\151\x6e\x6b"]) { goto hd19j; } goto pT2K7; UdA_Q: parse_str(@array_pop(explode("\77", $navigation["\x6d\171\154\x65\x73\x73\157\156"]["\x75\x72\x6c\137\154\x69\x6e\153"])), $lesson_params); goto Ss1gU; D2yWM: $index_op = $index_params["\157\x70"] ? $index_params["\x6f\x70"] : "\144\151\x73\x70\154\x61\171"; goto tlHIU; Vmwl5: if (!($com_do == $self_do && $com_op == $self_op)) { goto ltsxu; } goto o1WXr; L45wg: $foot_params["\x6d\x79\x6c\x65\x73\163\x6f\156"] = true; goto uMx_s; kUJSI: if (!$navigation["\x6d\x79\x6c\145\x73\x73\x6f\156"]["\x75\x72\154\x5f\x6c\x69\156\x6b"]) { goto lXGjT; } goto UdA_Q; ImlGB: parse_str(@array_pop(explode("\x3f", $_W["\x73\x69\x74\x65\165\x72\154"])), $params); goto AlOEF; Stg9m: $com_op = $params["\157\x70"] ? $params["\157\x70"] : "\144\151\x73\160\x6c\x61\x79"; goto Y93Go; bVerz: $search_op = $search_params["\157\x70"] ? $search_params["\x6f\160"] : "\144\x69\x73\160\x6c\141\x79"; goto xIAc3; he2CW: if (!$navigation["\x73\145\141\x72\x63\x68"]["\x75\x72\x6c\137\154\151\x6e\x6b"]) { goto MM5hf; } goto tYkHT; Y93Go: $foot_params = array(); goto XMn3z; DnbHw: global $_W, $_GPC; goto ImlGB; pT2K7: parse_str(@array_pop(explode("\77", $navigation["\163\145\x6c\x66"]["\x75\x72\154\137\154\151\x6e\x6b"])), $self_params); goto SYwH2; mzeNI: $diynav_op = $diynav_params["\x6f\160"] ? $diynav_params["\x6f\160"] : "\x64\x69\x73\x70\x6c\x61\x79"; goto VU3l0; o1WXr: $foot_params["\x73\x65\154\146"] = true; goto vehRN; Pf4mz: $search_do = $search_params["\144\x6f"]; goto bVerz; SYwH2: $self_do = $self_params["\x64\157"]; goto V0jGz; OifIj: return $foot_params; goto bnOoA; HmDXo: uM5RX: goto he2CW; ZETt0: if (!($com_do == $lesson_do && $com_op == $lesson_op)) { goto z7Ua0; } goto L45wg; CGbmh: jEfFb: goto T82bP; sdlib: MrBdl: goto SSr4p; xIAc3: if (!($com_do == $search_do && $com_op == $search_op)) { goto MrBdl; } goto WxzWn; Am2Of: lXGjT: goto zA_Ka; XMn3z: if (!$navigation["\x69\x6e\144\x65\x78"]["\x75\162\x6c\137\154\x69\156\153"]) { goto uM5RX; } goto ghWXs; T82bP: NPkge: goto kUJSI; kiZAC: hd19j: goto OifIj; uMx_s: z7Ua0: goto Am2Of; AlOEF: $com_do = $params["\x64\157"] ? $params["\144\x6f"] : $_GPC["\x64\157"]; goto Stg9m; tlHIU: if (!($com_do == $index_do && $com_op == $index_op)) { goto IVHix; } goto VhZtc; EsbPN: parse_str(@array_pop(explode("\x3f", $navigation["\144\x69\x79\156\141\166"]["\x75\162\x6c\x5f\154\151\x6e\x6b"])), $diynav_params); goto IDO6F; VhZtc: $foot_params["\151\156\144\x65\x78"] = true; goto bVJhU; WxzWn: $foot_params["\x73\x65\x61\162\x63\x68"] = true; goto sdlib; nAeDS: $lesson_op = $lesson_params["\157\x70"] ? $lesson_params["\x6f\x70"] : "\x64\x69\163\x70\154\x61\171"; goto ZETt0; tYkHT: parse_str(@array_pop(explode("\x3f", $navigation["\163\145\141\162\x63\150"]["\x75\162\154\x5f\x6c\x69\156\x6b"])), $search_params); goto Pf4mz; V0jGz: $self_op = $self_params["\x6f\x70"] ? $self_params["\157\x70"] : "\x64\x69\x73\160\154\141\171"; goto Vmwl5; Ss1gU: $lesson_do = $lesson_params["\144\157"]; goto nAeDS; ghWXs: parse_str(@array_pop(explode("\77", $navigation["\x69\156\x64\x65\x78"]["\x75\x72\x6c\137\154\x69\x6e\x6b"])), $index_params); goto XZNIQ; SSr4p: MM5hf: goto YXouF; IDO6F: $diynav_do = $diynav_params["\x64\157"]; goto mzeNI; YXouF: if (!$navigation["\144\x69\171\x6e\x61\166"]["\x75\x72\154\137\x6c\x69\x6e\x6b"]) { goto NPkge; } goto EsbPN; bVJhU: IVHix: goto HmDXo; XZNIQ: $index_do = $index_params["\x64\157"]; goto D2yWM; vehRN: ltsxu: goto kiZAC; bnOoA: } public function getRightBarMenu() { goto GgZ1K; pkh3f: $right_menu = cache_load("\x66\171\137\x6c\x65\x73\x73\157\156\137" . $uniacid . "\137\x6e\x61\166\x69\x67\141\164\151\157\x6e\137\x72\151\147\150\x74\102\141\x72"); goto PAKBM; Ykgzf: cache_write("\146\171\x5f\154\145\163\163\x6f\156\x5f" . $uniacid . "\x5f\x6e\141\166\x69\147\141\x74\151\157\156\x5f\162\x69\147\150\164\x42\x61\162", $right_menu); goto xkOOL; j_saF: $right_menu = pdo_fetchall("\123\105\114\105\x43\x54\x20\52\x20\x46\x52\117\x4d\x20" . tablename($this->table_navigation) . "\40\127\x48\105\x52\x45\40\165\156\x69\141\x63\x69\144\75\72\x75\x6e\151\x61\x63\x69\x64\x20\x41\116\104\40\x69\x73\x5f\160\x63\75\72\151\x73\137\x70\143\40\101\116\x44\x20\x6c\157\x63\141\164\x69\157\x6e\x3d\72\x6c\x6f\143\x61\164\151\157\x6e\x20\117\x52\x44\x45\x52\x20\102\131\40\x64\x69\163\160\154\141\x79\157\162\144\145\162\40\104\x45\123\103\x2c\x20\156\141\166\x5f\151\144\40\104\x45\x53\x43", array("\x3a\165\156\x69\x61\143\151\144" => $uniacid, "\72\151\x73\137\x70\143" => 0, "\72\x6c\157\143\141\x74\151\157\156" => 5)); goto Ykgzf; GgZ1K: global $_W; goto Rl1Zo; xkOOL: HIFka: goto ScMa3; ScMa3: return $right_menu; goto QmocN; Rl1Zo: $uniacid = $_W["\x75\156\151\141\143\x69\144"]; goto pkh3f; PAKBM: if (!empty($right_menu)) { goto HIFka; } goto j_saF; QmocN: } public function getSelfMenu() { goto ur43P; iblPu: $right_menu = pdo_fetchall("\123\x45\114\x45\103\124\40\52\x20\x46\x52\x4f\115\40" . tablename($this->table_navigation) . "\40\x57\x48\105\122\105\40\165\x6e\x69\141\143\x69\x64\75\72\x75\156\x69\141\x63\151\x64\40\x41\116\104\40\151\x73\x5f\x70\x63\75\72\x69\163\x5f\160\x63\40\x41\x4e\104\40\154\157\x63\141\164\151\157\156\75\x3a\x6c\x6f\x63\141\164\x69\x6f\x6e\40\117\122\104\105\122\40\102\x59\x20\144\151\163\160\154\141\171\x6f\162\x64\x65\162\40\104\x45\x53\103\54\x20\x6e\141\166\x5f\x69\144\40\x44\105\123\103", array("\72\165\156\151\x61\x63\151\x64" => $uniacid, "\x3a\151\x73\137\160\x63" => 0, "\72\x6c\x6f\143\x61\164\x69\x6f\x6e" => 3)); goto gvRv0; obaKe: return $right_menu; goto RhIw6; jD0Ux: $uniacid = $_W["\165\x6e\x69\x61\143\151\x64"]; goto OoStg; ur43P: global $_W; goto jD0Ux; OoStg: $right_menu = cache_load("\x66\171\x5f\154\145\163\163\157\x6e\x5f" . $uniacid . "\x5f\x6e\x61\166\151\x67\141\x74\x69\x6f\x6e\x5f\x73\145\154\x66"); goto L6wgw; L6wgw: if (!empty($right_menu)) { goto uV1i2; } goto iblPu; H6HAM: uV1i2: goto obaKe; gvRv0: cache_write("\146\x79\137\154\x65\163\163\x6f\156\137" . $uniacid . "\x5f\156\141\x76\151\x67\x61\x74\151\157\156\137\x73\145\154\x66", $right_menu); goto H6HAM; RhIw6: } public function getLessonAttribute($type = '') { goto SURjX; ejxuw: $attribute = pdo_fetchall("\x53\105\114\x45\x43\x54\40\52\x20\x46\122\x4f\x4d\x20" . tablename($this->table_attribute) . "\x20\127\110\105\122\105\x20\x75\x6e\x69\141\x63\151\144\75\x3a\165\x6e\151\141\x63\x69\144\40\x41\x4e\104\x20\x61\x74\x74\162\137\x74\x79\160\x65\75\x3a\141\x74\164\x72\137\164\x79\160\145\x20\117\122\x44\x45\122\40\x42\131\x20\144\151\x73\160\x6c\x61\x79\157\x72\144\145\162\40\x44\105\x53\103", array("\72\165\156\151\141\x63\x69\144" => $uniacid, "\72\x61\164\x74\x72\137\x74\171\x70\x65" => "\141\164\164\x72\x69\142\x75\164\145\x31")); goto k2D7Y; n1V6e: goto j2kjh; goto KDsxz; ypGgJ: if (!empty($attribute)) { goto BRxgA; } goto ejxuw; NNQB9: return $attribute; goto LyCzp; KDsxz: krw16: goto K_30B; SURjX: global $_W; goto CLE2t; Reb3t: if (!empty($attribute)) { goto w0TgO; } goto XqwvP; k2D7Y: cache_write("\x66\171\137\154\x65\163\x73\157\156\x5f" . $uniacid . "\137\141\164\164\162\151\142\x75\164\x65\x31", $attribute); goto r8hWs; Xy_td: cache_write("\146\171\x5f\154\x65\x73\163\x6f\156\x5f" . $uniacid . "\137\141\x74\x74\x72\x69\142\165\x74\145\62", $attribute); goto LpZ8v; LpZ8v: w0TgO: goto kc1Dg; E6w1a: if ($type == 2) { goto KkNiI; } goto SJfWK; RupEu: $attribute = cache_load("\146\171\137\154\x65\163\x73\x6f\x6e\x5f" . $uniacid . "\137\x61\x74\x74\162\151\x62\165\x74\x65\x32"); goto Reb3t; VK6Au: KkNiI: goto RupEu; XqwvP: $attribute = pdo_fetchall("\x53\x45\x4c\x45\103\124\40\x2a\x20\x46\122\x4f\115\x20" . tablename($this->table_attribute) . "\40\127\x48\x45\122\105\x20\x75\156\151\x61\x63\x69\144\75\x3a\165\156\x69\x61\143\x69\x64\x20\x41\x4e\104\40\x61\164\164\162\x5f\x74\x79\160\145\x3d\72\141\x74\164\x72\137\164\x79\160\x65\x20\117\x52\104\105\122\40\x42\131\40\144\151\x73\x70\x6c\x61\171\157\162\144\x65\162\40\104\x45\x53\x43", array("\72\165\x6e\151\x61\143\151\144" => $uniacid, "\72\x61\x74\x74\x72\137\164\x79\x70\x65" => "\x61\164\164\x72\x69\x62\165\x74\x65\x32")); goto Xy_td; lYRyB: goto j2kjh; goto VK6Au; K_30B: $attribute = cache_load("\x66\x79\x5f\154\145\x73\163\157\156\x5f" . $uniacid . "\137\141\x74\164\x72\x69\142\x75\164\145\x31"); goto ypGgJ; r8hWs: BRxgA: goto lYRyB; CLE2t: $uniacid = $_W["\x75\x6e\151\141\x63\x69\x64"]; goto tRD5Q; tRD5Q: if ($type == 1) { goto krw16; } goto E6w1a; kc1Dg: j2kjh: goto NNQB9; SJfWK: return; goto n1V6e; LyCzp: } public function redefineUrl($url) { $new_url = str_replace("\x26\x6d\x3d", '', $url); return $new_url . "\46\155\x3d\146\171\x5f\154\145\163\x73\x6f\x6e\x76\62"; } public function getDiyTemplate($id = '', $page_type = 1) { goto J3XQc; rL4vr: if (!empty($diy_tpl)) { goto UCTLp; } goto ABXJU; WCr1A: if (!empty($diy_data)) { goto hj1K7; } goto aLIfv; Ev7Ge: return $diy_data; goto lddU3; lFOX0: if (!empty($diy_data)) { goto ydfzD; } goto XmbUR; BZV8R: $validity = $diy_data["\165\x70\x64\x61\x74\145"]["\166\x61\x6c\x69\x64\x69\x74\x79"]; goto RGvLv; Ez8Ia: return $diy_data; goto ftQTe; nbdVo: IYcId: goto m7sDk; lddU3: LM_JK: goto uNHdx; siKJ2: $validity = $diy_data["\x75\x70\x64\141\164\x65"]["\x76\141\x6c\151\144\x69\x74\x79"]; goto UGVY7; ZbfrC: unm2o: goto wJcin; u5ass: mpMfn: goto Ez8Ia; DbehD: $uniacid = $_W["\x75\x6e\x69\x61\143\151\144"]; goto vXSpr; uNHdx: blrDe: goto we6dy; v6Ff3: goto YdYax; goto zlUDe; IQ2Qq: return; goto jTR6x; Ncx2Y: if ($page_type == 2) { goto WyyiG; } goto DmODA; Ztkcx: goto mpMfn; goto UpR5H; vJl3c: hj1K7: goto Ev7Ge; wIsif: goto mpMfn; goto azjIn; h_poJ: if ($page_type == 3) { goto ElZ1J; } goto wIsif; Ouxp4: cache_write("\146\171\x5f\154\x65\163\163\x6f\x6e\x5f" . $uniacid . "\137\144\151\171\137\164\x65\x6d\160\154\141\x74\145\137" . $id, $diy_data); goto p1Png; teGb8: goto blrDe; goto DdoqX; m7sDk: if (!empty($diy_data)) { goto MjuOV; } goto IQ2Qq; I4Jga: F7iqw: goto Vkesm; m6mAs: HJHxq: goto X3rtP; zlUDe: UCTLp: goto RPCC1; jTR6x: MjuOV: goto PLKxz; vXSpr: if ($page_type == 1) { goto hT7dR; } goto Ncx2Y; d9tgQ: $diy_data = cache_load("\146\171\x5f\154\x65\x73\163\157\156\x5f" . $uniacid . "\137\x64\x69\x79\137\163\145\154\146\x5f\164\145\x6d\160\154\x61\164\145"); goto WCr1A; MSL5V: gOtV7: goto d9tgQ; Ibvu7: return $diy_data; goto I4Jga; FMTg0: ydfzD: goto X0Ppq; xbyAi: xyUFe: goto bK_jV; n4MCD: $diy_data = json_decode($diy_tpl["\144\141\164\x61"], true); goto nbdVo; PLKxz: goto F7iqw; goto VJvb9; uCbYb: cache_write("\146\x79\x5f\x6c\145\163\163\x6f\156\x5f" . $uniacid . "\x5f\x64\x69\x79\137\163\x65\154\146\x5f\x74\145\155\160\x6c\141\164\145", $diy_data); goto u5ass; we6dy: foreach ($diy_data as $k => $v) { goto DSeHp; fMnO9: EZDqv: goto PZVvL; ok_m0: tqHEl: goto l4xVy; LIowK: ETq4j: goto T_N61; AJdbV: goto Nd19_; goto ok_m0; KYlaT: RXEvY: goto oUwL_; DSeHp: if (!($v["\x6e\141\155\x65"] == "\163\167\151\160\145\162")) { goto Qw2px; } goto rmOPR; OiU1E: cache_write("\146\171\x5f\154\x65\x73\x73\x6f\x6e\x5f" . $uniacid . "\x5f\x69\x6e\144\145\x78\x5f\x62\x61\156\x6e\x65\162", $banner); goto fMnO9; OGuMT: foreach ($v["\144\x61\164\x61"] as $k1 => $v1) { goto wsTPQ; tDSg6: $v1["\x74\x65\x61\143\150\x65\162"] = pdo_get($this->table_teacher, array("\x69\x64" => $v1["\164\145\x61\x63\x68\145\x72\151\144"]), array("\164\x65\x61\x63\x68\x65\x72")); goto TJQOR; uXmMD: $v1["\x69\x63\x6f\156\137\x6c\x69\166\145\x5f\x73\164\141\x74\x75\163"] = "\151\x63\x6f\156\55\x6c\151\x76\x65\55\156\157\163\x74\x61\162\x74"; goto IAr54; q1Woz: $v1["\x69\x63\x6f\137\x6e\141\x6d\x65"] = "\151\143\x6f\x2d\144\x69\163\143\x6f\165\156\x74"; goto yOmTm; IAr54: goto hjU58; goto iqjuT; MsIdm: if (time() > $starttime && time() < $endtime) { goto tBUl6; } goto rEz4b; amNw8: $endtime = strtotime($live_info["\x65\x6e\144\x74\151\x6d\x65"]); goto XHKui; dJfhW: $v1["\151\x63\x6f\x6e\x5f\x6c\x69\166\x65\137\x73\164\141\x74\x75\163"] = "\x69\x63\157\156\55\154\151\x76\145\55\145\156\144\145\x64"; goto asmtJ; e1DvK: BEL6K: goto BCn3q; gJTGk: sFUpD: goto g97bM; iGEsz: goto Cg0TP; goto Euk_S; xT26Y: ZOsey: goto uXmMD; U2N0w: $v["\144\141\x74\x61"][$k1] = $v1; goto k_XmJ; XHKui: if (time() < $starttime) { goto ZOsey; } goto PpGJN; E9UIb: $v1["\x73\164\x75\x64\x79\x5f\x6e\x75\155\x62\145\x72"] = $v1["\x62\165\x79\x6e\x75\x6d"] + $v1["\x76\x69\x72\x74\x75\x61\x6c\x5f\142\165\x79\x6e\165\x6d"] + $v1["\166\x69\160\137\156\x75\x6d\x62\145\x72"] + $v1["\x74\x65\141\x63\150\145\x72\137\x6e\x75\x6d\142\145\x72"]; goto e1DvK; mFkkD: unset($v1["\x63\x6f\165\156\x74"]); goto i8ODg; Z6T7O: $v1["\151\143\157\137\156\x61\155\145"] = "\x69\143\x6f\55\141\160\x70\157\151\156\164\145\144"; goto gJTGk; n83F9: $buynow_info = json_decode($v1["\x62\165\171\x6e\x6f\167\137\151\x6e\146\x6f"], true); goto PMVKj; p8uqL: $v1["\x73\164\x75\144\x79\137\156\x75\155\x62\x65\162"] = $v1["\x62\x75\171\156\165\x6d"] + $v1["\166\x69\x72\x74\165\141\x6c\137\142\165\x79\x6e\x75\155"] + $v1["\x76\x69\x70\x5f\156\165\155\x62\145\162"] + $v1["\x74\x65\141\x63\x68\x65\x72\137\156\165\x6d\x62\x65\162"] + $v1["\166\151\x73\x69\x74\137\x6e\165\155\142\x65\162"]; goto IwAYR; nGAob: $v1["\x76\x69\160\x76\151\x65\167"] = json_decode($v1["\x76\x69\160\166\151\145\x77"], true); goto d3bi9; rEz4b: goto hjU58; goto xT26Y; luMF6: $v1["\151\143\x6f\x6e\x5f\154\x69\x76\145\x5f\x73\x74\x61\164\165\163"] = "\x69\x63\157\156\55\154\151\x76\145\55\x73\x74\x61\x72\164\x69\x6e\x67"; goto GhVm1; iqjuT: hU8WI: goto dJfhW; nfSNu: $starttime = strtotime($live_info["\x73\x74\141\x72\164\x74\x69\x6d\145"]); goto amNw8; bo1pr: if ($v1["\x6c\x65\163\163\x6f\x6e\x5f\164\171\160\145"] == 3) { goto ZEk8p; } goto iGEsz; PMVKj: if (!($buynow_info["\141\160\160\157\151\156\164\137\166\x61\x6c\151\x64\x69\x74\171"] && time() > strtotime($buynow_info["\x61\x70\160\x6f\151\156\x74\x5f\166\141\x6c\151\144\x69\164\171"]))) { goto sFUpD; } goto Z6T7O; yOmTm: FZZeO: goto y3kn6; xUPyO: if (!empty($v1)) { goto WMVZg; } goto GKL65; IwAYR: goto BEL6K; goto To8my; zwfjv: ZEk8p: goto wIOx5; oylFw: if (!($v1["\x64\151\x73\x63\x6f\165\156\x74"] < 1 && !$v1["\x69\x63\157\x5f\156\x61\x6d\x65"])) { goto FZZeO; } goto q1Woz; GhVm1: hjU58: goto mFkkD; To8my: AJKMh: goto E9UIb; SgMuh: goto nEk20; goto GXMZv; w9Ce2: $v1["\x70\162\x69\143\145"] = round($v1["\160\x72\x69\143\145"] * $v1["\144\151\x73\143\157\165\x6e\164"], 2); goto oylFw; NYmJR: if ($v1["\160\162\x69\x63\145"] > 0) { goto AJKMh; } goto p8uqL; y3kn6: $v1["\x73\x65\143\x74\151\x6f\156"] = pdo_fetch("\123\105\x4c\105\x43\x54\x20\164\x69\x74\x6c\145\40\106\x52\117\115\40" . tablename($this->table_lesson_son) . "\x20\127\x48\105\x52\x45\x20\160\141\162\145\156\x74\x69\x64\x3d\72\160\x61\162\x65\x6e\164\x69\x64\x20\117\x52\x44\x45\122\40\x42\131\40\x69\144\40\104\x45\x53\103\x20\114\x49\x4d\x49\124\40\60\x2c\x31", array("\72\160\x61\x72\x65\x6e\x74\x69\x64" => $v1["\x69\144"])); goto tDSg6; TJQOR: if ($v1["\x6c\145\163\163\157\156\x5f\x74\x79\x70\x65"] == 1) { goto wpXDZ; } goto bo1pr; PpGJN: if (time() > $endtime) { goto hU8WI; } goto MsIdm; Euk_S: wpXDZ: goto n83F9; osyiD: $v1["\x63\157\x75\x6e\164"] = pdo_fetchcolumn("\x53\105\114\x45\103\124\40\x43\117\125\x4e\x54\x28\52\51\40\x46\x52\117\x4d\40" . tablename($this->table_lesson_son) . "\40\x57\110\x45\x52\105\x20\160\x61\x72\145\x6e\164\x69\144\x3d\x3a\x70\x61\162\x65\156\x74\x69\144\40\x41\116\104\x20\163\164\141\164\165\x73\75\x3a\163\164\141\164\165\163\40", array("\x3a\x70\141\x72\x65\x6e\x74\x69\x64" => $v1["\151\144"], "\72\163\164\141\x74\165\163" => 1)); goto nGAob; wsTPQ: $v1 = pdo_get($this->table_lesson_parent, array("\x75\x6e\x69\141\143\151\144" => $uniacid, "\x69\144" => $v1["\x6c\145\163\163\157\156\x69\x64"], "\163\164\141\x74\x75\163" => 1)); goto xUPyO; g97bM: goto Cg0TP; goto zwfjv; RYuju: j24GI: goto NYmJR; MeT_V: $v1["\x69\x63\157\x5f\156\141\155\145"] = "\x69\143\157\x2d\166\151\160"; goto RYuju; k_XmJ: nEk20: goto ykFLC; d3bi9: if (!($v1["\x69\143\157\137\156\x61\x6d\145"] == "\151\143\x6f\x2d\166\x69\160" && $v1["\x76\x69\x70\166\x69\x65\x77"])) { goto j24GI; } goto MeT_V; asmtJ: goto hjU58; goto twTZl; wIOx5: $live_info = json_decode($v1["\x6c\151\x76\x65\x5f\151\156\146\157"], true); goto nfSNu; i8ODg: Cg0TP: goto U2N0w; GKL65: unset($v["\x64\141\x74\141"][$k1]); goto SgMuh; GXMZv: WMVZg: goto osyiD; BCn3q: $v1["\x64\x69\163\x63\157\x75\x6e\x74"] = $this->getLessonDiscount($v1["\151\x64"]); goto w9Ce2; twTZl: tBUl6: goto luMF6; ykFLC: } goto xe2qX; pydQE: K4mtU: goto yQCNL; jW436: $diy_data[$k]["\164\x70\x6c\x5f\156\x61\155\x65"] = random(10); goto HpEgt; lHFdL: if (!($v["\x6e\x61\155\145"] == "\x72\x65\143\x6c\145\x73\x73\x6f\x6e")) { goto RXEvY; } goto gcbNF; oUwL_: if ($v["\x6e\141\155\x65"] == "\146\157\x6f\164\x6e\141\166") { goto rIXyN; } goto jW436; O6SCB: $rec_condition = "\40\x75\156\151\141\143\x69\x64\75\x3a\x75\156\x69\x61\143\151\x64\40\101\x4e\104\x20\x73\x74\x61\x74\x75\163\75\72\163\164\141\x74\x75\x73\x20"; goto TuzVt; l4xVy: $member_vip = pdo_fetch("\x53\x45\x4c\x45\103\124\40\154\145\x76\x65\154\x5f\x69\x64\x20\106\x52\x4f\115\40" . tablename($this->table_member_vip) . "\40\x57\x48\105\122\x45\40\x75\156\x69\141\x63\151\144\75\72\x75\x6e\x69\x61\143\151\144\x20\x41\x4e\104\x20\165\x69\x64\75\72\165\151\144\x20\x41\116\x44\x20\x76\x61\x6c\x69\144\151\164\171\x3e\x3a\166\x61\x6c\151\x64\151\164\171\40\x4c\111\x4d\x49\x54\40\61", array("\x3a\x75\x6e\151\x61\143\151\x64" => $uniacid, "\x3a\165\151\x64" => $uid, "\x3a\166\141\x6c\x69\x64\151\x74\x79" => time())); goto u2ZkR; jXkXp: if ($uid) { goto tqHEl; } goto fxmyn; HuI2v: $limit = intval($v["\163\x74\171\x6c\x65"]["\x73\150\x6f\167\x5f\x6e\x75\x6d\x62\x65\162"]) ? intval($v["\163\x74\x79\x6c\145"]["\163\150\157\x77\x5f\156\x75\x6d\x62\145\162"]) : 6; goto JXVu4; rtdUO: HXAHb: goto KUUZj; gIRRE: if (!empty($banner)) { goto EZDqv; } goto kI_4I; HpEgt: goto r94TN; goto kxLfu; LD_I4: foreach ($lesson_list as $k1 => $v1) { goto JDn3f; LoeG3: if ($v1["\160\162\x69\x63\145"] > 0) { goto oy7AF; } goto hqQyF; MsXjU: if (!($buynow_info["\x61\160\160\157\151\x6e\x74\137\166\x61\x6c\x69\144\151\x74\171"] && time() > strtotime($buynow_info["\x61\160\x70\157\151\156\164\137\166\141\x6c\x69\x64\x69\164\171"]))) { goto YbUwx; } goto HvEti; NHeGm: goto aNgTd; goto Ln3mm; qTT6P: $v1["\166\x69\160\166\151\x65\x77"] = json_decode($v1["\x76\151\160\x76\x69\x65\167"], true); goto RZCnE; wZw22: $v1["\164\145\x61\x63\x68\x65\x72"] = pdo_get($this->table_teacher, array("\x69\144" => $v1["\164\x65\141\x63\150\x65\162\x69\144"]), array("\x74\x65\141\143\150\145\x72")); goto Ygeqs; JDn3f: $v1["\x63\x6f\x75\x6e\x74"] = pdo_fetchcolumn("\x53\105\114\105\x43\124\40\103\117\125\x4e\x54\x28\52\51\x20\x46\122\117\115\x20" . tablename($this->table_lesson_son) . "\x20\x57\x48\105\x52\x45\40\x70\141\162\x65\x6e\x74\x69\x64\x3d\x3a\x70\141\162\145\x6e\164\151\x64\40\x41\116\104\40\x73\x74\x61\164\165\x73\75\72\163\164\141\164\x75\163\40", array("\x3a\160\141\x72\145\156\x74\151\x64" => $v1["\151\144"], "\x3a\x73\x74\141\164\x75\x73" => 1)); goto qTT6P; AxPAA: oy7AF: goto PA5Kg; h4RSj: $v1["\151\x63\x6f\156\137\x6c\x69\x76\145\x5f\x73\164\141\x74\x75\163"] = "\x69\143\x6f\x6e\55\x6c\x69\x76\145\x2d\x65\156\144\145\x64"; goto BXcn2; l_XO8: goto nIKdW; goto AxPAA; QG9iX: YbUwx: goto dnkUu; O832W: $endtime = strtotime($live_info["\x65\x6e\144\164\151\155\145"]); goto vbOk7; glPt0: wnPUJ: goto VzhkA; GZ8mX: $v1["\151\x63\157\x6e\137\x6c\151\166\x65\x5f\x73\x74\x61\x74\165\163"] = "\151\143\157\156\x2d\x6c\x69\166\x65\55\156\157\x73\164\x61\162\164"; goto qHjtw; i1j3i: aNgTd: goto HW1L7; QhPyd: $v1["\151\x63\157\137\156\141\x6d\x65"] = "\x69\143\x6f\55\x64\x69\163\143\157\165\156\x74"; goto glPt0; hqQyF: $v1["\x73\x74\x75\x64\x79\x5f\156\165\x6d\x62\x65\x72"] = $v1["\x62\x75\171\x6e\165\x6d"] + $v1["\x76\x69\x72\164\165\x61\x6c\137\142\165\171\x6e\165\x6d"] + $v1["\x76\151\160\137\156\x75\155\x62\x65\x72"] + $v1["\164\145\141\x63\x68\145\162\137\x6e\x75\155\142\x65\x72"] + $v1["\x76\x69\x73\151\x74\137\x6e\x75\155\142\x65\x72"]; goto l_XO8; lN7SI: $v1["\160\x72\x69\x63\x65"] = round($v1["\160\162\151\x63\145"] * $v1["\144\x69\163\x63\x6f\165\156\164"], 2); goto yzlHh; VzhkA: $v1["\163\145\143\x74\x69\157\x6e"] = pdo_fetch("\x53\105\x4c\105\x43\x54\40\164\x69\164\x6c\x65\40\x46\122\x4f\x4d\40" . tablename($this->table_lesson_son) . "\40\x57\x48\x45\x52\105\x20\x70\141\x72\x65\156\x74\151\144\75\72\160\141\162\145\x6e\164\x69\x64\x20\x4f\122\104\105\122\40\x42\x59\x20\151\x64\40\x44\105\x53\103\x20\114\111\x4d\x49\x54\40\60\54\x31", array("\72\x70\x61\x72\145\x6e\164\151\x64" => $v1["\x69\x64"])); goto wZw22; aqrzX: nJKTH: goto h4RSj; UHe4O: Le6S1: goto eBfH9; dnkUu: goto Le6S1; goto U94of; qHjtw: goto aNgTd; goto aqrzX; Amyt4: $v1["\x69\x63\157\137\156\141\x6d\x65"] = "\x69\x63\157\x2d\166\151\160"; goto svpUs; tJF4M: $live_info = json_decode($v1["\x6c\x69\166\145\137\x69\156\146\157"], true); goto l0GWF; vbOk7: if (time() < $starttime) { goto HnwlK; } goto OvkAe; Ygeqs: if ($v1["\x6c\145\163\x73\157\x6e\137\x74\x79\160\145"] == 1) { goto oSutB; } goto GK5M5; U94of: BQ3FX: goto tJF4M; F8mUv: $v1["\144\x69\x73\x63\157\x75\x6e\x74"] = $this->getLessonDiscount($v1["\151\x64"]); goto lN7SI; yzlHh: if (!($v1["\x64\x69\x73\x63\x6f\165\x6e\x74"] < 1 && !$v1["\151\x63\157\x5f\x6e\x61\x6d\145"])) { goto wnPUJ; } goto QhPyd; bhArH: if (time() > $starttime && time() < $endtime) { goto SdbOb; } goto NHeGm; MeStM: nIKdW: goto F8mUv; xcMS3: SdbOb: goto bMIP6; l0GWF: $starttime = strtotime($live_info["\x73\164\x61\162\x74\x74\x69\x6d\x65"]); goto O832W; PA5Kg: $v1["\x73\164\165\x64\x79\137\x6e\x75\155\x62\145\162"] = $v1["\142\165\171\x6e\x75\x6d"] + $v1["\x76\x69\162\x74\165\x61\x6c\137\142\x75\x79\156\x75\155"] + $v1["\166\x69\160\x5f\156\x75\155\142\x65\x72"] + $v1["\x74\145\141\143\x68\145\x72\137\x6e\x75\x6d\x62\x65\x72"]; goto MeStM; BXcn2: goto aNgTd; goto xcMS3; CE0iX: l9c41: goto ruNoF; svpUs: zEbqy: goto LoeG3; Ln3mm: HnwlK: goto GZ8mX; HW1L7: unset($v1["\x63\x6f\165\156\x74"]); goto UHe4O; OvkAe: if (time() > $endtime) { goto nJKTH; } goto bhArH; GK5M5: if ($v1["\154\145\x73\163\x6f\156\137\164\171\x70\145"] == 3) { goto BQ3FX; } goto J2dRJ; RZCnE: if (!($v1["\x69\143\157\x5f\x6e\x61\x6d\x65"] == "\151\x63\157\55\x76\151\x70" && $v1["\166\151\x70\x76\x69\x65\x77"])) { goto zEbqy; } goto Amyt4; S2IJr: $buynow_info = json_decode($v1["\142\x75\x79\x6e\157\167\x5f\151\x6e\x66\157"], true); goto MsXjU; HvEti: $v1["\x69\x63\157\137\x6e\x61\155\x65"] = "\x69\143\157\x2d\141\x70\160\157\151\x6e\164\145\x64"; goto QG9iX; eBfH9: $v["\x64\141\164\x61"][$k1] = $v1; goto CE0iX; bMIP6: $v1["\x69\x63\157\x6e\x5f\154\151\166\x65\137\163\x74\x61\164\165\x73"] = "\151\143\x6f\x6e\x2d\154\151\x76\145\55\x73\x74\141\x72\x74\151\156\x67"; goto i1j3i; J2dRJ: goto Le6S1; goto g1K2i; g1K2i: oSutB: goto S2IJr; ruNoF: } goto VVIIG; UpaD2: Nd19_: goto fA26e; GNUHg: foreach ($banner as $v1) { $v["\x64\x61\x74\x61"][] = array("\x69\x6d\x67\165\x72\x6c" => $_W["\x61\164\x74\141\143\150\x75\x72\154"] . $v1["\x70\x69\143\164\x75\x72\145"], "\x69\155\x67\163\x72\143" => $_W["\141\x74\x74\x61\143\150\x75\x72\x6c"] . $v1["\x70\x69\143\164\x75\x72\145"], "\x6c\151\x6e\x6b" => $v1["\x6c\151\x6e\x6b"]); X6Qoi: } goto Q4M4z; Sj5rz: $newlesson = pdo_fetchall("\123\105\x4c\105\x43\x54\40\151\x64\54\154\145\163\163\x6f\156\x5f\164\171\x70\145\54\x62\x6f\x6f\x6b\156\x61\x6d\x65\x2c\x70\x72\x69\143\145\54\151\155\x61\x67\145\x73\54\142\165\x79\x6e\165\155\54\x76\x69\x72\x74\165\141\x6c\x5f\x62\165\171\x6e\165\155\54\x76\x69\160\137\156\x75\x6d\x62\145\162\x2c\x74\145\x61\143\x68\145\162\137\x6e\x75\155\x62\145\162\54\x76\x69\163\x69\x74\137\x6e\x75\155\142\x65\x72\54\163\x65\x63\x74\151\157\x6e\x5f\x73\164\x61\x74\165\163\x2c\x69\143\157\x5f\x6e\x61\x6d\145\x2c\166\x69\160\x76\x69\145\167\x2c\165\160\x64\141\164\x65\137\x74\x69\x6d\x65\54\154\x69\166\145\137\151\x6e\x66\x6f\40\x46\122\117\x4d\x20" . tablename($this->table_lesson_parent) . "\40\x57\x48\x45\x52\x45\x20\165\x6e\x69\141\x63\151\x64\x3d\x3a\x75\156\151\141\x63\x69\x64\40\x41\x4e\104\40\163\x74\141\164\x75\163\x3d\72\x73\164\141\164\165\163\40\117\x52\x44\105\122\x20\102\x59\40\x75\160\x64\x61\x74\145\x5f\164\x69\x6d\x65\40\x44\x45\123\x43\40\x4c\x49\115\x49\124\x20\x30\54{$v["\x73\164\171\154\145"]["\x73\150\x6f\x77\137\156\x75\155\142\x65\162"]}", array("\72\165\x6e\151\x61\x63\x69\x64" => $uniacid, "\72\163\164\141\164\165\163" => 1)); goto d_nGz; xXFgo: $rec_condition .= "\40\101\116\x44\x20\x70\151\144\75\x3a\160\x69\x64\x20"; goto n9az5; sdIsH: Qw2px: goto X2MGc; PBp3A: $article_params["\x3a\151\163\137\x76\x69\160"] = 0; goto AJdbV; d_nGz: foreach ($newlesson as $k1 => $v1) { goto w1_0G; HFoaC: $v1["\151\x63\x6f\137\156\x61\x6d\x65"] = "\151\143\157\55\144\x69\163\x63\x6f\x75\x6e\164"; goto z90vM; inyFW: RbsPM: goto aFuAN; RqXBA: goto sHlw1; goto P5cvI; D7IwX: XOwEt: goto qrFJd; Lamcp: if (time() > $endtime) { goto cKpXg; } goto NyZjl; LtkZH: $starttime = strtotime($live_info["\163\x74\x61\162\164\x74\x69\x6d\x65"]); goto y6Z1F; WADye: $newlesson[$k1] = $v1; goto Xgtsf; sESwh: $v1["\163\164\x75\144\x79\137\x6e\165\155\x62\x65\162"] = $v1["\x62\165\x79\x6e\x75\155"] + $v1["\166\x69\162\x74\165\x61\x6c\137\x62\x75\x79\156\165\x6d"] + $v1["\166\x69\160\137\x6e\165\x6d\x62\145\162"] + $v1["\164\145\x61\143\x68\x65\162\x5f\156\x75\155\142\145\162"] + $v1["\166\x69\x73\x69\x74\137\x6e\165\x6d\142\x65\x72"]; goto BVRdP; q_ZqP: rTgU7: goto isWOB; peU8c: cKpXg: goto akucb; GDyt7: unset($v1["\163\145\x63\x74\x69\x6f\156"]); goto X4oQs; twNRq: goto H6CU7; goto GW1tt; NNJ0n: if ($v1["\154\145\163\163\x6f\x6e\x5f\x74\x79\160\x65"] == 1) { goto rTgU7; } goto h_myA; isWOB: $buynow_info = json_decode($v1["\x62\165\171\156\157\167\x5f\x69\x6e\146\157"], true); goto a4Y9C; Xgtsf: pFod5: goto UTzu6; qniMP: c1U10: goto YudzN; YudzN: $v1["\x76\x69\160\166\x69\x65\x77"] = json_decode($v1["\166\151\160\166\151\x65\x77"], true); goto bo97t; r4hIW: if (!($v1["\x64\151\163\x63\x6f\165\156\164"] < 1 && !$v1["\x69\x63\157\x5f\x6e\x61\155\x65"])) { goto DagaW; } goto HFoaC; aFuAN: $v1["\163\164\x75\144\171\x5f\x6e\x75\x6d\x62\x65\162"] = $v1["\x62\165\171\156\x75\x6d"] + $v1["\x76\151\x72\x74\165\x61\154\137\142\x75\x79\156\165\x6d"] + $v1["\x76\151\x70\137\x6e\x75\155\142\145\x72"] + $v1["\164\x65\x61\143\x68\145\x72\x5f\156\165\155\142\x65\x72"]; goto qniMP; h_myA: if ($v1["\154\145\x73\x73\x6f\x6e\x5f\x74\x79\160\x65"] == 3) { goto z9XfJ; } goto upUo_; qrFJd: $v1["\x69\x63\157\156\137\154\151\166\x65\x5f\163\x74\141\x74\x75\x73"] = "\x69\143\x6f\156\x2d\x6c\151\166\x65\55\156\x6f\163\x74\x61\162\164"; goto DXXqs; sF1VI: $v1["\x69\x63\x6f\x5f\x6e\141\x6d\145"] = "\x69\x63\x6f\x2d\141\160\x70\x6f\x69\156\164\x65\144"; goto EnF8j; ayb9k: $v1["\x70\162\151\143\x65"] = round($v1["\160\x72\x69\143\x65"] * $v1["\x64\x69\163\x63\x6f\165\x6e\x74"], 2); goto r4hIW; a4Y9C: if (!($buynow_info["\141\160\160\x6f\151\x6e\x74\x5f\166\141\x6c\x69\144\x69\164\171"] && time() > strtotime($buynow_info["\x61\x70\160\157\x69\156\164\137\166\141\154\x69\144\151\164\171"]))) { goto nXU3e; } goto sF1VI; EnF8j: nXU3e: goto DMvU9; y6Z1F: $endtime = strtotime($live_info["\x65\x6e\144\x74\151\155\145"]); goto qzq6x; oql5t: $v1["\163\145\x63\164\x69\157\156"] = pdo_fetch("\x53\x45\114\105\103\x54\x20\x74\151\164\x6c\x65\40\106\x52\117\x4d\40" . tablename($this->table_lesson_son) . "\40\127\110\x45\122\105\x20\160\141\x72\145\x6e\164\x69\144\75\72\160\x61\162\x65\x6e\164\151\x64\x20\101\116\x44\40\163\164\x61\x74\x75\163\x3d\72\163\x74\141\164\165\163\x20\x4f\122\x44\105\122\x20\x42\131\40\151\x64\40\x44\105\123\103\x20\114\x49\115\111\x54\x20\60\x2c\x31", array("\x3a\160\141\x72\x65\156\x74\151\144" => $v1["\x69\x64"], "\x3a\x73\164\141\x74\165\x73" => 1)); goto IjV8q; upUo_: goto sHlw1; goto q_ZqP; bo97t: $v1["\x64\x69\163\x63\157\165\156\164"] = $this->getLessonDiscount($v1["\x69\144"]); goto ayb9k; BVRdP: goto c1U10; goto inyFW; P5cvI: z9XfJ: goto HXutS; IjV8q: if ($v1["\x70\x72\x69\x63\x65"] > 0) { goto RbsPM; } goto sESwh; DMvU9: $v1["\163\164\x75\x64\171\x5f\156\165\x6d\142\145\x72"] = $v1["\142\165\171\x6e\x75\155"] + $v1["\x76\x69\162\164\165\141\154\137\x62\165\x79\x6e\x75\x6d"]; goto RqXBA; akucb: $v1["\x69\143\157\156\137\154\x69\x76\145\137\163\x74\141\x74\x75\x73"] = "\x69\x63\157\x6e\55\154\x69\166\145\55\x65\x6e\144\145\144"; goto twNRq; gXRjY: $v1["\151\x63\x6f\156\x5f\154\x69\x76\145\x5f\x73\164\141\x74\x75\163"] = "\151\143\x6f\156\x2d\154\151\166\x65\x2d\163\x74\x61\x72\164\x69\156\147"; goto LEG_6; T71Wv: goto H6CU7; goto D7IwX; GW1tt: urqg9: goto gXRjY; w1_0G: $v1["\x74\162\141\156\x5f\x74\151\155\145"] = $this->tranTime($v1["\165\160\144\141\164\x65\137\164\x69\155\x65"]); goto oql5t; X4oQs: sHlw1: goto WADye; z90vM: DagaW: goto NNJ0n; HXutS: $live_info = json_decode($v1["\x6c\x69\x76\x65\x5f\x69\x6e\146\157"], true); goto LtkZH; qzq6x: if (time() < $starttime) { goto XOwEt; } goto Lamcp; NyZjl: if (time() > $starttime && time() < $endtime) { goto urqg9; } goto T71Wv; LEG_6: H6CU7: goto GDyt7; DXXqs: goto H6CU7; goto peU8c; UTzu6: } goto Sx1t_; KUUZj: $v["\144\x61\164\x61"] = array(); goto O6SCB; u2ZkR: if (!empty($member_vip)) { goto YTa_T; } goto pdzed; h9Ts2: r94TN: goto XeZCJ; GHuUW: if (!($v["\156\141\x6d\145"] == "\x6e\x65\x77\154\x65\x73\x73\157\156")) { goto qZIYe; } goto Sj5rz; upQX8: $article_params["\72\151\x73\x5f\x76\151\160"] = 0; goto yDS3Z; D5Soq: goto gu2dr; goto rtdUO; BPfyv: if (!($v["\x6e\x61\x6d\145"] == "\x74\145\x61\143\150\x65\x72")) { goto m6OKG; } goto HKozz; qjoQW: $v["\x64\x61\x74\141"] = $newlesson; goto S2w7H; fxmyn: $article_condition .= "\x20\101\116\104\x20\x69\163\137\166\x69\160\x3d\x3a\151\x73\137\x76\151\x70"; goto PBp3A; ns8hT: if (!$v["\163\164\171\x6c\145"]["\x63\x69\x64"]) { goto RAAKT; } goto QkoU4; IbKmB: $v["\x64\x61\164\x61"] = $recommend_teacher; goto UyvXT; n9az5: $rec_params["\x3a\160\x69\x64"] = intval($v["\163\x74\171\154\x65"]["\160\151\x64"]); goto ns8hT; yDS3Z: YTa_T: goto UpaD2; WiVNZ: $rec_params["\x3a\x63\151\144"] = intval($v["\x73\164\x79\x6c\x65"]["\143\x69\x64"]); goto laCdd; fA26e: $articlelist = pdo_fetchall("\123\105\x4c\x45\x43\124\x20\x69\144\54\x74\x69\164\x6c\x65\x2c\151\x73\137\x76\151\x70\54\x61\x64\144\164\151\155\145\40\106\x52\117\115\40" . tablename($this->table_article) . "\x20\127\x48\105\x52\x45\x20{$article_condition}\x20\117\x52\104\105\122\x20\x42\131\40\x64\x69\163\x70\154\x61\x79\157\162\144\x65\x72\x20\104\x45\x53\103\54\x69\144\x20\x44\x45\123\103", $article_params); goto Z9Obo; XcK9T: foreach ($articlelist as $v1) { $v["\144\141\164\x61"][] = array("\164\151\x74\154\145" => $v1["\x74\x69\x74\x6c\145"], "\154\151\x6e\153" => $this->redefineUrl($this->createMobileUrl("\x61\x72\164\151\143\x6c\x65", array("\x61\151\x64" => $v1["\151\144"]))), "\x69\x73\137\166\x69\x70" => $v1["\151\x73\x5f\166\x69\160"]); nTqWL: } goto LIowK; JXVu4: if (!$v["\163\x74\171\154\x65"]["\x70\x69\x64"]) { goto chYIU; } goto xXFgo; VVIIG: RJKc0: goto LxVV8; QkoU4: $rec_condition .= "\40\101\x4e\104\40\143\151\x64\x3d\72\143\151\144\40"; goto WiVNZ; UyvXT: $diy_data[$k] = $v; goto N9ZcH; gcbNF: if ($v["\x73\164\x79\154\x65"]["\154\145\x73\163\x6f\x6e\137\x66\x72\x6f\x6d"] == 1) { goto HXAHb; } goto OGuMT; TuzVt: $rec_params = array("\x3a\165\156\151\x61\143\151\x64" => $uniacid, "\x3a\x73\x74\141\164\x75\163" => 1); goto HuI2v; JqBHi: $diy_data[$k] = $v; goto WdkhA; S2w7H: $diy_data[$k] = $v; goto KKcLq; BjuBE: $lesson_list = pdo_fetchall("\123\x45\114\x45\x43\124\40\x2a\x20\x46\122\x4f\x4d\40" . tablename($this->table_lesson_parent) . "\x20\127\110\x45\x52\105\40{$rec_condition}\40\117\x52\x44\x45\122\x20\x42\x59\x20\144\x69\163\160\x6c\x61\x79\157\162\x64\145\x72\40\x44\105\123\103\x2c\x69\144\x20\104\x45\x53\x43\40\114\111\x4d\x49\x54\40\60\54{$limit}", $rec_params); goto LD_I4; gh3Yw: foreach ($v["\144\x61\164\x61"] as $k1 => $v1) { goto hwzCn; ilmj0: $v1["\x6e\141\166\137\x6f\160"] = $params["\x6f\160"] ? $params["\x6f\x70"] : "\x64\151\x73\x70\x6c\x61\171"; goto yRAHv; yRAHv: $v["\144\141\164\x61"][$k1] = $v1; goto WROy2; mTdd7: $v1["\x6e\141\x76\x5f\x64\x6f"] = $params["\144\157"]; goto ilmj0; WROy2: pE1XB: goto qEw1Q; hwzCn: parse_str(@array_pop(explode("\77", $v1["\154\151\x6e\153"])), $params); goto mTdd7; qEw1Q: } goto pydQE; laCdd: RAAKT: goto cEMps; ymMox: $banner = cache_load("\x66\171\x5f\x6c\145\163\x73\157\x6e\x5f" . $uniacid . "\137\x69\156\144\145\x78\137\x62\141\x6e\x6e\x65\x72"); goto gIRRE; FNQZc: $diy_data[$k] = $v; goto sdIsH; HKozz: $recommend_teacher = pdo_fetchall("\123\105\x4c\x45\103\x54\40\52\40\106\x52\x4f\x4d\40" . tablename($this->table_teacher) . "\x20\127\110\105\122\x45\40\x75\156\x69\141\143\x69\x64\x3d\72\165\156\x69\x61\x63\151\144\x20\101\116\104\x20\x73\x74\x61\x74\165\163\x3d\x3a\x73\164\141\164\165\163\40\x41\116\x44\40\x69\x73\137\x72\x65\143\157\155\155\145\x6e\144\75\72\151\163\137\x72\x65\x63\157\155\155\145\156\144\40\117\x52\104\105\122\x20\102\131\40\144\151\163\x70\154\x61\171\x6f\x72\144\145\162\40\x44\105\123\x43", array("\72\165\156\151\x61\143\x69\144" => $uniacid, "\72\x73\x74\141\x74\165\x73" => 1, "\72\x69\x73\137\x72\145\x63\157\155\155\145\x6e\144" => 1)); goto IbKmB; bPqw9: KJWbB: goto FNQZc; Sx1t_: myDlQ: goto qjoQW; xe2qX: hDmy3: goto D5Soq; kxLfu: rIXyN: goto gh3Yw; XeZCJ: SYdEv: goto KnuQ6; ihGno: $diy_data[$k] = $v; goto KYlaT; RRwNH: $article_params = array("\x3a\x75\x6e\151\141\143\151\x64" => $uniacid, "\72\143\157\x6d\x6d\145\x6e\x64" => 1, "\x3a\x69\163\x73\x68\157\x77" => 1); goto jXkXp; T_N61: CYAos: goto JqBHi; yQCNL: $diy_data["\x66\157\157\x74\156\141\166"] = $v; goto uZvE1; N9ZcH: m6OKG: goto GHuUW; VXLU1: if (!$v["\163\164\x79\154\x65"]["\x6e\x6f\164\x69\x63\x65\x5f\x66\x72\157\155"]) { goto CYAos; } goto hs3c4; cEMps: chYIU: goto BjuBE; PZVvL: unset($v["\144\141\x74\141"]); goto GNUHg; pdzed: $article_condition .= "\40\x41\x4e\104\40\x69\x73\x5f\x76\151\x70\x3d\x3a\x69\x73\137\166\151\160"; goto upQX8; X2MGc: if (!($v["\156\x61\155\145"] == "\156\157\x74\x69\x63\x65")) { goto Veneb; } goto VXLU1; LxVV8: gu2dr: goto ihGno; Q4M4z: TfTGz: goto bPqw9; hs3c4: $article_condition = "\x20\165\x6e\151\141\143\151\144\75\72\165\x6e\151\141\143\151\x64\40\x41\116\x44\x20\x63\x6f\x6d\155\145\x6e\x64\75\72\x63\157\x6d\155\x65\156\144\x20\101\116\x44\x20\x69\163\x73\150\157\x77\75\x3a\x69\163\163\150\x6f\x77\40"; goto RRwNH; kI_4I: $banner = pdo_fetchall("\123\105\114\105\103\124\40\x2a\40\x46\x52\117\x4d\40" . tablename($this->table_banner) . "\x20\x57\x48\x45\x52\x45\x20\x75\x6e\151\141\x63\151\144\75\72\x75\x6e\151\x61\x63\151\x64\40\x41\116\x44\x20\x69\x73\x5f\x73\x68\x6f\167\75\72\151\163\x5f\163\150\157\167\x20\101\116\104\x20\151\163\137\160\143\x3d\x3a\x69\163\137\x70\x63\40\x41\x4e\104\40\142\141\x6e\x6e\145\162\137\x74\171\160\x65\x3d\72\x62\141\156\156\145\x72\137\x74\171\160\145\40\x4f\x52\x44\x45\x52\40\102\131\x20\x64\x69\163\x70\154\x61\x79\x6f\x72\144\x65\162\x20\x44\105\x53\103", array("\x3a\x75\156\151\x61\x63\x69\144" => $uniacid, "\72\x69\x73\x5f\x73\x68\157\x77" => 1, "\x3a\x69\163\x5f\x70\x63" => 0, "\142\141\x6e\x6e\145\x72\137\164\x79\x70\145" => 0)); goto OiU1E; uZvE1: unset($diy_data[$k]); goto h9Ts2; Z9Obo: unset($v["\144\x61\164\x61"]); goto XcK9T; rmOPR: if (!$v["\163\x74\x79\154\x65"]["\x61\x64\137\x73\x77\151\x74\143\x68"]) { goto KJWbB; } goto ymMox; KKcLq: qZIYe: goto lHFdL; WdkhA: Veneb: goto BPfyv; KnuQ6: } goto xbyAi; O88Px: if (!empty($diy_data)) { goto Jmg2g; } goto ao85r; wJcin: goto blrDe; goto MSL5V; l9GjG: ElZ1J: goto uCbYb; Vkesm: goto blrDe; goto WDVNx; RGvLv: if (!empty($diy_data) && time() < $validity) { goto HJHxq; } goto Pqy7y; hl7Eq: $diy_data = cache_load("\146\x79\x5f\x6c\x65\163\x73\157\x6e\x5f" . $uniacid . "\x5f\x64\x69\171\137\x69\x6e\144\145\x78\x5f\x74\145\155\x70\x6c\141\x74\x65"); goto siKJ2; oOyvQ: $diy_data["\165\x70\144\141\x74\x65"] = array("\156\x61\155\145" => "\x76\141\x6c\151\x64\151\x74\171", "\166\x61\x6c\x69\x64\x69\164\x79" => time() + 60); goto Ouxp4; clYL6: cache_write("\x66\171\137\154\145\x73\x73\x6f\x6e\x5f" . $uniacid . "\x5f\x64\151\171\137\151\x6e\144\145\170\137\x74\145\x6d\x70\154\x61\164\145", $diy_data); goto Ztkcx; QybGR: if ($page_type == 2) { goto yikMH; } goto h_poJ; UpR5H: yikMH: goto oOyvQ; k9fE3: $diy_tpl = pdo_get($this->table_diy_template, array("\165\x6e\x69\141\143\151\144" => $uniacid, "\x70\x61\x67\x65\x5f\164\171\160\x65" => $page_type, "\163\x74\141\x74\165\x73" => 1)); goto veUE6; DdoqX: hT7dR: goto hl7Eq; Pt_eS: if (empty($diy_tpl)) { goto l78Y8; } goto HaAdg; J3XQc: global $_W; goto DbehD; p1Png: goto mpMfn; goto l9GjG; RPCC1: $diy_data = json_decode($diy_tpl["\x64\141\x74\x61"], true); goto sKZ6j; veUE6: if (empty($diy_tpl)) { goto IYcId; } goto n4MCD; aLIfv: $diy_tpl = pdo_get($this->table_diy_template, array("\165\156\151\x61\143\x69\x64" => $uniacid, "\x70\x61\147\x65\137\164\x79\160\x65" => $page_type, "\x73\164\x61\x74\165\x73" => 1)); goto Pt_eS; VJvb9: nBDMe: goto Ibvu7; WDVNx: WyyiG: goto PKQ6l; X3rtP: return $diy_data; goto ZbfrC; ABXJU: message("\xe9\xa1\265\xe9\x9d\xa2\xe4\270\x8d\xe5\255\x98\345\234\250"); goto v6Ff3; azjIn: UtTiM: goto Mpf9U; DmODA: if ($page_type == 3) { goto gOtV7; } goto teGb8; bK_jV: if ($page_type == 1) { goto UtTiM; } goto QybGR; PKQ6l: $diy_data = cache_load("\x66\171\x5f\x6c\x65\163\x73\157\x6e\137" . $uniacid . "\137\144\151\x79\x5f\x74\x65\x6d\160\x6c\x61\x74\145\137" . $id); goto BZV8R; sKZ6j: YdYax: goto O88Px; Pqy7y: $diy_tpl = pdo_get($this->table_diy_template, array("\165\x6e\151\x61\x63\x69\144" => $uniacid, "\160\x61\x67\x65\x5f\x74\171\160\145" => $page_type, "\151\144" => $id)); goto rL4vr; CoOxg: Jmg2g: goto MyT2m; HaAdg: $diy_data = json_decode($diy_tpl["\x64\x61\164\141"], true); goto h62gN; MyT2m: goto unm2o; goto m6mAs; ao85r: return; goto CoOxg; Mpf9U: $diy_data["\x75\x70\144\141\164\x65"] = array("\156\141\x6d\145" => "\x76\141\154\151\x64\x69\x74\171", "\166\x61\154\151\144\151\x74\x79" => time() + 60); goto clYL6; UGVY7: if (!empty($diy_data) && time() < $validity) { goto nBDMe; } goto k9fE3; XmbUR: return; goto FMTg0; h62gN: l78Y8: goto lFOX0; X0Ppq: goto LM_JK; goto vJl3c; ftQTe: } public function getSuggestCategory() { goto N61oV; t02q3: cache_write("\146\171\x5f\x6c\145\x73\x73\x6f\x6e\137" . $uniacid . "\x5f\163\165\x67\147\145\x73\x74\137\143\x61\x74\145\147\x6f\x72\171", $suggest_category); goto zpPWJ; NJDw5: $suggest_category = cache_load("\x66\x79\137\x6c\x65\163\163\x6f\x6e\137" . $uniacid . "\137\163\165\x67\x67\x65\x73\x74\x5f\143\141\164\x65\147\x6f\162\x79"); goto qiPxk; qiPxk: if (!empty($suggest_category)) { goto f1iNi; } goto wvuY3; wvuY3: $suggest_category = pdo_fetchall("\x53\x45\114\105\103\x54\x20\52\40\x46\122\x4f\x4d\40" . tablename($this->table_suggest_category) . "\x20\x57\110\105\122\x45\40\x75\x6e\x69\141\x63\151\144\x3d\72\x75\x6e\151\x61\143\x69\144\40\117\122\x44\105\122\x20\102\131\40\x64\151\x73\160\154\141\x79\157\162\144\145\x72\x20\104\x45\x53\x43\x2c\x20\151\144\40\x41\x53\x43", array("\72\x75\x6e\151\x61\143\151\144" => $uniacid)); goto t02q3; N5rIZ: $uniacid = $_W["\x75\156\151\x61\x63\151\144"]; goto NJDw5; lXFkM: return $suggest_category; goto IyDl0; zpPWJ: f1iNi: goto lXFkM; N61oV: global $_W; goto N5rIZ; IyDl0: } public function checkSaleModel($member, $recmember, $comsetting) { goto rnjum; rnjum: global $_W; goto Ikecn; Ly2pS: tCKRV: goto SEMgq; BWN7p: QSgAP: goto NgRGt; frjNh: $allow_bind = false; goto x9mos; n2tH0: if (!(time() - $last_bind_time < $comsetting["\160\162\x6f\164\x65\x63\164\137\164\151\155\x65"] * 3600)) { goto ivwKR; } goto frjNh; SwQpS: if (!$comsetting["\x70\x72\157\164\145\x63\164\137\x72\141\156\x6b"]) { goto CXlVU; } goto J9sgz; Z32XK: if (!$allow_bind) { goto YsiZH; } goto taYf8; Mj4y6: $member_bind = pdo_get($this->table_member_bind, array("\x75\156\151\141\143\x69\144" => $uniacid, "\165\x69\144" => $member["\165\x69\x64"])); goto Afpys; o8GIU: $allow_bind = true; goto Mt3qf; SEMgq: YsiZH: goto i0q1K; kgQub: YWPh9: goto o8GIU; Afpys: $last_bind_time = $member_bind["\x61\x64\144\x74\x69\155\x65"] ? $member_bind["\141\x64\x64\x74\x69\x6d\x65"] : $member["\x61\x64\144\x74\151\155\x65"]; goto n2tH0; xTJI8: $allow_bind = false; goto BWN7p; J9sgz: $member_vip = pdo_fetch("\123\x45\114\105\103\124\x20\52\x20\x46\122\x4f\x4d\x20\x20" . tablename($this->table_member_vip) . "\40\x57\110\x45\122\105\x20\x75\156\x69\141\143\151\144\x3d\72\165\x6e\151\x61\143\x69\x64\x20\x41\116\x44\x20\165\151\x64\75\72\165\x69\144\40\101\116\x44\x20\x76\141\x6c\151\x64\x69\x74\171\x3e\x3a\x76\x61\x6c\151\144\151\x74\x79", array("\72\x75\x6e\x69\141\x63\x69\x64" => $uniacid, "\x3a\165\151\144" => $member["\x75\x69\144"], "\x3a\x76\141\x6c\x69\x64\x69\x74\171" => time())); goto LE3TG; x9mos: ivwKR: goto DkvRU; DkvRU: gNK5n: goto SwQpS; LE3TG: if (empty($member_vip)) { goto QSgAP; } goto xTJI8; NgRGt: CXlVU: goto Z32XK; HR46G: return; goto kgQub; m9T69: $this->recordRelation($member["\x75\151\144"], $recmember["\x75\151\144"]); goto Ly2pS; rG0q7: if (!(!$comsetting["\x73\141\154\x65\137\x6d\x6f\144\145\154"] || !$recmember["\165\x69\x64"] || !$recmember["\x73\164\x61\164\x75\163"] || $recmember["\x75\151\x64"] == $member["\x75\x69\x64"] || $member["\x70\x61\x72\145\x6e\164\151\x64"] == $recmember["\165\x69\144"])) { goto YWPh9; } goto HR46G; taYf8: if (!pdo_update($this->table_member, array("\x70\x61\x72\145\156\164\151\x64" => $recmember["\165\151\x64"]), array("\165\156\x69\x61\143\x69\x64" => $uniacid, "\165\x69\144" => $member["\165\151\x64"]))) { goto tCKRV; } goto m9T69; Mt3qf: if (!$comsetting["\160\x72\x6f\164\145\x63\x74\x5f\164\x69\155\x65"]) { goto gNK5n; } goto Mj4y6; Ikecn: $uniacid = $_W["\165\156\x69\x61\x63\151\144"]; goto rG0q7; i0q1K: } public function recommendLessonByFreeStudy($junior, $last_junior_id) { goto lL2g7; f5UpI: $activity_data = array("\x75\x6e\151\x61\143\x69\x64" => $uniacid, "\x75\151\x64" => $junior["\x75\151\x64"], "\154\145\x73\163\x6f\x6e\x69\144" => $junior["\154\x65\163\163\x6f\156\x69\144"], "\142\x6f\157\153\156\141\155\145" => $lesson["\142\157\157\153\156\x61\x6d\145"], "\x69\x6d\x61\147\145\x73" => $lesson["\x69\x6d\x61\x67\145\x73"], "\151\156\166\151\164\x65\x5f\156\x75\x6d\x62\x65\162" => 1, "\141\144\x64\x74\151\x6d\x65" => time()); goto DfduM; VR1aE: pdo_insert($this->table_recommend_junior, $junior); goto sN6i6; BBmlH: goto Fe1rQ; goto eOhye; he3b1: $activity_id = pdo_insertid(); goto SKvAm; sN6i6: $already_num = pdo_fetchcolumn("\123\x45\x4c\105\103\124\x20\103\117\x55\x4e\x54\50\52\51\40\x46\x52\117\x4d\x20" . tablename($this->table_recommend_junior) . "\40\x57\x48\105\x52\105\40\141\143\x74\151\x76\x69\x74\171\137\x69\x64\75\72\141\143\x74\151\166\151\164\x79\137\x69\144\40\x41\116\104\40\165\151\144\75\x3a\165\x69\144\40\x41\x4e\104\40\x6c\x65\x73\x73\157\x6e\151\144\75\x3a\154\145\163\163\x6f\156\x69\144", array("\72\141\x63\x74\x69\166\151\164\x79\x5f\151\x64" => $activity_id, "\72\x75\151\x64" => $junior["\x75\x69\144"], "\72\154\x65\163\x73\157\156\x69\x64" => $junior["\154\145\x73\x73\x6f\x6e\x69\x64"])); goto ONR8Q; jAeTx: goto uOD_U; goto lxpKe; Q9Ggg: $junior_member = pdo_get($this->table_fans, array("\165\x69\x64" => $junior["\x6a\x75\x6e\x69\x6f\162\x5f\165\151\x64"]), array("\156\151\143\x6b\156\x61\x6d\145", "\157\x70\145\x6e\x69\x64")); goto BBI0f; DuCF2: $custom = array("\x6d\x73\147\164\x79\x70\145" => "\x74\x65\x78\164", "\164\x65\x78\164" => array("\x63\x6f\x6e\x74\x65\x6e\164" => urlencode($first . "\134\x6e\134\156\346\x98\xb5\347\247\260\357\274\x9a" . $junior_member["\x6e\151\x63\x6b\156\141\x6d\145"] . "\134\156\344\274\232\xe5\221\230\x49\104\357\xbc\232" . $junior["\152\x75\156\151\157\x72\x5f\165\x69\144"] . "\x5c\x6e\346\263\xa8\xe5\206\214\346\x97\266\351\x97\264\xef\274\232" . date("\x59\xe5\xb9\264\x6d\346\x9c\x88\144\xe6\x97\xa5", time()) . "\134\x6e\134\x6e\xe6\x84\x9f\xe8\xb0\242\346\202\xa8\xe7\232\204\346\224\xaf\346\214\201\xef\xbc\x8c\74\x61\x20\150\162\x65\x66\x3d\134\x22" . $url . "\134\x22\76\xe7\x82\xb9\345\x87\273\xe6\xad\xa4\345\xa4\204\xe5\217\xaf\346\237\245\xe7\x9c\x8b\350\xaf\xa6\346\203\x85\x3c\57\x61\76")), "\x74\157\x75\x73\x65\x72" => $rec_member["\157\160\x65\156\151\x64"]); goto ZpCgz; E004U: $account_api->sendCustomNotice($custom); goto FbX_x; NXiyu: unset($activity); goto HbhIY; kASX3: if (empty($activity)) { goto seUdq; } goto fSQVU; z81HR: seUdq: goto mbSam; j4zZe: pdo_update($this->table_recommend_activity, array("\163\x74\x61\x74\165\163" => -1), array("\x69\x64" => $activity["\x69\144"])); goto NXiyu; hYWgP: pdo_insert($this->table_order, $orderdata); goto HcVsz; ZpCgz: $account_api = WeAccount::create(); goto E004U; FbX_x: goto YQHmV; goto FO7hz; pMni0: if ($tplmessage["\x72\x65\143\157\x6d\155\145\x6e\x64\x5f\152\165\x6e\151\x6f\162"]) { goto Hj_Fv; } goto DuCF2; DfduM: pdo_insert($this->table_recommend_activity, $activity_data); goto he3b1; BlHbH: $tplmessage = pdo_get($this->table_tplmessage, array("\x75\x6e\151\x61\x63\x69\x64" => $uniacid), array("\x72\145\143\x6f\x6d\x6d\145\156\144\x5f\x6a\165\x6e\151\x6f\162")); goto pMni0; aZaRj: $order = pdo_get($this->table_order, array("\x75\151\144" => $junior["\165\151\x64"], "\x6c\x65\163\x73\157\156\x69\x64" => $junior["\154\145\x73\163\x6f\156\x69\x64"], "\x70\x61\171\x74\x79\x70\x65" => "\x72\x65\143\147\151\166\x65", "\x69\163\x5f\x64\145\154\145\164\145" => 0)); goto FE2df; lxpKe: Os1pP: goto f5UpI; FE2df: if (!(!$lesson || !$lesson["\x72\145\143\157\x6d\155\x65\156\x64\x5f\146\162\145\x65\137\156\x75\155"] || $order)) { goto ummAD; } goto QYdnL; fx3qu: $lesson = pdo_get($this->table_lesson_parent, array("\165\x6e\151\141\143\x69\144" => $_W["\165\156\x69\141\143\x69\144"], "\151\x64" => $junior["\x6c\145\x73\163\157\x6e\x69\x64"])); goto aZaRj; mbSam: $first = "\xe6\202\250\xe5\xb7\xb2\xe9\x80\232\350\xbf\207\343\200\x8a{$lesson["\142\x6f\157\153\156\x61\155\145"]}\xe3\x80\x8b\350\xaf\xbe\xe7\250\x8b\346\xb5\xb7\346\212\xa5\346\x88\226\xe9\x93\xbe\346\x8e\245\xe9\202\x80\350\257\267{$already_num}\xe4\275\215\346\x96\xb0\345\xa5\xbd\345\217\x8b\xef\xbc\x8c\346\210\x90\xe5\x8a\x9f\xe5\xae\214\xe6\210\x90\344\273\xbb\345\212\xa1\xe8\x8e\xb7\xe5\276\x97\xe5\205\x8d\350\264\271\345\xad\xa6\344\271\240\xe8\xaf\xa5\350\257\xbe\347\xa8\213\xe7\x9a\x84\345\xa5\226\xe5\212\261\357\274\214\345\205\215\xe8\264\271\xe5\255\246\xe4\271\240\xe6\234\237\351\x99\220{$lesson["\162\x65\143\x6f\155\155\x65\156\144\137\x66\162\x65\x65\137\144\x61\x79"]}\345\244\251\xe3\x80\x82"; goto NYBH_; QYdnL: return; goto gIwQo; ebZds: YQHmV: goto CIfHq; lL2g7: global $_W; goto l2uEs; BBI0f: $rec_member = pdo_get($this->table_fans, array("\x75\151\144" => $junior["\165\151\144"]), array("\157\160\x65\156\151\x64")); goto BlHbH; ShsvV: $activity = pdo_get($this->table_recommend_activity, array("\165\151\144" => $junior["\x75\151\x64"], "\154\145\163\163\x6f\x6e\x69\144" => $junior["\x6c\x65\163\163\x6f\156\151\144"], "\x73\164\141\x74\x75\163" => 0)); goto fPiJV; FO7hz: Hj_Fv: goto vD_T6; SKvAm: uOD_U: goto cofVL; bcNBF: $this->send_template_message($sendmessage1, $uniacid); goto ebZds; necXQ: $orderdata = array("\141\x63\151\x64" => $_W["\x61\143\143\x6f\165\156\x74"]["\141\143\x69\144"], "\165\156\151\141\x63\151\x64" => $uniacid, "\x6f\162\x64\x65\162\163\x6e" => "\x4c" . date("\131\x6d\144") . substr(time(), -5) . substr(microtime(), 2, 5) . sprintf("\45\60\x32\x64", rand(1000, 9999)), "\x75\151\x64" => $junior["\x75\x69\x64"], "\x6c\x65\x73\163\157\x6e\x5f\164\x79\x70\x65" => $lesson["\x6c\145\x73\163\x6f\156\x5f\x74\171\160\145"], "\154\x65\163\163\x6f\156\151\144" => $junior["\154\x65\x73\163\x6f\156\151\x64"], "\x62\157\x6f\153\x6e\x61\x6d\x65" => $lesson["\x62\157\x6f\153\x6e\141\x6d\x65"], "\x6d\x61\162\x6b\x65\x74\160\162\x69\143\x65" => 0, "\x70\162\151\x63\x65" => 0, "\x73\x70\x65\x63\x5f\144\141\171" => $lesson["\x72\145\143\157\x6d\155\145\156\144\x5f\146\x72\145\145\137\144\x61\171"], "\164\145\141\143\x68\x65\x72\x69\144" => $lesson["\164\145\141\143\150\x65\162\151\x64"], "\x73\164\x61\164\x75\x73" => 1, "\x70\x61\x79\164\171\160\145" => "\x72\x65\143\x67\151\166\x65", "\x70\x61\x79\164\x69\155\x65" => time(), "\x76\x61\x6c\x69\x64\151\x74\x79" => time() + $lesson["\162\145\143\157\155\155\x65\156\x64\137\146\162\x65\x65\137\144\141\171"] * 86400, "\x61\x64\144\x74\x69\x6d\x65" => time()); goto hYWgP; IppKo: if (empty($activity)) { goto O8HSv; } goto ll_va; NYBH_: Fe1rQ: goto CJdqR; HbhIY: sJF54: goto X3zOK; ll_va: pdo_update($this->table_recommend_activity, array("\151\x6e\166\151\x74\145\137\x6e\x75\x6d\x62\145\x72\x20\53\75" => 1, "\x75\x70\144\141\x74\145\137\164\151\155\145" => time()), array("\151\144" => $activity["\151\x64"])); goto MX4Xs; fSQVU: pdo_update($this->table_recommend_activity, array("\151\156\x76\151\164\x65\137\x6e\x75\x6d\142\145\x72\40\53\75" => 1, "\x73\x74\141\x74\165\x73" => 1, "\165\x70\144\x61\164\145\137\164\151\x6d\x65" => time()), array("\151\x64" => $activity["\151\144"])); goto z81HR; X3zOK: if (empty($activity)) { goto Os1pP; } goto XYaG2; XYaG2: $activity_id = $activity["\151\144"]; goto jAeTx; MX4Xs: O8HSv: goto Jnd4N; Jnd4N: $remain_num = $lesson["\x72\145\x63\157\x6d\155\x65\x6e\x64\137\146\162\145\x65\137\156\x75\x6d"] - $already_num; goto qT6QN; gIwQo: ummAD: goto ShsvV; qT6QN: $first = "\xe6\x82\250\346\210\220\345\x8a\x9f\351\200\x9a\xe8\xbf\x87\xe3\200\x8a{$lesson["\142\x6f\x6f\153\x6e\141\155\x65"]}\343\200\213\xe8\xaf\xbe\xe7\xa8\x8b\xe6\265\xb7\xe6\212\245\xe6\x88\x96\xe9\x93\xbe\346\216\xa5\xe9\202\x80\xe8\257\xb7\x31\344\275\x8d\346\226\xb0\xe5\245\xbd\345\x8f\213\xef\xbc\x8c\xe5\x86\215\xe9\202\x80\350\257\xb7{$remain_num}\344\xbd\x8d\xe6\x96\xb0\345\xa5\xbd\345\217\213\357\274\214\345\215\263\xe5\217\257\350\216\xb7\345\276\x97\345\205\215\xe8\xb4\xb9\345\255\246\xe4\271\xa0\xe8\257\245\350\xaf\276\347\xa8\x8b\347\232\x84\345\245\x96\345\212\xb1\343\x80\202"; goto BBmlH; cofVL: $junior["\x61\x63\x74\x69\x76\151\x74\171\137\151\144"] = $activity_id; goto VR1aE; HcVsz: pdo_update($this->table_lesson_parent, array("\142\x75\x79\156\x75\x6d\40\53\x3d" => 1), array("\x69\144" => $junior["\x6c\x65\x73\x73\157\x6e\x69\144"])); goto kASX3; fPiJV: if (!(!empty($activity) && time() > $activity["\x61\144\x64\164\151\155\x65"] + $lesson["\x72\145\x63\157\155\x6d\145\156\144\137\x66\x72\x65\145\137\x6c\x69\x6d\x69\x74"] * 86400)) { goto sJF54; } goto j4zZe; eOhye: o05vg: goto necXQ; ONR8Q: if ($already_num >= $lesson["\162\145\143\157\x6d\x6d\145\156\x64\x5f\x66\x72\145\145\137\x6e\165\x6d"]) { goto o05vg; } goto IppKo; l2uEs: $uniacid = $_W["\165\156\x69\141\x63\x69\x64"]; goto fx3qu; vD_T6: $sendmessage1 = array("\164\157\165\x73\x65\x72" => $rec_member["\x6f\x70\x65\156\x69\x64"], "\164\x65\155\x70\154\x61\x74\145\x5f\151\144" => $tplmessage["\x72\145\x63\157\x6d\155\x65\156\x64\137\152\165\x6e\151\157\x72"], "\x75\162\154" => $url, "\164\x6f\x70\x63\x6f\154\157\162" => '', "\x64\x61\164\x61" => array("\x66\151\162\x73\164" => array("\166\141\x6c\x75\x65" => $first, "\x63\157\154\157\162" => ''), "\x6b\x65\x79\167\x6f\x72\x64\61" => array("\166\141\x6c\165\x65" => $junior_member["\156\x69\143\153\x6e\141\x6d\145"], "\x63\x6f\154\x6f\162" => ''), "\x6b\145\x79\x77\x6f\x72\144\62" => array("\166\141\x6c\x75\145" => "\165\151\144\50{$junior["\152\x75\x6e\151\x6f\x72\137\x75\151\144"]}\51", "\x63\157\x6c\157\162" => ''), "\x6b\145\x79\167\x6f\162\x64\63" => array("\x76\x61\x6c\x75\x65" => date("\131\345\271\xb4\155\xe6\234\210\144\xe6\x97\xa5", time()), "\143\x6f\154\157\162" => ''), "\x72\145\155\x61\162\153" => array("\166\141\154\165\x65" => $remark, "\143\x6f\x6c\x6f\162" => "\346\204\x9f\350\xb0\xa2\xe6\x82\xa8\xe7\x9a\x84\xe6\224\xaf\346\x8c\201\xe3\200\x82"))); goto bcNBF; CJdqR: $url = $_W["\x73\151\164\145\x72\x6f\157\x74"] . "\x61\x70\x70\x2f" . $this->redefineUrl($this->createMobileUrl("\162\145\x63\154\145\x73\163\157\x6e", array("\157\160" => "\144\145\164\x61\x69\154\163", "\141\x63\x74\151\166\x69\x74\x79\137\x69\144" => $activity_id))); goto Q9Ggg; CIfHq: } public function updateOpenid($member) { goto FnZV3; sJwGd: pdo_update($this->table_member, array("\157\160\x65\x6e\x69\144" => $openid), array("\x75\x6e\151\x61\x63\x69\x64" => $_W["\x75\x6e\151\x61\143\x69\144"], "\165\x69\x64" => $member["\x75\151\144"])); goto baLre; cRZZu: g8SBV: goto sJwGd; cROaU: if (!(!empty($member["\x6f\x70\145\x6e\x69\x64"]) && !is_numeric($member["\x6f\160\145\156\151\144"]))) { goto Tf9E7; } goto OsFfx; FnZV3: global $_W; goto PSpUO; LHC6q: if (!(empty($openid) || is_numeric($openid))) { goto g8SBV; } goto Sm9MB; PSpUO: $openid = $_W["\157\x70\145\156\x69\x64"]; goto cROaU; Bcb7w: Tf9E7: goto LHC6q; OsFfx: return; goto Bcb7w; Sm9MB: return; goto cRZZu; baLre: } public function sendCouponByNewMember($member, $recmember, $setting) { goto Kt22J; yr43x: uJuMZ: goto r5ida; wkp2Z: $account_api = WeAccount::create(); goto AV9tG; Kf5Aw: nNdc_: goto OXZiY; VW2KQ: goto nNdc_; goto TmDog; zUqED: f6m05: goto kw5zx; LSVT_: if ($tplmessage["\162\x65\x63\x65\151\x76\x65\x5f\143\157\x75\x70\157\x6e"]) { goto x1z7p; } goto cztfE; fXJ1R: $account_api = WeAccount::create(); goto RnZwq; ndrbi: foreach ($recommend as $item) { goto Pnp0J; towXj: $coupon_amount += $coupon["\x61\x6d\x6f\165\156\x74"]; goto E9fkW; vO1hH: Nq2sx: goto JHSM_; fYmCf: ZbxzG: goto OfYjy; Pnp0J: $coupon = pdo_fetch("\x53\x45\114\x45\x43\124\40\x2a\x20\106\x52\x4f\x4d\x20" . tablename($this->table_mcoupon) . "\40\127\x48\105\122\105\40\151\144\x3d\x3a\151\x64", array("\72\x69\x64" => $item)); goto bnl5A; JHSM_: $recCoupon = array("\x75\x6e\x69\141\143\151\144" => $uniacid, "\x75\151\x64" => $recmember["\165\151\x64"], "\x61\x6d\x6f\165\x6e\x74" => $coupon["\141\x6d\x6f\165\x6e\x74"], "\x63\x6f\156\x64\151\164\x69\157\156\163" => $coupon["\x63\x6f\156\144\x69\x74\151\157\156\x73"], "\166\141\x6c\151\144\x69\164\171" => $coupon["\166\141\154\x69\x64\151\x74\x79\x5f\x74\171\x70\x65"] == 1 ? $coupon["\x64\141\x79\x73\x31"] : time() + $coupon["\144\x61\x79\x73\x32"] * 86400, "\x75\163\x65\137\x74\171\x70\x65" => $coupon["\165\x73\145\137\164\x79\160\x65"], "\x63\x61\164\145\x67\x6f\162\x79\x5f\x69\144" => $coupon["\143\x61\164\x65\147\x6f\x72\171\x5f\151\144"], "\154\145\163\x73\157\156\137\x69\x64\163" => $coupon["\154\x65\163\x73\x6f\x6e\137\151\144\163"], "\163\164\x61\x74\165\x73" => 0, "\163\x6f\165\x72\143\x65" => 3, "\x63\x6f\x75\160\x6f\156\137\151\x64" => $coupon["\x69\x64"], "\x61\x64\144\x74\151\x6d\145" => time()); goto pz3AX; YWinc: $t++; goto towXj; bnl5A: if (!empty($coupon)) { goto Nq2sx; } goto KLmqE; KLmqE: goto ZbxzG; goto vO1hH; E9fkW: vXT91: goto fYmCf; pz3AX: if (!pdo_insert($this->table_member_coupon, $recCoupon)) { goto vXT91; } goto YWinc; OfYjy: } goto wpBYR; bUsVd: A2VzA: goto RrRYl; TWgXN: $sendmessage1 = array("\x74\157\165\163\x65\162" => $newFans["\157\x70\145\x6e\151\144"], "\x74\145\155\x70\154\141\x74\145\x5f\x69\x64" => $tplmessage["\162\145\x63\x65\151\166\x65\137\143\x6f\165\x70\x6f\156"], "\165\x72\154" => $url, "\x74\157\160\143\x6f\x6c\x6f\x72" => "\x23\67\x42\x36\x38\105\105", "\144\x61\164\x61" => array("\146\x69\x72\x73\164" => array("\x76\141\154\x75\145" => $newFans["\x6e\x69\143\153\x6e\x61\155\x65"] . "\xef\274\x8c\xe7\xbb\210\344\xba\216\347\xad\x89\345\x88\xb0\346\x82\250\xe4\272\206\xe3\200\202\347\263\273\xe7\273\x9f\xe8\xb5\xa0\xe6\x82\250{$t}\xe5\xbc\xa0\xe6\x96\xb0\344\xbc\232\345\221\230\344\xb8\223\344\xba\253\xe4\xbc\230\xe6\x83\xa0\xe5\x88\270\345\xb7\262\xe5\217\221\346\x94\xbe\345\x88\xb0\346\202\250\347\x9a\204\345\xb8\220\xe5\217\xb7\xef\xbc\x8c\350\xaf\267\346\202\xa8\xe6\237\xa5\xe6\x94\xb6\343\200\202", "\x63\157\154\157\x72" => "\x23\x32\63\71\x32\x45\101"), "\153\145\171\x77\x6f\x72\144\61" => array("\166\141\154\165\x65" => "\344\xbb\xb7\xe5\200\274" . $coupon_amount . "\345\205\203\347\232\x84\344\274\x98\346\203\240\xe5\210\270" . $t . "\x20\345\xbc\240", "\143\x6f\x6c\157\x72" => ''), "\x6b\x65\x79\167\x6f\x72\x64\62" => array("\x76\141\x6c\x75\x65" => date("\131\xe5\xb9\xb4\x6d\xe6\234\210\x64\xe6\x97\245", time()), "\143\157\x6c\157\162" => ''), "\x72\145\x6d\x61\162\x6b" => array("\x76\141\x6c\165\x65" => $remark, "\x63\x6f\154\x6f\x72" => ''))); goto vEjpL; TmDog: x1z7p: goto TWgXN; nF0GQ: V8UgJ: goto zUqED; RnZwq: $account_api->sendCustomNotice($custom); goto lzvD7; ChQ_t: $t = $coupon_amount = 0; goto jk7g1; NowEj: $uniacid = $_W["\165\x6e\151\x61\143\151\144"]; goto B9HHl; cztfE: $custom = array("\x6d\163\147\x74\x79\160\x65" => "\x74\145\x78\164", "\x74\x65\x78\164" => array("\143\157\156\164\x65\x6e\x74" => urlencode($newFans["\x6e\x69\143\153\156\141\155\x65"] . "\357\xbc\x8c\xe7\273\x88\xe4\272\x8e\347\255\211\345\x88\260\xe6\202\250\344\xba\x86\343\200\x82\xe7\263\273\xe7\xbb\x9f\350\265\xa0\346\202\250" . $t . "\xe5\274\xa0\346\226\xb0\xe4\xbc\x9a\xe5\x91\x98\344\270\x93\344\272\253\344\xbc\x98\346\x83\240\xe5\x88\xb8\xe5\xb7\xb2\xe5\217\221\xe6\x94\xbe\345\x88\260\xe6\202\xa8\xe7\x9a\x84\345\xb8\x90\xe5\x8f\xb7\357\xbc\x8c\350\xaf\xb7\xe6\x82\xa8\xe6\237\xa5\346\224\266\xe3\200\x82\x5c\x6e\134\156\xe8\264\xa6\xe6\x88\267\345\220\215\xef\xbc\x9a" . $newFans["\x6e\x69\x63\153\x6e\141\155\x65"] . "\134\x6e\xe6\225\260\351\x87\217\357\274\x9a" . $t . "\345\xbc\240\134\x6e\xe6\227\266\351\227\xb4\xef\274\232" . date("\131\345\xb9\xb4\x6d\xe6\234\210\x64\346\x97\245", time()) . "\134\156\134\x6e" . $receive_coupon_format["\162\145\155\141\162\x6b"] . "\x3c\x61\x20\x68\162\145\x66\75\134\x22" . $url . "\x5c\42\76\347\202\271\xe5\207\273\xe6\xad\244\345\xa4\x84\xe5\217\257\346\237\xa5\347\x9c\213\xe8\257\xa6\346\203\205\74\57\141\x3e")), "\164\x6f\x75\x73\145\x72" => $newFans["\157\160\x65\x6e\151\x64"]); goto wkp2Z; B9HHl: $market = pdo_fetch("\x53\x45\x4c\105\x43\x54\40\x2a\40\106\122\x4f\x4d\40" . tablename($this->table_market) . "\x20\127\110\105\122\105\40\165\x6e\x69\x61\x63\x69\144\x3d\x3a\165\x6e\x69\x61\143\151\144", array("\x3a\165\x6e\151\x61\x63\151\144" => $uniacid)); goto VZ2rk; EZTP4: $recommend = json_decode($market["\x72\x65\143\157\x6d\155\x65\156\144"], true); goto HBToc; Wav6r: mrT6h: goto yr43x; nzDJO: if (empty($regGive)) { goto kZXBP; } goto K8ihk; HBToc: $remark = $receive_coupon_format["\162\145\155\141\x72\153"] ? $receive_coupon_format["\162\x65\x6d\x61\x72\153"] : "\xe7\202\xb9\345\207\273\350\xaf\xa6\346\x83\x85\xe5\217\xaf\346\237\xa5\347\x9c\213\xe6\202\250\347\232\204\345\270\220\xe5\217\267\xe4\274\230\346\x83\240\xe5\210\xb8\xe8\257\xa6\346\203\205\xe5\223\xa6\x7e"; goto SYpXw; lzvD7: goto V8UgJ; goto yW92R; JhIqM: $recFans = pdo_fetch("\123\105\x4c\x45\103\x54\40\x6f\160\x65\x6e\x69\x64\54\156\x69\143\153\x6e\141\155\x65\x20\106\122\117\115\x20" . tablename($this->table_fans) . "\40\x57\x48\105\122\x45\x20\165\151\x64\x3d\x3a\165\151\x64", array("\72\x75\151\144" => $recmember["\x75\x69\x64"])); goto vJG8H; s2y9F: $receive_coupon_format = json_decode($tplmessage["\x72\145\143\145\151\x76\145\x5f\143\157\165\160\x6f\x6e\x5f\x66\157\x72\x6d\x61\164"], true); goto KNBjB; bvUYa: $recTotal = pdo_fetchcolumn("\123\x45\x4c\105\x43\124\x20\x43\x4f\x55\116\124\50\52\51\x20\106\122\117\115\40" . tablename($this->table_member_coupon) . "\x20\x57\x48\x45\x52\x45\40\165\x69\144\75\x3a\165\151\144\40\x41\116\x44\40\x73\x6f\165\x72\x63\x65\x3d\x3a\x73\157\x75\x72\x63\x65", array("\72\165\151\144" => $recmember["\165\x69\x64"], "\163\157\x75\162\x63\x65" => 3)); goto I5r3y; jk7g1: foreach ($regGive as $item) { goto Jbr3c; ueKdq: $t++; goto gJ96u; i7E__: if (!pdo_insert($this->table_member_coupon, $regCoupon)) { goto FbOZP; } goto ueKdq; Jbr3c: $coupon = pdo_fetch("\123\x45\x4c\x45\103\x54\x20\x2a\40\x46\x52\117\115\x20" . tablename($this->table_mcoupon) . "\40\127\x48\x45\x52\105\x20\x69\x64\75\72\x69\x64", array("\72\x69\x64" => $item)); goto iuh_a; ge9Xg: vUoq_: goto t9epV; HUW3T: $regCoupon = array("\x75\156\x69\141\143\x69\x64" => $uniacid, "\165\x69\144" => $member["\x75\x69\x64"], "\141\155\x6f\x75\x6e\x74" => $coupon["\x61\155\157\x75\x6e\x74"], "\x63\157\x6e\x64\151\164\x69\157\156\x73" => $coupon["\143\x6f\156\x64\x69\164\151\x6f\156\x73"], "\x76\141\154\151\x64\x69\x74\x79" => $coupon["\x76\x61\x6c\151\x64\x69\164\171\137\164\171\160\145"] == 1 ? $coupon["\x64\141\171\163\61"] : time() + $coupon["\144\141\x79\x73\x32"] * 86400, "\x75\x73\x65\137\164\x79\160\145" => $coupon["\165\x73\145\137\164\x79\x70\145"], "\x63\141\x74\145\x67\157\x72\171\137\x69\144" => $coupon["\x63\141\164\x65\x67\x6f\x72\171\x5f\151\144"], "\154\x65\x73\x73\157\156\137\151\144\163" => $coupon["\x6c\x65\x73\x73\x6f\x6e\137\151\x64\x73"], "\x73\x74\x61\164\x75\x73" => 0, "\163\x6f\165\x72\143\145" => 6, "\x63\x6f\165\160\x6f\x6e\x5f\151\144" => $coupon["\151\144"], "\x61\x64\144\x74\x69\x6d\x65" => time()); goto i7E__; iuh_a: if (!empty($coupon)) { goto fKWzz; } goto JV64i; Pqvae: FbOZP: goto ge9Xg; gJ96u: $coupon_amount += $coupon["\x61\x6d\157\165\x6e\164"]; goto Pqvae; FFvDX: fKWzz: goto HUW3T; JV64i: goto vUoq_; goto FFvDX; t9epV: } goto bUsVd; vEjpL: $this->send_template_message($sendmessage1, $uniacid); goto Kf5Aw; eZqFz: Vo1Ys: goto EijQa; wpBYR: zaga2: goto TpGdu; K8ihk: $regTotal = pdo_fetchcolumn("\x53\105\x4c\105\103\x54\40\x43\x4f\x55\x4e\124\50\52\x29\x20\x46\122\x4f\x4d\40" . tablename($this->table_member_coupon) . "\x20\127\110\x45\122\105\x20\165\151\144\x3d\x3a\x75\151\x64\x20\101\x4e\x44\x20\x73\157\165\x72\143\x65\x3d\x3a\x73\x6f\165\x72\x63\145", array("\72\165\x69\144" => $member["\165\151\144"], "\163\x6f\165\x72\x63\145" => 6)); goto oM4Vm; mfqpX: if (!$market["\x72\145\x63\x6f\x6d\155\145\x6e\x64\x5f\x74\x69\x6d\145"]) { goto uJuMZ; } goto bvUYa; OKiOS: $custom = array("\x6d\163\147\164\x79\x70\x65" => "\x74\x65\x78\164", "\x74\x65\170\x74" => array("\x63\x6f\156\x74\x65\156\164" => urlencode("\xe6\x81\xad\345\226\234\xe6\202\xa8\346\x88\220\xe5\x8a\237\346\x8e\250\350\215\220\344\xb8\213\xe7\272\247\xe6\x88\x90\xe5\221\x98\xef\xbc\214\xe7\263\xbb\347\273\237\xe8\xb5\xa0\346\202\xa8" . $t . "\345\xbc\240\xe4\xbc\230\346\x83\240\345\x88\270\xe5\267\262\xe5\x8f\x91\xe6\x94\276\345\210\xb0\xe6\x82\250\347\232\x84\xe5\xb8\x90\345\x8f\xb7\357\xbc\x8c\xe8\xaf\267\xe6\263\xa8\346\204\217\346\237\xa5\xe6\x94\xb6\343\200\x82\x5c\156\x5c\156\xe8\xb4\246\346\210\267\xe5\x90\215\357\xbc\232" . $recFans["\156\x69\143\153\x6e\141\x6d\x65"] . "\x5c\156\346\225\xb0\351\x87\217\357\xbc\232" . $t . "\345\274\240\x5c\x6e\xe6\x97\266\xe9\227\xb4\357\xbc\x9a" . date("\131\345\271\264\x6d\346\x9c\210\x64\346\227\245", time()) . "\134\156\x5c\156" . $receive_coupon_format["\x72\145\x6d\x61\162\x6b"] . "\74\141\x20\150\162\145\x66\x3d\x5c\x22" . $url . "\134\x22\x3e\xe7\x82\271\345\x87\xbb\346\255\244\345\xa4\204\345\x8f\xaf\xe6\x9f\245\xe7\234\213\xe8\xaf\246\xe6\203\205\74\57\x61\76")), "\x74\157\165\163\145\x72" => $recFans["\157\x70\x65\x6e\x69\144"]); goto fXJ1R; KNBjB: $regGive = json_decode($market["\162\145\147\x5f\x67\x69\166\x65"], true); goto EZTP4; OXZiY: YhuGW: goto eZqFz; TpGdu: if (!$t) { goto f6m05; } goto JhIqM; EijQa: kZXBP: goto GTaKi; qk9we: $sendmessage2 = array("\164\157\x75\163\145\162" => $recFans["\x6f\x70\145\x6e\x69\144"], "\x74\145\x6d\x70\154\141\164\145\137\151\x64" => $tplmessage["\x72\x65\143\x65\151\166\x65\x5f\x63\x6f\165\x70\157\x6e"], "\165\162\154" => $url, "\164\157\x70\143\x6f\154\157\162" => "\43\67\x42\x36\x38\x45\105", "\144\141\164\141" => array("\146\151\x72\x73\164" => array("\x76\141\x6c\165\145" => "\346\201\255\345\226\234\346\x82\xa8\346\210\220\xe5\x8a\237\346\216\250\350\x8d\x90\344\270\x8b\xe7\272\247\xe6\x88\x90\345\221\x98\xef\xbc\x8c\xe7\263\xbb\347\273\x9f\350\265\xa0\346\202\250{$t}\xe5\274\240\344\274\x98\346\x83\240\xe5\210\xb8\xe5\xb7\262\345\217\221\xe6\224\xbe\xe5\210\260\346\x82\xa8\xe7\x9a\x84\345\270\220\345\217\267\xef\xbc\214\350\257\xb7\346\263\250\346\204\217\xe6\x9f\245\xe6\224\xb6\343\x80\202", "\x63\x6f\154\157\x72" => "\x23\x32\63\x39\62\105\101"), "\153\145\x79\x77\157\x72\144\x31" => array("\x76\141\x6c\x75\x65" => "\xe4\xbb\xb7\345\x80\xbc" . $coupon_amount . "\345\x85\x83\347\232\x84\xe4\274\230\346\x83\240\345\x88\270" . $t . "\40\345\xbc\240", "\143\157\154\x6f\x72" => ''), "\153\x65\x79\167\157\x72\x64\x32" => array("\x76\141\154\165\x65" => date("\x59\xe5\271\xb4\155\xe6\234\x88\144\xe6\x97\xa5", time()), "\143\157\154\x6f\162" => ''), "\162\x65\155\141\162\x6b" => array("\166\141\x6c\165\x65" => $remark, "\143\157\154\x6f\x72" => ''))); goto Tx_WV; JMp7B: return; goto Wav6r; SYpXw: $url = $_W["\x73\151\164\x65\162\x6f\x6f\x74"] . "\x61\160\160\57" . $this->redefineUrl($this->createMobileUrl("\143\157\x75\160\x6f\x6e")); goto nzDJO; RrRYl: if (!$t) { goto YhuGW; } goto JrGdj; I5r3y: if (!($recTotal >= $market["\162\x65\x63\x6f\x6d\155\x65\x6e\144\x5f\x74\x69\x6d\145"])) { goto mrT6h; } goto JMp7B; GTaKi: if (!(!empty($recommend) && !empty($recmember))) { goto PMCM7; } goto mfqpX; Tx_WV: $this->send_template_message($sendmessage2, $uniacid); goto nF0GQ; vJG8H: if ($tplmessage["\162\x65\x63\x65\151\x76\x65\x5f\x63\157\x75\x70\157\x6e"]) { goto MfcE7; } goto OKiOS; oM4Vm: if (!(!$regTotal && $member)) { goto Vo1Ys; } goto ChQ_t; yW92R: MfcE7: goto qk9we; Kt22J: global $_W; goto NowEj; VZ2rk: $tplmessage = pdo_fetch("\123\x45\x4c\105\x43\124\40\x72\x65\143\145\x69\x76\x65\x5f\x63\157\x75\x70\x6f\156\54\x72\x65\143\145\x69\166\145\x5f\x63\157\x75\x70\157\156\x5f\x66\157\x72\155\x61\164\x20\x46\x52\x4f\x4d\40" . tablename($this->table_tplmessage) . "\40\x57\110\x45\x52\x45\x20\165\x6e\151\x61\143\151\144\75\72\x75\156\151\x61\x63\151\x64", array("\72\165\x6e\151\141\x63\x69\x64" => $uniacid)); goto s2y9F; AV9tG: $account_api->sendCustomNotice($custom); goto VW2KQ; JrGdj: $newFans = pdo_fetch("\123\105\x4c\105\x43\124\40\x6f\x70\x65\156\x69\144\x2c\156\x69\x63\x6b\x6e\141\x6d\145\40\106\122\117\115\x20" . tablename($this->table_fans) . "\40\127\110\105\x52\105\x20\165\x69\x64\x3d\72\165\x69\x64", array("\x3a\x75\x69\x64" => $member["\165\x69\x64"])); goto LSVT_; r5ida: $t = $coupon_amount = 0; goto ndrbi; kw5zx: PMCM7: goto A8z_n; A8z_n: } public function setMemberParentId($member, $recmember, $setting, $comsetting, $source_id) { goto yXWei; nm040: WzNTx: goto TGUQd; yXWei: $recid = $recmember["\x73\164\x61\164\x75\163"] == 1 ? $recmember["\165\151\144"] : 0; goto YKgG8; TGUQd: $recmember2 = pdo_fetch("\x53\105\x4c\x45\x43\x54\40\52\x20\x46\x52\117\x4d\40" . tablename($this->table_member) . "\40\127\x48\105\x52\x45\40\x75\151\x64\75\72\x75\151\x64", array("\72\165\151\x64" => $recmember["\x70\x61\x72\145\156\164\151\x64"])); goto sb2vs; ay5DM: $recmember3 = pdo_fetch("\x53\x45\x4c\x45\x43\x54\x20\x2a\40\106\122\117\x4d\x20" . tablename($this->table_member) . "\40\x57\110\105\122\x45\x20\x75\x69\x64\75\72\x75\151\x64", array("\x3a\165\x69\x64" => $recmember2["\x70\141\162\145\x6e\x74\x69\x64"])); goto K2U9z; Chci1: $this->sendNoticeToMember1($member, $recmember, $setting, $source_id, $comsetting); goto nm040; LHMLm: $this->sendNoticeToMember2($member, $recmember2, $setting, $comsetting); goto Cctl8; K2U9z: if (!($comsetting["\x69\x73\x5f\163\x61\154\145"] == 1 && $recmember3["\165\151\144"] > 0)) { goto w2RL4; } goto UZXp7; YKgG8: if (!($comsetting["\x69\163\x5f\163\141\x6c\x65"] == 1 && $recid > 0)) { goto WzNTx; } goto Chci1; Cctl8: x7571: goto ay5DM; UZXp7: $this->sendNoticeToMember3($member, $recmember3, $setting, $comsetting); goto T26MS; T26MS: w2RL4: goto I6L_N; sb2vs: if (!($comsetting["\151\163\x5f\x73\x61\154\x65"] == 1 && $recmember2["\x75\151\x64"] > 0)) { goto x7571; } goto LHMLm; I6L_N: } public function recordRelation($uid, $parentid, $operator_uid = 0, $operator_name = "\xe7\263\273\xe7\273\x9f") { goto lAQpi; e0YMC: $bind_data = array("\x75\x6e\x69\141\x63\x69\x64" => $_W["\165\x6e\151\x61\143\151\x64"], "\160\x61\162\x65\156\164\151\144" => $parentid, "\165\x69\x64" => $uid, "\157\x70\x65\162\141\164\157\x72\137\165\151\144" => $operator_uid, "\x6f\160\x65\x72\141\164\x6f\x72\x5f\156\141\155\x65" => $operator_name, "\141\x64\x64\164\151\155\x65" => time()); goto k247t; k247t: pdo_insert($this->table_member_bind, $bind_data); goto uA0Jx; lAQpi: global $_W; goto e0YMC; uA0Jx: } public function sendNoticeToMember1($member, $recmember, $setting, $source_id, $comsetting) { goto FqeHs; ylbBS: ZbEVw: goto VJg1n; CO0WH: return; goto fQb9U; w7tkY: if (!($comsetting["\x73\x61\x6c\145\x5f\x72\x61\156\153"] == 2)) { goto ghdts; } goto lV1up; zA9j1: $level = pdo_fetch("\123\x45\x4c\105\103\x54\40\x2a\x20\x46\x52\x4f\115\40" . tablename($this->table_commission_level) . "\x20\x57\x48\105\122\x45\x20\x69\144\x3d\x3a\x69\x64", array("\72\151\144" => $recmember["\x61\147\145\156\x74\137\x6c\x65\x76\145\154"])); goto Sm2ra; zQa9e: if (!empty($member_vip)) { goto SUStg; } goto CO0WH; Q4Q1Z: if (!($recmember["\x61\x67\x65\x6e\164\x5f\154\x65\x76\145\154"] > 0)) { goto Vunck; } goto zA9j1; iF_lO: k5JvN: goto BWwvS; NTH9d: mc_credit_update($recmember["\x75\151\x64"], "\x63\x72\x65\144\x69\164\61", $rec_income["\x63\162\x65\x64\x69\x74\x31"], $log); goto HVfY9; KxPtw: C50zx: goto PKJVe; x5cf9: if (!(floatval($rec_income["\x63\x72\145\144\x69\164\61"]) > 0)) { goto y5cQg; } goto B99kw; ILC2A: Q1Jz9: goto g0O_A; C4uIY: if (!(floatval($rec_income["\x63\x72\145\144\151\x74\x32"]) > 0)) { goto vXErX; } goto gthfr; BVdV0: goto k5JvN; goto ILC2A; uX4Ns: if (!($comsetting["\154\x65\166\145\x6c"] >= 1)) { goto ZbEVw; } goto Jdy98; ukxjb: $commission = $level["\x63\x6f\x6d\x6d\151\163\163\151\x6f\x6e\62"]; goto USTrF; Jdy98: $commission = unserialize($comsetting["\143\157\155\x6d\151\x73\x73\151\157\x6e"]); goto o2Dhs; Sm2ra: Vunck: goto m292C; HVfY9: y5cQg: goto C4uIY; gnD6j: $rec_income = json_decode($comsetting["\162\x65\143\x5f\151\156\x63\x6f\155\x65"], true); goto x5cf9; gthfr: pdo_update($this->table_member, array("\156\157\x70\141\x79\137\x63\x6f\x6d\155\151\163\163\x69\157\156" => $recmember["\156\157\x70\141\171\137\143\x6f\155\x6d\151\x73\x73\151\157\x6e"] + $rec_income["\143\x72\145\x64\x69\x74\62"]), array("\165\151\x64" => $recmember["\x75\x69\x64"])); goto cCXCt; FmbGp: $this->sendNewUserNoticeToRecmember($fans["\157\x70\x65\x6e\x69\144"], $setting, $member["\x6e\151\143\153\x6e\141\x6d\145"], $commission, $type = 1, $rec_income); goto ylbBS; g0O_A: $commission = $level["\143\157\155\155\x69\163\x73\x69\x6f\156\61"]; goto iF_lO; WauRi: $commission = $commission["\x63\x6f\x6d\155\151\x73\x73\151\x6f\156\x32"]; goto rxTjf; USTrF: nQTMU: goto MCJpb; FqeHs: global $_W; goto uX4Ns; o2Dhs: $fans = pdo_fetch("\x53\x45\x4c\105\x43\x54\x20\156\x69\143\153\156\x61\x6d\x65\x2c\x6f\160\x65\156\x69\x64\40\106\122\117\x4d\40" . tablename($this->table_fans) . "\40\x20\x57\110\105\x52\105\x20\x75\151\x64\75\72\165\x69\144", array("\72\165\x69\x64" => $recmember["\x75\x69\x64"])); goto gnD6j; m292C: if ($comsetting["\163\145\154\146\137\x73\x61\x6c\x65"] == 1) { goto C50zx; } goto sHA57; MoOJj: zIlO0: goto ukxjb; PKJVe: if (!empty($level)) { goto zIlO0; } goto WauRi; Qgh0y: $log = array(0, "\347\x9b\xb4\xe6\x8e\245\346\216\xa8\350\215\x90\344\270\213\xe7\272\xa7\346\x88\220\345\221\x98\xe5\212\240\xe5\x85\xa5", "\x66\x79\137\x6c\145\163\163\x6f\x6e\166\x32"); goto NTH9d; RpUNv: pdo_insert($this->table_commission_log, $logarr); goto c37N2; c37N2: vXErX: goto Q4Q1Z; rxTjf: goto nQTMU; goto MoOJj; fQb9U: SUStg: goto qo4jl; qo4jl: ghdts: goto FmbGp; BWwvS: goto UROt3; goto KxPtw; lV1up: $member_vip = pdo_fetchall("\123\105\114\105\x43\124\x20\x2a\x20\106\x52\117\115\x20" . tablename($this->table_member_vip) . "\40\127\110\105\x52\105\x20\165\151\x64\x3d\72\165\x69\x64\40\101\116\104\x20\x76\141\154\x69\144\151\164\x79\x3e\x3a\166\141\x6c\x69\144\x69\164\x79", array("\72\x75\x69\x64" => $recmember["\x75\151\144"], "\72\166\141\x6c\x69\144\x69\x74\x79" => time())); goto zQa9e; MCJpb: UROt3: goto w7tkY; B99kw: load()->model("\x6d\x63"); goto Qgh0y; cCXCt: $logarr = array("\165\x6e\151\141\x63\x69\x64" => $_W["\165\x6e\x69\x61\x63\x69\x64"], "\x6f\x72\144\145\162\x69\144" => $source_id, "\165\151\144" => $recmember["\x75\151\144"], "\142\157\157\153\156\x61\155\145" => "\346\216\xa8\xe8\x8d\220\344\xb8\x8b\xe7\272\247\xe6\210\x90\345\221\230", "\x63\x68\x61\156\x67\x65\137\x6e\x75\x6d" => $rec_income["\x63\x72\x65\x64\x69\164\x32"], "\147\x72\141\x64\x65" => 1, "\162\x65\155\x61\x72\x6b" => "\xe7\233\xb4\xe6\216\245\xe6\x8e\250\xe8\x8d\220\xe4\xb8\213\347\272\247\346\x88\220\345\x91\230\345\212\240\xe5\x85\xa5", "\142\165\x79\x65\162\x5f\x75\151\144" => $member["\165\151\144"], "\141\144\x64\164\151\155\145" => time()); goto RpUNv; sHA57: if (!empty($level)) { goto Q1Jz9; } goto NlRZS; NlRZS: $commission = $commission["\143\x6f\155\155\151\x73\x73\151\157\156\61"]; goto BVdV0; VJg1n: } public function sendNoticeToMember2($member, $recmember, $setting, $comsetting) { goto ZeQpe; MfoPb: $commission = unserialize($comsetting["\x63\157\x6d\155\x69\163\163\x69\x6f\x6e"]); goto sx3Lm; woSic: zxCr5: goto HUOxC; oqPo0: goto Dz9YD; goto bre0n; KUYN4: RMPkI: goto p6GRK; bre0n: YZDrB: goto UyLPg; P6CFv: $this->sendNewUserNoticeToRecmember($fans["\x6f\x70\x65\x6e\x69\144"], $setting, $member["\x6e\151\143\153\156\x61\155\x65"], $commission, $type = 2, $rec_income); goto qMfGv; UyLPg: $commission = $level["\x63\x6f\x6d\155\151\163\x73\151\x6f\x6e\62"]; goto nBix1; OimEg: $level = pdo_fetch("\123\x45\x4c\x45\x43\x54\x20\52\x20\106\122\x4f\x4d\40" . tablename($this->table_commission_level) . "\x20\127\110\105\122\x45\x20\151\144\x3d\x3a\151\x64", array("\x3a\151\x64" => $recmember["\141\147\x65\x6e\164\137\x6c\x65\166\145\154"])); goto KUYN4; M_G2U: if (!($comsetting["\x6c\x65\x76\x65\154"] >= 2)) { goto IEcqD; } goto MfoPb; HUOxC: RGptQ: goto P6CFv; im6Zb: goto zxCr5; goto wdxf7; ZeQpe: global $_W; goto M_G2U; t0ww4: dJk3z: goto xKa24; TF_Ro: goto RGptQ; goto t0ww4; nBix1: Dz9YD: goto TF_Ro; qMfGv: IEcqD: goto f0lbs; Zk2Lp: if (!($recmember["\141\x67\x65\156\x74\137\x6c\145\166\x65\154"] > 0)) { goto RMPkI; } goto OimEg; PltR3: $commission = $commission["\143\x6f\x6d\155\151\163\x73\x69\x6f\156\62"]; goto oqPo0; sx3Lm: $fans = pdo_fetch("\123\105\114\105\103\x54\40\156\x69\x63\x6b\x6e\141\x6d\145\54\x6f\160\x65\156\151\x64\x20\106\x52\x4f\x4d\x20" . tablename($this->table_fans) . "\40\x20\127\110\105\x52\105\40\x75\151\144\75\x3a\x75\x69\144", array("\72\165\x69\144" => $recmember["\x75\x69\144"])); goto Zk2Lp; xVF3K: if (!empty($level)) { goto YZDrB; } goto PltR3; xKa24: if (!empty($level)) { goto o6MEI; } goto SApFV; SApFV: $commission = $commission["\x63\157\155\155\x69\x73\163\x69\157\156\x33"]; goto im6Zb; wdxf7: o6MEI: goto FBdug; p6GRK: if ($comsetting["\163\145\x6c\146\137\x73\141\154\x65"] == 1) { goto dJk3z; } goto xVF3K; FBdug: $commission = $level["\x63\157\155\155\151\x73\163\151\157\x6e\63"]; goto woSic; f0lbs: } public function sendNoticeToMember3($member, $recmember, $setting, $comsetting) { goto d0tsG; R_bqr: if (!($comsetting["\154\145\166\145\x6c"] >= 3)) { goto yem5c; } goto sp6hr; g3Boi: yem5c: goto M0dIa; o3zmX: $this->sendNewUserNoticeToRecmember($fans["\x6f\160\x65\x6e\151\144"], $setting, $member["\x6e\151\143\153\x6e\x61\155\145"], $commission, $type = 3, $rec_income); goto g3Boi; Igdqn: $fans = pdo_fetch("\123\x45\x4c\105\x43\x54\40\156\151\x63\153\x6e\141\155\x65\54\x6f\x70\x65\x6e\x69\144\x20\x46\122\117\x4d\40" . tablename($this->table_fans) . "\x20\40\x57\x48\x45\x52\x45\40\165\x69\144\75\x3a\165\151\144", array("\x3a\x75\x69\x64" => $recmember["\x75\x69\144"])); goto xfeVv; SQdMZ: goto Mb0TY; goto t7x7i; fdXPS: $commission = $commission["\143\x6f\x6d\155\151\x73\x73\151\157\156\63"]; goto g0dS7; dIFZw: if ($comsetting["\x73\x65\x6c\x66\x5f\x73\141\x6c\x65"] == 1) { goto ntlrQ; } goto YzAoV; YzAoV: if (!empty($level)) { goto AV2qk; } goto fdXPS; cHNiA: $commission = 0; goto h2DgV; g0dS7: goto aEGTS; goto Zh_mU; Mx5Ed: $level = pdo_fetch("\x53\x45\x4c\105\x43\124\x20\x2a\x20\106\x52\117\x4d\x20" . tablename($this->table_commission_level) . "\40\x57\110\x45\x52\x45\40\151\x64\75\x3a\151\x64", array("\x3a\151\144" => $recmember["\x61\x67\x65\x6e\164\137\x6c\145\x76\145\154"])); goto PUxXj; h2DgV: Mb0TY: goto o3zmX; PUxXj: rkuws: goto dIFZw; xfeVv: if (!($recmember["\x61\147\x65\x6e\164\137\x6c\x65\166\145\x6c"] > 0)) { goto rkuws; } goto Mx5Ed; AXBqr: $commission = $level["\143\157\x6d\155\151\x73\163\151\157\x6e\x33"]; goto jX2GV; sp6hr: $commission = unserialize($comsetting["\x63\157\155\x6d\151\x73\x73\151\157\156"]); goto Igdqn; t7x7i: ntlrQ: goto cHNiA; d0tsG: global $_W; goto R_bqr; Zh_mU: AV2qk: goto AXBqr; jX2GV: aEGTS: goto SQdMZ; M0dIa: } public function sendNewUserNoticeToRecmember($toOpenid, $setting, $nickname, $commission, $type, $rec_income = array()) { goto hNGVX; JhJNx: if (!($rec_income["\x63\x72\145\144\151\x74\61"] > 0)) { goto dB62u; } goto A1gF8; hto0F: $this->send_template_message($send, $setting["\165\x6e\x69\x61\143\x69\144"]); goto Ltv2Z; FCau0: if (!($rec_income["\143\x72\145\x64\x69\x74\x31"] > 0 || $rec_income["\143\x72\145\144\x69\164\x32"] > 0)) { goto v427a; } goto sBfKE; fVqNh: $award_tip .= "\xef\xbc\x8c\xef\277\245" . $rec_income["\143\162\x65\144\151\164\x32"] . "\xe4\275\243\351\207\221\357\xbc\x8c\xe5\267\xb2\xe5\x8f\221\346\224\xbe\xe5\210\260\xe6\x82\xa8\xe7\232\x84\xe8\264\246\346\x88\267\343\200\x82"; goto WGr_t; A1gF8: $award_tip .= $rec_income["\143\162\x65\144\x69\164\61"] . "\xe4\xb8\xaa\xe7\247\xaf\345\x88\x86"; goto x8ZRV; w2UHp: $newjoin_format = json_decode($tplmessage["\156\145\x77\x6a\x6f\x69\x6e\137\146\x6f\x72\155\x61\164"], true); goto zdb9v; WGr_t: waGvS: goto b8PqJ; fBgR1: if (!($rec_income["\143\162\x65\144\x69\x74\62"] > 0)) { goto waGvS; } goto fVqNh; x8ZRV: dB62u: goto fBgR1; G6B4D: $tplmessage = pdo_fetch("\x53\105\x4c\x45\x43\x54\x20\x6e\x65\x77\152\157\x69\156\x2c\40\156\x65\x77\x6a\157\x69\156\137\x66\x6f\162\x6d\x61\x74\x20\x46\122\x4f\x4d\40" . tablename($this->table_tplmessage) . "\x20\127\110\x45\x52\105\40\x75\156\x69\x61\x63\151\144\x3d\72\165\x6e\x69\x61\x63\151\144", array("\x3a\165\156\151\x61\x63\151\144" => $setting["\x75\156\151\141\x63\x69\144"])); goto w2UHp; zdb9v: $send = array("\164\157\x75\163\145\162" => $toOpenid, "\x74\145\155\160\x6c\141\x74\145\x5f\x69\x64" => $tplmessage["\x6e\145\167\152\x6f\x69\156"], "\165\x72\x6c" => $_W["\x73\151\x74\145\x72\157\157\164"] . "\x61\160\x70\x2f" . $this->redefineUrl($this->createMobileUrl("\x74\x65\x61\155", array("\x6c\145\x76\145\x6c" => 1))), "\164\x6f\x70\x63\157\x6c\x6f\x72" => "\43\145\x32\65\x38\x30\x34", "\x64\141\x74\x61" => array("\x66\x69\x72\163\164" => array("\166\x61\x6c\x75\145" => $newjoin_format["\x66\151\162\163\164"] ? $newjoin_format["\x66\151\162\x73\x74"] : "\346\201\255\xe5\226\x9c\xe6\x82\xa8\xe6\x9c\211\346\x96\260\xe7\x9a\x84\346\x88\x90\345\x91\x98\345\212\xa0\345\205\xa5" . $award_tip, "\x63\x6f\154\157\x72" => ''), "\x6b\145\x79\167\x6f\x72\x64\61" => array("\166\x61\154\165\145" => $nickname ? $nickname . "\50{$type}\x29" : "\50{$type}\51", "\x63\x6f\154\x6f\x72" => ''), "\x6b\145\x79\167\x6f\x72\144\62" => array("\x76\x61\x6c\x75\145" => date("\x59\345\271\264\x6d\xe6\x9c\x88\144\346\x97\245", time()), "\x63\157\154\157\162" => ''), "\x72\x65\x6d\x61\162\x6b" => array("\166\x61\x6c\x75\x65" => $newjoin_format["\x72\145\x6d\141\162\153"] ? $newjoin_format["\162\x65\155\x61\162\153"] : "\xe6\202\250\347\232\204\344\270\213\xe7\xba\xa7\xe6\210\x90\345\221\x98\350\xbf\x9b\350\xa1\x8c\xe6\xb6\x88\xe8\xb4\271\xe6\227\xb6\357\274\x8c\346\x82\xa8\xe5\xb0\x86\346\234\x89\346\x9c\272\344\xbc\232\xe8\x8e\xb7\xe5\276\227\345\xa5\226\xe5\212\xb1\x7e", "\143\157\154\157\x72" => ''))); goto VRMDF; Ltv2Z: hSvDz: goto Ae1cZ; VRMDF: if (!($commission > 0)) { goto hSvDz; } goto hto0F; Bb3yJ: TdfZ8: goto G6B4D; b8PqJ: v427a: goto Bb3yJ; hNGVX: global $_W; goto sebpZ; sebpZ: if (!($type == 1)) { goto TdfZ8; } goto FCau0; sBfKE: $award_tip = "\357\274\x8c\xe7\xb3\xbb\xe7\273\x9f\345\245\226\345\212\xb1\xe6\202\250"; goto JhJNx; Ae1cZ: } public function systemEvaluate($evaluate) { goto OlF3s; OlF3s: $evaluate_score = pdo_get($this->table_evaluate_score, array("\165\x6e\151\x61\143\151\144" => $evaluate["\165\x6e\x69\x61\x63\x69\x64"], "\x6c\x65\x73\163\x6f\156\x69\144" => $evaluate["\x6c\145\x73\163\157\x6e\x69\144"])); goto UuM35; ehTzE: $data["\163\x63\x6f\x72\x65"] = round($data["\164\157\164\x61\154\x5f\147\x6f\157\x64\x73"] / $data["\164\157\164\141\154\x5f\x6e\165\x6d\142\x65\x72"], 2); goto wtEd_; nJUyI: pdo_insert($this->table_evaluate_score, $data); goto Y0bjR; WROU0: $data["\x74\157\x74\141\x6c\137\x75\156\144\145\x72\x73\x74\x61\x6e\x64"] = $evaluate_score["\164\x6f\164\141\154\137\165\156\x64\x65\162\x73\x74\x61\156\144"] + $evaluate["\165\156\x64\x65\x72\x73\x74\x61\156\144\137\x73\x63\157\x72\x65"]; goto JKH_B; C18iA: $total = pdo_fetchcolumn("\x53\105\x4c\105\103\x54\40\x43\x4f\125\116\124\x28\x2a\x29\40\x46\x52\x4f\115\40" . tablename($this->table_evaluate) . "\40\127\110\105\122\x45\x20\165\156\x69\141\x63\151\144\x3d\x3a\165\x6e\151\x61\143\151\x64\40\x41\x4e\104\x20\x6c\145\163\163\x6f\156\151\x64\75\72\154\145\x73\163\157\156\151\x64\x20\101\x4e\x44\x20\163\x74\x61\164\165\163\x3d\72\x73\164\x61\164\165\x73", array("\x3a\x75\x6e\151\x61\143\x69\144" => $evaluate["\165\156\x69\x61\x63\x69\x64"], "\x3a\154\145\163\x73\157\x6e\151\x64" => $evaluate["\x6c\145\163\163\x6f\x6e\x69\x64"], "\x3a\163\164\x61\164\165\x73" => 1)); goto i2lFW; UuM35: if (!$evaluate_score) { goto vo__5; } goto sOkhG; WIBQT: $data["\x75\x6e\144\x65\162\163\x74\x61\x6e\x64\x5f\x73\x63\157\162\145"] = round($data["\164\157\x74\x61\x6c\x5f\165\156\x64\x65\162\x73\164\x61\156\x64"] / $data["\164\x6f\x74\141\x6c\x5f\156\x75\155\x62\145\162"], 2); goto RlV0I; Y0bjR: pBBGX: goto Z7P8k; RDj0h: $data["\164\157\x74\141\x6c\x5f\147\154\x6f\142\141\154"] = $evaluate_score["\164\157\164\x61\x6c\x5f\x67\154\x6f\x62\141\154"] + $evaluate["\147\x6c\157\x62\x61\154\137\163\x63\x6f\x72\x65"]; goto rv_Xc; nWWFa: $data = array("\165\x6e\151\x61\x63\151\x64" => $evaluate["\165\x6e\151\x61\143\x69\x64"], "\x6c\x65\163\163\x6f\x6e\151\x64" => $evaluate["\x6c\x65\163\x73\x6f\156\x69\144"], "\163\143\157\162\x65" => round($good / $total, 2), "\164\157\164\x61\154\x5f\147\x6f\157\x64\163" => $good, "\164\157\164\x61\154\x5f\x67\x6c\x6f\142\141\154" => ($total - 1) * 5 + $evaluate["\147\154\157\142\x61\x6c\137\x73\143\x6f\162\145"], "\x74\x6f\x74\x61\x6c\x5f\143\x6f\156\164\145\x6e\164" => ($total - 1) * 5 + $evaluate["\143\157\156\164\x65\156\x74\137\x73\143\x6f\x72\x65"], "\164\157\164\x61\154\x5f\165\156\x64\145\x72\x73\164\141\156\x64" => ($total - 1) * 5 + $evaluate["\x75\x6e\x64\145\x72\x73\164\141\x6e\x64\x5f\x73\x63\x6f\x72\145"], "\164\157\x74\141\x6c\137\x6e\165\155\142\145\x72" => $total, "\x75\x70\x64\141\164\145\137\x74\x69\x6d\x65" => time()); goto ZepjJ; i2lFW: $good = pdo_fetchcolumn("\123\x45\x4c\x45\x43\x54\x20\x43\x4f\x55\116\124\x28\x2a\51\40\106\122\x4f\x4d\40" . tablename($this->table_evaluate) . "\x20\127\x48\105\122\105\40\x75\x6e\x69\141\x63\151\144\x3d\72\165\x6e\x69\x61\x63\x69\x64\x20\x41\116\104\40\154\x65\x73\163\157\156\151\144\x3d\72\154\145\x73\x73\157\156\151\144\x20\x41\x4e\x44\x20\147\162\x61\x64\x65\75\x3a\147\162\141\x64\145\x20\x41\x4e\x44\40\x73\164\141\164\x75\163\75\x3a\x73\164\x61\x74\x75\x73", array("\x3a\x75\x6e\151\x61\x63\x69\144" => $evaluate["\x75\156\151\x61\x63\x69\x64"], "\72\x6c\145\163\163\x6f\x6e\151\x64" => $evaluate["\154\145\163\163\157\156\151\x64"], "\x3a\x67\162\x61\x64\x65" => 1, "\x3a\x73\164\141\164\x75\163" => 1)); goto nWWFa; RlV0I: $data["\x75\x70\x64\x61\164\145\137\x74\151\155\145"] = time(); goto m1Tvu; rv_Xc: $data["\164\x6f\x74\x61\154\x5f\143\157\x6e\x74\x65\x6e\164"] = $evaluate_score["\164\157\164\141\x6c\x5f\x63\x6f\x6e\x74\x65\x6e\164"] + $evaluate["\x63\x6f\156\164\x65\x6e\164\x5f\x73\143\x6f\162\x65"]; goto WROU0; m1Tvu: pdo_update($this->table_evaluate_score, $data, array("\151\144" => $evaluate_score["\151\x64"])); goto PwMwx; sOkhG: $data["\164\157\164\141\x6c\x5f\x67\157\157\x64\163"] = $evaluate["\x67\162\x61\x64\145"] == 1 ? $evaluate_score["\164\157\164\x61\x6c\137\x67\x6f\157\144\x73"] + 1 : $evaluate_score["\x74\157\164\x61\x6c\137\147\x6f\157\x64\163"]; goto RDj0h; JKH_B: $data["\164\157\164\141\x6c\137\156\165\x6d\x62\145\162"] = $evaluate_score["\x74\x6f\164\x61\154\x5f\x6e\165\x6d\x62\145\x72"] + 1; goto ehTzE; PwMwx: goto pBBGX; goto KWAyY; ZepjJ: $data["\147\154\157\x62\141\x6c\x5f\x73\143\x6f\x72\145"] = round($data["\x74\157\164\141\x6c\137\147\154\157\142\141\x6c"] / $total, 2); goto zA4yJ; Rws67: $data["\x75\x6e\x64\145\x72\x73\164\x61\x6e\x64\137\163\x63\x6f\x72\145"] = round($data["\x74\x6f\x74\x61\154\x5f\165\x6e\x64\x65\x72\x73\x74\x61\x6e\144"] / $total, 2); goto nJUyI; Z7P8k: pdo_update($this->table_lesson_parent, array("\163\143\157\x72\x65" => $data["\x73\143\157\x72\145"]), array("\x69\x64" => $evaluate["\154\x65\163\163\157\156\x69\x64"])); goto dSlng; oYo34: $data["\143\157\156\x74\145\x6e\164\x5f\x73\x63\157\x72\x65"] = round($data["\x74\x6f\164\141\x6c\x5f\143\157\156\164\x65\156\164"] / $data["\x74\157\164\141\154\137\156\x75\155\x62\x65\x72"], 2); goto WIBQT; KWAyY: vo__5: goto C18iA; zA4yJ: $data["\x63\157\x6e\x74\x65\x6e\x74\137\x73\x63\x6f\x72\145"] = round($data["\x74\157\164\141\x6c\x5f\143\x6f\156\164\145\156\x74"] / $total, 2); goto Rws67; wtEd_: $data["\147\154\157\142\141\x6c\x5f\x73\143\x6f\162\145"] = round($data["\164\157\164\x61\154\137\x67\x6c\157\142\x61\x6c"] / $data["\164\x6f\164\141\154\x5f\156\x75\155\142\145\162"], 2); goto oYo34; dSlng: } public function memberEvaluate($evaluate) { goto X6FYm; RsPp4: goto rTAjX; goto f4sxL; a5N_g: $data = array("\165\x6e\x69\141\143\x69\x64" => $evaluate["\165\x6e\151\x61\x63\151\x64"], "\x6c\x65\x73\x73\157\156\x69\144" => $evaluate["\x6c\x65\x73\x73\157\156\x69\x64"], "\163\143\157\x72\x65" => round($good / $total, 2), "\x67\154\157\142\x61\154\x5f\163\143\157\162\x65" => round($total_score[0]["\164\157\164\141\154\137\x67\x6c\x6f\142\141\154"] / $total, 2), "\x63\x6f\156\164\x65\x6e\164\137\163\143\157\x72\145" => round($total_score[0]["\164\157\x74\x61\154\137\143\157\x6e\x74\145\156\164"] / $total, 2), "\165\156\x64\x65\x72\163\164\x61\156\x64\x5f\163\x63\157\162\145" => round($total_score[0]["\164\157\x74\x61\x6c\137\165\156\x64\145\x72\x73\x74\141\156\x64"] / $total, 2), "\164\x6f\164\x61\154\137\x67\x6f\157\x64\x73" => $good, "\164\x6f\x74\141\x6c\137\147\x6c\157\142\x61\154" => $total_score[0]["\164\157\164\141\154\137\x67\154\157\x62\141\154"], "\x74\157\164\141\x6c\x5f\143\157\156\164\145\x6e\x74" => $total_score[0]["\x74\157\x74\141\x6c\x5f\x63\157\156\164\145\x6e\x74"], "\164\157\x74\141\x6c\137\x75\x6e\144\x65\162\x73\164\x61\156\x64" => $total_score[0]["\x74\x6f\x74\x61\x6c\137\x75\x6e\x64\x65\162\163\164\x61\156\144"], "\x74\157\x74\x61\154\137\x6e\165\155\x62\x65\162" => $total, "\x75\x70\x64\x61\x74\145\x5f\164\151\x6d\x65" => time()); goto iZ8yx; X6FYm: $evaluate_score = pdo_get($this->table_evaluate_score, array("\165\x6e\151\x61\143\151\x64" => $evaluate["\165\156\151\141\x63\x69\144"], "\154\145\163\x73\157\156\x69\144" => $evaluate["\x6c\x65\x73\x73\x6f\156\x69\x64"])); goto eYrxT; f4sxL: NhoqU: goto kPdY2; XNO0D: $total_score = pdo_fetchall("\x53\x45\x4c\105\103\x54\40\x53\125\115\x28\147\154\x6f\x62\141\x6c\137\163\x63\157\162\x65\x29\40\x61\x73\x20\164\157\164\141\154\x5f\147\154\157\x62\141\x6c\x2c\40\123\x55\115\x28\x63\x6f\156\x74\x65\156\164\137\163\143\x6f\x72\x65\51\x20\141\163\40\x74\x6f\x74\x61\154\x5f\143\x6f\x6e\164\x65\156\x74\x2c\40\x53\x55\x4d\50\x75\156\144\145\x72\x73\x74\141\156\x64\x5f\163\x63\x6f\162\x65\x29\40\141\x73\x20\x74\157\x74\x61\x6c\137\x75\x6e\x64\x65\x72\x73\164\x61\x6e\x64\x20\106\x52\x4f\115\40" . tablename($this->table_evaluate) . "\40\127\110\x45\122\105\x20\165\x6e\x69\141\x63\x69\144\x3d\72\x75\156\151\141\143\151\144\x20\101\116\104\x20\154\x65\x73\x73\x6f\x6e\x69\x64\75\x3a\154\x65\163\163\157\156\151\x64\x20\x41\x4e\x44\x20\x73\164\x61\164\x75\163\x3d\x3a\163\x74\141\164\x75\163", array("\72\x75\156\151\x61\x63\x69\x64" => $evaluate["\165\156\151\x61\143\151\x64"], "\x3a\154\145\163\x73\157\156\x69\x64" => $evaluate["\x6c\x65\x73\x73\x6f\x6e\x69\144"], "\72\163\x74\141\x74\x75\x73" => 1)); goto a5N_g; kPdY2: pdo_insert($this->table_evaluate_score, $data); goto mvyCm; YsRj6: pdo_update($this->table_lesson_parent, array("\x73\143\x6f\162\145" => $data["\163\x63\x6f\x72\145"]), array("\151\x64" => $evaluate["\x6c\145\163\x73\157\x6e\x69\x64"])); goto PLRf4; eYrxT: $total = pdo_fetchcolumn("\x53\105\x4c\105\x43\x54\x20\x43\117\125\x4e\124\50\52\51\x20\106\x52\x4f\115\x20" . tablename($this->table_evaluate) . "\x20\x57\x48\105\x52\x45\40\x75\156\151\141\x63\151\x64\x3d\x3a\165\156\151\x61\143\x69\144\40\x41\x4e\104\40\154\145\163\163\x6f\156\x69\144\x3d\72\154\x65\163\x73\x6f\x6e\151\144\x20\x41\x4e\104\x20\x73\164\141\x74\165\x73\x3d\72\x73\x74\x61\164\x75\x73", array("\72\x75\156\151\x61\143\151\x64" => $evaluate["\x75\x6e\x69\x61\x63\x69\144"], "\72\x6c\x65\x73\x73\157\156\x69\144" => $evaluate["\154\145\x73\163\x6f\x6e\x69\144"], "\x3a\x73\x74\141\164\x75\x73" => 1)); goto qFi1M; qFi1M: $good = pdo_fetchcolumn("\123\x45\x4c\105\103\124\40\103\x4f\125\x4e\124\50\52\x29\x20\106\x52\x4f\x4d\x20" . tablename($this->table_evaluate) . "\40\127\110\105\x52\x45\x20\x75\x6e\151\x61\x63\151\x64\75\72\165\156\x69\x61\143\151\x64\x20\101\x4e\x44\x20\154\145\x73\163\157\156\x69\144\75\72\154\x65\163\163\x6f\156\x69\144\x20\101\116\104\x20\147\x72\141\144\x65\x3d\x3a\147\162\141\144\145\40\101\x4e\104\x20\x73\x74\x61\x74\165\163\75\x3a\163\x74\x61\164\165\x73", array("\x3a\x75\156\151\x61\143\151\144" => $evaluate["\x75\156\151\141\x63\x69\144"], "\x3a\154\145\x73\163\x6f\x6e\151\144" => $evaluate["\x6c\145\x73\163\157\x6e\x69\x64"], "\x3a\147\162\141\x64\x65" => 1, "\72\163\164\141\164\x75\163" => 1)); goto XNO0D; MpecT: pdo_update($this->table_evaluate_score, $data, array("\x75\156\x69\x61\x63\151\144" => $evaluate["\165\x6e\x69\x61\143\151\144"], "\151\x64" => $evaluate_score["\151\x64"])); goto RsPp4; mvyCm: rTAjX: goto YsRj6; iZ8yx: if (!$evaluate_score) { goto NhoqU; } goto MpecT; PLRf4: } public function send_template_message($messageDatas, $uniacid = '') { goto u_Ifs; lGX7o: $urls = "\x68\164\164\x70\x73\x3a\x2f\x2f\x61\x70\151\x2e\167\145\151\x78\151\156\x2e\x71\x71\x2e\x63\157\x6d\x2f\143\x67\151\55\x62\x69\x6e\57\x6d\x65\163\x73\141\x67\145\x2f\x74\x65\155\x70\x6c\x61\164\145\57\163\x65\156\144\77\141\143\x63\x65\163\163\137\x74\x6f\153\145\156\75" . $access_token; goto Npt5t; ldmDE: if (!$uniacid) { goto qBZNz; } goto SHO4K; u_Ifs: global $_W, $_GPC; goto Cic8q; GOo_R: qBZNz: goto jgrHv; bjazQ: return json_decode($ress, true); goto VH9Dj; Cic8q: if (!(!$messageDatas["\x74\x6f\165\163\x65\162"] || !$messageDatas["\x74\x65\155\x70\x6c\141\x74\x65\x5f\x69\x64"])) { goto VcqLp; } goto Gkcwl; MVRFb: $account_api = WeixinAccount::create($account); goto ArpLB; jgrHv: load()->classs("\x77\145\x69\170\151\156\56\x61\143\143\157\x75\x6e\x74"); goto MVRFb; Gkcwl: return; goto pjI61; OtuMj: $ress = ihttp_request($urls, $messageDatas); goto bjazQ; Npt5t: $messageDatas = urldecode(json_encode($messageDatas)); goto OtuMj; pjI61: VcqLp: goto ldmDE; SHO4K: $account = uni_fetch($uniacid); goto GOo_R; ArpLB: $access_token = $account_api->getAccessToken(); goto lGX7o; VH9Dj: } public function updateMemberVip($uid, $vip) { return pdo_update($this->table_member, array("\x76\x69\160" => $vip), array("\x75\151\144" => $uid)); } public function getLevelById($level_id) { global $_W; return pdo_get($this->table_vip_level, array("\x75\156\x69\x61\143\151\x64" => $_W["\x75\x6e\x69\x61\x63\151\144"], "\x69\144" => $level_id)); } public function getNextSectionid($section, $title_list) { goto H_hQz; BpKS0: goto bCDav; goto X4OVP; r84du: $section_sort = pdo_fetchall("\x53\x45\114\x45\103\124\40\151\x64\x20\x46\x52\x4f\x4d\40" . tablename($this->table_lesson_son) . "\40\127\110\105\122\105\x20\160\x61\x72\145\156\164\151\144\75\72\x70\x61\x72\x65\156\x74\151\x64\x20\101\x4e\x44\x20\164\151\164\x6c\x65\x5f\151\x64\x3d\72\164\151\x74\154\145\x5f\x69\x64\x20\x41\116\x44\40\x73\164\x61\x74\x75\x73\x3d\x3a\163\x74\x61\164\165\x73\x20\x4f\122\x44\x45\122\40\x42\x59\40\x64\x69\x73\x70\x6c\141\x79\157\162\144\145\x72\40\x44\x45\123\x43\54\x69\144\x20\101\x53\x43", array("\x3a\x70\x61\162\145\x6e\164\151\x64" => $section["\160\x61\x72\x65\x6e\x74\151\x64"], "\x3a\164\x69\164\x6c\145\137\151\144" => 0, "\x3a\163\164\x61\164\x75\x73" => 1)); goto wuw_h; Fe5t0: uNfaS: goto BpKS0; w9b12: foreach ($title_list as $key => $value) { goto DKiH2; TIt4T: fu1Ql: goto PhwJG; Ak126: $next_title = $title_list[$key + 1]; goto WFMyf; WFMyf: goto EzPOV; goto TIt4T; PhwJG: lRTv4: goto N83ID; DKiH2: if (!($value["\x74\151\x74\154\x65\x5f\151\x64"] == $section["\164\151\x74\154\145\137\151\144"])) { goto fu1Ql; } goto Ak126; N83ID: } goto SB3Lj; Okq9Q: bCDav: goto MTeLy; sjck0: EGSKJ: goto ZOOi0; MTeLy: return $next_sectionid; goto ByfKi; LmXUK: zc9Zn: goto FrHhU; hWOR8: foreach ($section_sort as $key => $value) { goto j_Qc7; yL0Pb: s1kHO: goto F0nwA; j_Qc7: if (!($value["\x69\x64"] == $section["\x69\144"])) { goto NLPRE; } goto zF9MU; zF9MU: $next_sectionid = $section_sort[$key + 1]["\151\144"]; goto puyv5; puyv5: goto EGSKJ; goto sAKFQ; sAKFQ: NLPRE: goto yL0Pb; F0nwA: } goto sjck0; I6OBh: $section_sort = pdo_fetchall("\123\x45\x4c\x45\x43\x54\x20\151\x64\x20\x46\x52\117\115\x20" . tablename($this->table_lesson_son) . "\40\x57\110\x45\x52\105\x20\x70\x61\162\x65\x6e\164\x69\144\x3d\x3a\x70\x61\162\145\x6e\164\x69\x64\40\101\116\x44\x20\164\x69\164\x6c\145\137\151\x64\x3d\x3a\164\151\164\x6c\145\x5f\x69\144\x20\x41\116\x44\x20\x73\164\141\x74\165\x73\x3d\72\163\x74\141\x74\165\163\40\117\x52\104\x45\x52\40\102\x59\40\x64\x69\163\x70\x6c\x61\x79\157\x72\x64\x65\162\40\x44\105\x53\x43\x2c\x69\144\x20\101\x53\x43", array("\72\160\x61\162\145\156\x74\151\x64" => $section["\x70\x61\x72\x65\156\x74\x69\144"], "\72\x74\151\x74\154\x65\137\151\144" => $section["\x74\151\164\x6c\145\137\151\144"], "\72\x73\x74\x61\164\165\163" => 1)); goto hWOR8; HSod9: pjAIA: goto LmXUK; pY3GB: if (!$next_section) { goto pjAIA; } goto CCEJ7; H_hQz: if ($section["\x74\151\x74\154\x65\x5f\151\144"]) { goto wd6nW; } goto r84du; X4OVP: wd6nW: goto I6OBh; ZOOi0: if ($next_sectionid) { goto eTGIg; } goto w9b12; SB3Lj: EzPOV: goto FqNA0; CCEJ7: $next_sectionid = $next_section["\x69\144"]; goto HSod9; lyga4: $next_section = pdo_fetch("\123\x45\x4c\105\103\x54\x20\151\x64\x20\106\122\x4f\115\x20" . tablename($this->table_lesson_son) . "\x20\x57\x48\105\x52\x45\x20\x74\x69\164\154\x65\137\151\x64\x3d\x3a\x74\x69\x74\154\145\137\x69\144\x20\x41\x4e\x44\40\163\x74\141\x74\x75\x73\75\72\x73\164\141\164\x75\163\40\117\122\x44\x45\x52\40\x42\131\40\x64\x69\163\160\154\141\x79\x6f\162\144\x65\x72\x20\x44\105\x53\x43\54\151\144\x20\101\x53\x43\x20\x4c\111\115\x49\124\x20\x31", array("\x3a\164\151\x74\x6c\x65\x5f\151\x64" => $next_title["\164\x69\164\x6c\x65\x5f\151\x64"], "\x3a\x73\164\x61\x74\x75\163" => 1)); goto pY3GB; FqNA0: if (!$next_title["\x74\151\x74\x6c\145\137\151\144"]) { goto zc9Zn; } goto lyga4; FrHhU: eTGIg: goto Okq9Q; wuw_h: foreach ($section_sort as $key => $value) { goto QsykZ; QsykZ: if (!($value["\151\144"] == $section["\151\x64"])) { goto HGKCy; } goto IScsK; VCpjT: goto uNfaS; goto zwLAS; IScsK: $next_sectionid = $section_sort[$key + 1]["\151\x64"]; goto VCpjT; zwLAS: HGKCy: goto maWwp; maWwp: vTSrf: goto RWsn2; RWsn2: } goto Fe5t0; ByfKi: } public function getOrderVerifyLog($orderid) { goto ZGOCh; iUPaI: $verify_log = pdo_fetchall("\x53\x45\x4c\105\x43\x54\x20\x2a\x20\x46\122\x4f\x4d\x20" . tablename($this->table_order_verify) . "\40\127\x48\x45\x52\x45\40\x75\x6e\151\141\x63\151\x64\75\72\165\x6e\x69\141\x63\x69\x64\40\x41\116\104\x20\157\x72\x64\145\162\x69\x64\x3d\x3a\157\162\x64\145\162\x69\x64\40\x4f\122\104\x45\x52\x20\102\131\x20\x69\x64\40\x41\123\103", array("\x3a\165\156\x69\141\x63\x69\x64" => $_W["\x75\156\151\x61\x63\151\144"], "\x3a\x6f\162\144\145\162\151\144" => $orderid)); goto igH2X; ZGOCh: global $_W; goto iUPaI; igH2X: foreach ($verify_log as $k => $v) { goto PaSxf; uqLTg: zC9aZ: goto aVmAD; p88lm: KghM7: goto fMp1E; jQ95a: if ($v["\x76\145\x72\x69\146\x79\137\164\x79\160\145"] == 0) { goto Yt98B; } goto OIqcp; Xi3_a: goto LXpmO; goto p88lm; IgCEX: LXpmO: goto OweMI; OIqcp: if ($v["\166\x65\162\151\x66\171\x5f\x74\171\160\145"] == 1) { goto KghM7; } goto Sz2_D; Sz2_D: goto LXpmO; goto zrOKI; OweMI: $v["\154\x6f\x67"] .= $v["\x76\x65\x72\x69\x66\x79\137\x6e\141\155\145"] . "\50\165\151\144\x3a" . $v["\x76\x65\x72\151\146\x79\137\x75\x69\144"] . "\51\xef\xbc\x8c\xe4\xba\216" . date("\131\55\x6d\55\x64\40\x48\x3a\151", $v["\x61\144\144\x74\151\x6d\x65"]) . "\xe6\240\xb8\xe9\224\200\xe3\x80\x82"; goto L3iGj; fMp1E: $v["\x6c\157\147"] .= "\345\220\x8e\xe5\x8f\xb0\347\xae\xa1\xe7\x90\x86\xe5\221\x98\xef\274\x9a"; goto IgCEX; aKmBm: $v["\154\157\147"] .= "\xe6\240\xb8\xe9\x94\200\xe5\221\x98\357\274\232"; goto Xi3_a; L3iGj: $verify_log[$k] = $v; goto uqLTg; PaSxf: $v["\154\x6f\147"] = $k + 1 . "\xe3\x80\201"; goto jQ95a; zrOKI: Yt98B: goto aKmBm; aVmAD: } goto CXEKR; qEUUw: return $verify_log; goto vPXHP; VwWYS: $verify_log["\143\157\165\156\x74"] = count($verify_log); goto qEUUw; CXEKR: l3IbR: goto VwWYS; vPXHP: } public function updateOrderVerifyLog() { goto m5jrp; bO3nt: foreach ($complete_order as $v) { goto WPLqO; tzpUw: AYRNA: goto vslwL; WPLqO: $total = pdo_fetchcolumn("\123\x45\x4c\x45\103\124\x20\103\x4f\125\116\124\x28\52\x29\40\x46\x52\x4f\115\x20" . tablename($this->table_order_verify) . "\x20\x57\x48\105\122\x45\40\x75\156\151\x61\x63\x69\x64\75\72\x75\156\151\x61\x63\151\144\x20\x41\116\x44\x20\157\162\144\x65\x72\x69\x64\x3d\x3a\x6f\x72\144\x65\x72\x69\x64", array("\72\x75\156\151\141\x63\151\144" => $uniacid, "\x3a\x6f\x72\144\x65\x72\x69\144" => $v["\151\144"])); goto scSvM; scSvM: if (!($total == $v["\166\x65\162\151\146\x79\137\x6e\x75\x6d\142\145\162"])) { goto AYRNA; } goto G68rm; vslwL: dhz1L: goto CqiMi; G68rm: pdo_update($this->table_order, array("\151\x73\x5f\166\x65\x72\151\146\x79" => 2), array("\151\x64" => $v["\x69\144"])); goto tzpUw; CqiMi: } goto kWuCK; m5jrp: global $_W; goto D0rBk; vU8Pa: foreach ($old_order as $v) { goto UNMLI; mrZhb: kdiCa: goto s6Uof; UNMLI: $verify_info = json_decode($v["\166\x65\162\x69\146\171\x5f\151\156\x66\x6f"], true); goto q3ipA; p_U0L: $verify_data["\166\145\162\x69\x66\x79\137\x6e\141\155\145"] = $verify_member["\x6e\151\143\153\156\141\155\x65"]; goto eQ25T; aZMzb: $verify_member = pdo_get($this->table_mc_members, array("\165\156\151\x61\143\x69\144" => $uniacid, "\165\151\144" => $verify_info["\166\145\x72\x69\x66\171\x5f\x75\x69\144"]), "\156\x69\x63\x6b\x6e\141\x6d\145"); goto SHQBU; eAyrp: pdo_insert($this->table_order_verify, $verify_data); goto xGkmy; Jd8cZ: V40LH: goto aZMzb; mpThU: $verify_data["\166\x65\162\x69\x66\x79\x5f\x6e\x61\155\145"] = $verify_info["\x76\x65\x72\151\146\171\137\141\144\155\x69\x6e"]; goto insjt; insjt: goto lQRBm; goto Jd8cZ; SHQBU: $verify_data["\x76\x65\x72\151\x66\171\137\164\x79\x70\x65"] = 0; goto UH5Zu; FC6yL: $verify_data["\166\x65\162\151\x66\171\x5f\164\x79\160\x65"] = 1; goto mpThU; eQ25T: lQRBm: goto eAyrp; q3ipA: $verify_data = array("\165\x6e\x69\x61\x63\151\144" => $uniacid, "\157\x72\144\x65\x72\x69\x64" => $v["\151\x64"], "\x61\x64\x64\x74\151\x6d\x65" => $verify_info["\x76\x65\162\x69\146\x79\x5f\x74\x69\x6d\145"]); goto I4Qm9; I4Qm9: if ($verify_info["\166\x65\x72\151\x66\171\x5f\x75\151\x64"]) { goto V40LH; } goto FC6yL; UH5Zu: $verify_data["\166\145\x72\x69\146\171\x5f\x75\151\144"] = $verify_info["\x76\145\162\151\x66\x79\137\165\x69\144"]; goto p_U0L; xGkmy: pdo_update($this->table_order, array("\166\x65\x72\151\146\x79\137\151\x6e\146\157" => ''), array("\151\x64" => $v["\151\x64"])); goto mrZhb; s6Uof: } goto pcUTT; D0rBk: $uniacid = $_W["\x75\156\151\x61\x63\151\144"]; goto MIXEm; pcUTT: INUIU: goto jFV7e; kWuCK: FfyVQ: goto lYX8C; MIXEm: $old_order = pdo_fetchall("\x53\105\114\105\103\x54\x20\x69\144\x2c\x20\166\145\162\x69\x66\x79\x5f\151\156\x66\x6f\40\x46\122\x4f\x4d\x20" . tablename($this->table_order) . "\40\127\110\x45\x52\x45\x20\165\156\151\x61\x63\151\x64\75\72\165\x6e\151\141\143\151\144\x20\101\x4e\104\40\x6c\x65\x73\x73\x6f\x6e\137\164\171\x70\145\75\x3a\x6c\145\163\x73\x6f\x6e\x5f\164\x79\160\x65\40\x41\x4e\x44\x20\163\164\x61\x74\x75\x73\76\72\163\164\x61\164\x75\163\x20\101\x4e\x44\40\x69\163\137\x76\x65\162\151\x66\171\x3d\72\151\x73\x5f\166\x65\x72\x69\146\171\x20\101\x4e\104\40\166\x65\162\x69\x66\x79\x5f\x69\156\146\x6f\x21\75\x27\47\40", array("\72\165\156\151\x61\143\x69\144" => $uniacid, "\x3a\154\x65\x73\163\x6f\x6e\137\164\x79\x70\x65" => 1, "\x3a\163\164\x61\164\165\x73" => 0, "\x3a\x69\x73\x5f\166\x65\162\151\x66\x79" => 1)); goto vU8Pa; jFV7e: $complete_order = pdo_fetchall("\x53\x45\x4c\x45\x43\124\x20\x69\x64\54\x76\145\x72\x69\x66\171\x5f\x6e\x75\x6d\142\145\x72\40\106\x52\117\115\40" . tablename($this->table_order) . "\40\x57\110\105\122\105\x20\165\156\151\141\143\x69\x64\x3d\x3a\x75\156\151\x61\x63\x69\x64\40\x41\x4e\104\40\x6c\x65\163\163\x6f\156\x5f\x74\x79\x70\145\75\x3a\x6c\x65\163\163\x6f\156\x5f\164\171\160\145\40\101\116\104\40\163\x74\141\x74\165\x73\x3e\72\163\x74\x61\164\x75\x73\40\101\116\x44\x20\x69\x73\137\x76\x65\x72\151\146\x79\x3d\x3a\151\163\137\166\145\x72\x69\146\x79\40", array("\x3a\x75\x6e\x69\141\143\151\144" => $uniacid, "\72\x6c\145\163\163\157\x6e\137\x74\171\160\145" => 1, "\x3a\163\x74\x61\164\165\x73" => 0, "\x3a\x69\163\137\166\x65\x72\151\x66\171" => 1)); goto bO3nt; lYX8C: } public function updateLessonStock($lessonid, $spec_id, $change) { goto jWKQa; GsnZj: AG9Us: goto D6r61; D3nA8: if (!pdo_update($this->table_lesson_spec, array("\163\x70\145\143\137\x73\x74\x6f\143\153\x20\53\75" => $change), array("\163\160\145\x63\137\x69\144" => $spec_id))) { goto c1NS3; } goto ZIc3I; wXZwi: wbavu: goto GsnZj; mBt_w: goto AG9Us; goto QLXPq; ZIc3I: pdo_update($this->table_lesson_parent, array("\163\164\x6f\x63\x6b\x20\x2b\x3d" => $change), array("\151\x64" => $lessonid)); goto ilw5k; lk8wy: pdo_update($this->table_lesson_parent, array("\163\164\x6f\143\153\x20\55\x3d" => abs($change)), array("\151\144" => $lessonid)); goto wXZwi; QLXPq: wWYLE: goto D3nA8; jWKQa: if ($change > 0) { goto wWYLE; } goto Q_X37; Q_X37: if ($change < 0) { goto dAPSE; } goto mBt_w; XJgVG: dAPSE: goto FB30s; FB30s: if (!pdo_update($this->table_lesson_spec, array("\163\x70\x65\x63\137\163\164\x6f\143\153\40\x2d\x3d" => abs($change)), array("\x73\160\145\143\x5f\151\144" => $spec_id))) { goto wbavu; } goto lk8wy; ilw5k: c1NS3: goto XHhc1; XHhc1: goto AG9Us; goto XJgVG; D6r61: } public function getParentid($uid) { goto e0ksy; FSBi9: return $parent["\160\x61\x72\145\156\164\151\x64"]; goto UKAfn; fP20Q: $parent = pdo_get($this->table_member, array("\165\156\x69\141\143\151\x64" => $_W["\165\156\151\x61\143\151\144"], "\x75\151\x64" => $uid), array("\160\x61\x72\145\156\x74\x69\x64")); goto gqdvA; dCHWr: goto AmHvw; goto YXvbT; YXvbT: rBnvI: goto FSBi9; e0ksy: global $_W; goto fP20Q; BXeRZ: return "\60"; goto dCHWr; gqdvA: if ($parent) { goto rBnvI; } goto BXeRZ; UKAfn: AmHvw: goto i7uc1; i7uc1: } public function getAgentCommission1($commission_type = 0, $lessoncommission, $settingcommission, $price, $uid) { goto TlTTP; qpTHW: ldjtR: goto EF1EN; tWeDV: return $commission; goto M8pXW; kGuYt: AZObx: goto rXFRW; oab1j: if ($member["\143\157\155\155\x69\x73\x73\x69\x6f\x6e\x31"]) { goto j4j2D; } goto P5vO2; gMIKI: $member = pdo_fetch("\x53\x45\114\x45\x43\x54\40\x62\56\143\x6f\x6d\x6d\151\x73\163\x69\x6f\156\x31\40\x46\122\117\x4d\x20" . tablename($this->table_member) . "\40\141\x20\114\105\x46\124\x20\112\x4f\111\116\40" . tablename($this->table_commission_level) . "\x20\142\x20\x4f\116\40\x61\x2e\x61\147\x65\156\x74\137\x6c\145\x76\x65\x6c\75\x62\x2e\x69\144\x20\127\x48\x45\x52\x45\40\x61\x2e\x75\156\x69\141\143\x69\x64\75\x3a\165\156\x69\141\x63\x69\x64\x20\x41\x4e\104\x20\x61\56\x75\151\144\75\x3a\x75\151\x64", array("\72\165\x6e\151\x61\143\151\x64" => $_W["\165\x6e\151\141\x63\151\144"], "\x3a\x75\x69\x64" => $uid)); goto oab1j; OHh5e: goto ldjtR; goto a3p5I; d1BPH: if (!$commission_type) { goto G34Vu; } goto NDESH; a3p5I: j4j2D: goto AF0U1; TlTTP: global $_W; goto V8AiV; KkfTi: goto AZObx; goto QJy01; P5vO2: $commission = round($price * $settingcommission * 0.01, 2); goto OHh5e; QFJad: $commission = round($price * $lessoncommission * 0.01, 2); goto kGuYt; ZR9vg: NT1YC: goto d1BPH; QJy01: G34Vu: goto QFJad; AF0U1: $commission = round($price * $member["\x63\x6f\155\155\151\x73\163\151\x6f\156\x31"] * 0.01, 2); goto qpTHW; rXFRW: RCpNo: goto tWeDV; NDESH: $commission = $lessoncommission; goto KkfTi; EF1EN: goto RCpNo; goto ZR9vg; V8AiV: if ($lessoncommission > 0) { goto NT1YC; } goto gMIKI; M8pXW: } public function getAgentCommission2($commission_type = 0, $lessoncommission, $settingcommission, $price, $uid) { goto OGfUU; fadY0: hKAz3: goto ieA8M; XogI3: $member = pdo_fetch("\x53\105\x4c\105\103\124\40\142\56\143\x6f\x6d\155\x69\163\163\151\157\x6e\x32\x20\106\x52\117\115\40" . tablename($this->table_member) . "\40\141\40\x4c\x45\x46\124\x20\112\117\111\x4e\x20" . tablename($this->table_commission_level) . "\40\142\40\117\116\40\141\56\141\147\x65\x6e\164\x5f\154\145\x76\x65\154\x3d\142\x2e\151\x64\x20\x57\x48\105\122\x45\40\x61\x2e\165\156\151\x61\x63\x69\144\75\72\x75\x6e\151\x61\143\x69\144\x20\x41\x4e\104\40\141\56\x75\151\144\x3d\72\165\151\144", array("\x3a\165\x6e\151\x61\143\x69\x64" => $_W["\165\156\x69\x61\143\151\144"], "\x3a\x75\151\144" => $uid)); goto lqqeT; EGAkR: if (!$commission_type) { goto hKAz3; } goto Fup51; NsAg8: qNrZK: goto hpUFt; KqDY5: return $commission; goto LE8Fs; VmB09: WsZSq: goto EGAkR; FUNZK: X1yat: goto KqDY5; n4S5a: $commission = round($price * $settingcommission * 0.01, 2); goto rHs3e; i968A: goto X1yat; goto VmB09; lqqeT: if ($member["\x63\157\x6d\155\151\163\163\151\157\156\62"]) { goto qNrZK; } goto n4S5a; hpUFt: $commission = round($price * $member["\143\157\155\155\151\163\x73\151\157\x6e\62"] * 0.01, 2); goto FCNB0; Fup51: $commission = $lessoncommission; goto bavjK; FCNB0: pnhRm: goto i968A; bavjK: goto ZFiPU; goto fadY0; ytp_f: ZFiPU: goto FUNZK; rHs3e: goto pnhRm; goto NsAg8; uZZqU: if ($lessoncommission > 0) { goto WsZSq; } goto XogI3; OGfUU: global $_W; goto uZZqU; ieA8M: $commission = round($price * $lessoncommission * 0.01, 2); goto ytp_f; LE8Fs: } public function getAgentCommission3($commission_type = 0, $lessoncommission, $settingcommission, $price, $uid) { goto gRr2g; LHwHg: goto TDMJd; goto PBXSI; NrMDl: if (!$commission_type) { goto YHffI; } goto QOtvR; uO0uJ: TDMJd: goto mQ0yi; tKVQn: YHffI: goto roKSi; gRr2g: global $_W; goto gJRLt; CgPm3: $member = pdo_fetch("\x53\105\114\x45\103\124\40\x62\x2e\143\157\155\x6d\151\x73\163\x69\x6f\x6e\x33\x20\x46\122\117\x4d\x20" . tablename($this->table_member) . "\40\x61\x20\114\105\106\x54\x20\112\x4f\111\116\x20" . tablename($this->table_commission_level) . "\x20\x62\40\117\116\40\141\x2e\141\147\145\x6e\x74\x5f\x6c\145\x76\x65\x6c\x3d\x62\x2e\151\x64\x20\x57\110\105\x52\x45\x20\x61\56\x75\156\x69\x61\x63\x69\x64\75\x3a\165\156\x69\x61\x63\x69\x64\x20\x41\x4e\104\40\x61\56\x75\x69\144\75\72\x75\151\x64", array("\x3a\x75\x6e\x69\141\143\x69\x64" => $_W["\165\156\x69\141\x63\x69\x64"], "\x3a\165\151\144" => $uid)); goto tPOux; GSf_F: $commission = round($price * $member["\143\x6f\x6d\155\151\x73\x73\151\x6f\x6e\63"] * 0.01, 2); goto uO0uJ; uMHa9: $commission = round($price * $settingcommission * 0.01, 2); goto LHwHg; TLBWK: goto xl3Y1; goto tKVQn; OensC: return $commission; goto WP59c; tPOux: if ($member["\143\157\155\155\151\x73\x73\151\x6f\156\x33"]) { goto tK8MO; } goto uMHa9; bhNE9: gx7Ky: goto NrMDl; QOtvR: $commission = $lessoncommission; goto TLBWK; nmnvP: xwyio: goto OensC; wftPu: xl3Y1: goto nmnvP; mQ0yi: goto xwyio; goto bhNE9; roKSi: $commission = round($price * $lessoncommission * 0.01, 2); goto wftPu; PBXSI: tK8MO: goto GSf_F; gJRLt: if ($lessoncommission > 0) { goto gx7Ky; } goto CgPm3; WP59c: } public function getArticleLastAndNext($section, $title_list) { goto vHJl3; rHtJg: if ($prev_article) { goto WuGte; } goto GVcGy; dh3Hp: zIY6O: goto wykRC; GVcGy: $prev_article = pdo_fetch("\x53\105\x4c\105\x43\124\40\151\144\54\160\141\162\x65\156\164\x69\x64\x2c\164\x69\x74\x6c\x65\x20\106\x52\x4f\x4d\40" . tablename($this->table_lesson_son) . "\40\x57\x48\x45\x52\x45\x20\160\141\x72\145\156\164\151\x64\x3d\72\160\141\162\145\x6e\x74\x69\x64\x20\x41\116\104\40\164\151\x74\154\x65\137\x69\144\75\72\164\x69\x74\154\145\x5f\x69\x64\40\x41\x4e\x44\40\163\x74\x61\164\165\163\x3d\72\x73\x74\x61\x74\165\163\x20\x4f\122\104\105\x52\x20\x42\x59\40\144\x69\163\160\154\x61\x79\x6f\x72\x64\x65\x72\40\x44\x45\x53\103\54\151\144\40\101\123\103\x20\x4c\111\x4d\x49\x54\x20\61", array("\72\160\x61\162\145\156\x74\x69\x64" => $section["\160\141\162\145\x6e\x74\151\144"], "\72\x74\x69\x74\x6c\x65\137\151\x64" => $prev_title["\x74\151\x74\154\x65\137\x69\x64"], "\72\163\164\141\x74\x75\163" => 1)); goto V7slQ; hJ3bn: L17oU: goto dh3Hp; camkK: goto zIY6O; goto zEwm1; zEwm1: tfBbk: goto rSnXY; V7slQ: WuGte: goto Lii9a; dXMc9: return $data; goto VE_jo; vHJl3: if ($section["\164\151\164\x6c\x65\x5f\151\144"]) { goto tfBbk; } goto l7V_w; wykRC: $data = array("\160\162\x65\166\x5f\141\x72\x74\x69\143\x6c\145" => $prev_article, "\156\x65\170\x74\137\x61\162\x74\x69\143\154\145" => $next_article); goto dXMc9; B9Fxe: yaEj8: goto XuQW3; cGu8v: UmWZu: goto rHtJg; XuQW3: foreach ($title_list as $key => $value) { goto hjJxo; hjJxo: if (!($value["\x74\x69\164\154\x65\x5f\x69\x64"] == $section["\x74\151\164\x6c\x65\x5f\151\144"])) { goto bbIk0; } goto Yu8Et; ObC38: gHnzI: goto cpT9V; Yu8Et: $prev_title = $title_list[$key - 1]; goto gLsMs; gLsMs: $next_title = $title_list[$key + 1]; goto uQNwu; uQNwu: bbIk0: goto ObC38; cpT9V: } goto cGu8v; lN_6v: $next_article = pdo_fetch("\123\105\114\x45\x43\x54\40\151\144\x2c\x70\141\162\145\156\164\x69\144\54\164\x69\164\x6c\145\x20\106\x52\x4f\115\40" . tablename($this->table_lesson_son) . "\x20\127\110\x45\x52\x45\x20\x70\141\x72\x65\x6e\164\x69\x64\x3d\x3a\x70\141\162\145\156\164\x69\x64\40\x41\x4e\x44\x20\x74\x69\x74\x6c\145\x5f\151\x64\75\x3a\164\151\164\x6c\x65\x5f\x69\x64\40\101\116\x44\40\x73\164\x61\x74\165\x73\x3d\x3a\x73\x74\x61\x74\x75\163\x20\x4f\122\104\x45\x52\40\x42\131\40\x64\151\163\160\x6c\141\171\157\162\144\x65\162\x20\x44\x45\x53\x43\x2c\x69\x64\x20\x41\123\103\x20\x4c\x49\115\x49\124\x20\61", array("\72\x70\x61\162\145\x6e\x74\151\144" => $section["\160\141\162\145\156\164\151\x64"], "\x3a\x74\x69\164\154\x65\x5f\x69\x64" => $next_title["\164\151\164\x6c\x65\137\x69\x64"], "\x3a\x73\x74\141\x74\x75\x73" => 1)); goto hJ3bn; l7V_w: $section_sort = pdo_fetchall("\123\105\x4c\105\x43\124\x20\151\x64\x2c\160\x61\162\x65\x6e\x74\151\144\54\x74\x69\164\x6c\145\x20\106\x52\117\115\40" . tablename($this->table_lesson_son) . "\40\x57\x48\105\122\x45\x20\160\x61\x72\145\156\164\151\144\75\72\160\x61\162\145\156\164\x69\x64\40\101\116\x44\x20\x74\x69\x74\154\145\x5f\151\144\75\72\x74\151\164\154\145\137\x69\x64\40\x41\116\x44\x20\x73\164\x61\x74\165\x73\75\72\163\164\x61\x74\165\x73\40\x4f\122\104\105\x52\x20\102\131\40\144\151\163\160\x6c\141\x79\x6f\x72\144\x65\x72\x20\x44\105\x53\103\54\151\144\x20\101\x53\103", array("\72\x70\x61\162\145\156\x74\151\144" => $section["\160\x61\x72\145\156\164\x69\144"], "\72\164\151\164\154\145\137\151\144" => 0, "\72\x73\164\141\164\x75\163" => 1)); goto w8u8y; mdZDC: foreach ($section_sort as $key => $value) { goto tPqUD; DlCCv: $next_article = $section_sort[$key + 1]; goto s6kjQ; th2F5: JRi0a: goto JBCvx; s6kjQ: YCjf7: goto th2F5; V2Ps3: $prev_article = $section_sort[$key - 1]; goto DlCCv; tPqUD: if (!($value["\151\144"] == $section["\x69\144"])) { goto YCjf7; } goto V2Ps3; JBCvx: } goto B9Fxe; Lii9a: if ($next_article) { goto L17oU; } goto lN_6v; w8u8y: foreach ($section_sort as $key => $value) { goto nxCNd; nxCNd: if (!($value["\151\144"] == $section["\151\x64"])) { goto XO5wN; } goto L_8nV; L_8nV: $prev_article = $section_sort[$key - 1]; goto YSRal; oWXLK: XO5wN: goto t5PBK; t5PBK: wONL9: goto jw3vV; YSRal: $next_article = $section_sort[$key + 1]; goto oWXLK; jw3vV: } goto hNYmW; hNYmW: mBCHO: goto camkK; rSnXY: $section_sort = pdo_fetchall("\x53\x45\x4c\105\x43\x54\x20\151\x64\54\160\x61\x72\x65\156\x74\151\144\54\164\151\x74\x6c\145\40\106\122\117\x4d\x20" . tablename($this->table_lesson_son) . "\x20\x57\110\105\x52\105\40\160\x61\x72\x65\x6e\x74\x69\x64\x3d\72\160\x61\162\145\x6e\x74\x69\144\x20\x41\x4e\104\x20\x74\x69\164\154\x65\137\151\x64\x3d\x3a\164\151\164\x6c\145\x5f\151\x64\x20\x41\x4e\x44\40\163\164\x61\164\x75\163\75\x3a\163\x74\141\164\165\163\x20\117\122\x44\x45\x52\x20\x42\131\40\x64\x69\163\160\x6c\141\171\157\x72\x64\x65\162\40\104\x45\x53\x43\54\x69\x64\x20\x41\123\x43", array("\x3a\160\x61\x72\145\156\164\x69\144" => $section["\160\141\162\145\156\x74\151\144"], "\x3a\x74\x69\164\154\145\137\x69\144" => $section["\x74\x69\164\x6c\145\x5f\151\144"], "\72\x73\164\x61\164\165\163" => 1)); goto mdZDC; VE_jo: } public function getLessonDiscount($lessonid) { goto yxAGI; Nnj_D: return $discount; goto Z0QIM; yxAGI: global $_W; goto b2DQQ; b2DQQ: $discount_lesson = pdo_fetch("\123\x45\114\105\x43\x54\40\x64\x69\163\x63\157\165\156\164\x20\x46\x52\x4f\x4d\40" . tablename($this->table_discount_lesson) . "\x20\127\x48\x45\x52\105\40\x75\156\151\x61\143\x69\144\x3d\x3a\165\x6e\x69\x61\x63\x69\x64\40\x41\x4e\104\x20\x6c\x65\x73\163\x6f\156\x5f\151\144\x3d\x3a\154\x65\163\163\x6f\x6e\137\x69\144\x20\x41\x4e\104\x20\163\164\141\162\164\x74\151\155\x65\x3c\72\164\151\155\x65\x20\101\116\104\40\145\x6e\144\164\x69\155\145\x3e\x3a\164\x69\x6d\x65", array("\x3a\x75\156\151\x61\x63\151\144" => $_W["\x75\156\151\x61\x63\151\x64"], "\72\154\145\x73\x73\x6f\156\x5f\151\x64" => $lessonid, "\x3a\x74\x69\155\145" => time())); goto NAnVu; NAnVu: $discount = $discount_lesson["\x64\x69\x73\x63\x6f\165\x6e\x74"] ? $discount_lesson["\144\151\x73\143\x6f\165\156\164"] * 0.01 : 1; goto Nnj_D; Z0QIM: } public function getMarketParams() { goto XZug2; XZug2: global $_W; goto lhnRX; lhnRX: $market = cache_load("\x66\x79\x5f\x6c\145\x73\x73\157\x6e\137" . $_W["\x75\156\151\141\143\151\x64"] . "\x5f\x6d\x61\x72\153\x65\164"); goto fXc8P; ITEEh: $market = pdo_get($this->table_market, array("\x75\156\151\141\x63\151\144" => $_W["\x75\x6e\x69\141\x63\x69\x64"])); goto T2hg2; fXc8P: if (!empty($market)) { goto adwWK; } goto ITEEh; T2hg2: cache_write("\146\x79\137\x6c\145\163\x73\x6f\156\137" . $_W["\x75\x6e\x69\141\x63\151\x64"] . "\x5f\155\x61\x72\x6b\x65\x74", $market); goto iTDu9; H7gcy: return $market; goto ZiV7q; iTDu9: adwWK: goto H7gcy; ZiV7q: } public function getArticleCategory() { goto uomug; SgEJR: te92W: goto ioZa0; wFqFv: if (!empty($list)) { goto te92W; } goto ODAXM; ioZa0: return $list; goto ruQTx; uomug: global $_W; goto c5N97; GJluR: cache_write("\x66\171\137\x6c\x65\163\x73\157\156\x5f" . $_W["\x75\x6e\x69\x61\143\x69\144"] . "\137\141\x72\x74\151\143\154\145\137\x63\141\164\145\x67\x6f\162\x79\x6c\x69\163\164", $list); goto SgEJR; ODAXM: $list = pdo_fetchall("\123\x45\114\x45\103\x54\40\x2a\x20\106\x52\x4f\115\x20" . tablename($this->table_article_category) . "\x20\x57\110\105\x52\105\x20\x75\156\x69\141\143\x69\144\75\72\x75\156\x69\x61\x63\x69\x64\40\101\116\x44\40\x73\x74\x61\x74\x75\163\75\x3a\163\164\x61\164\165\x73\40\x4f\x52\x44\105\x52\x20\x42\x59\x20\x64\151\163\x70\x6c\141\171\157\162\x64\x65\x72\40\104\105\x53\x43\54\x20\x69\144\40\x41\x53\x43", array("\x3a\165\156\151\x61\x63\x69\144" => $_W["\x75\156\x69\x61\143\151\x64"], "\72\163\x74\x61\164\165\163" => 1)); goto GJluR; c5N97: $list = cache_load("\x66\171\137\154\x65\x73\163\x6f\x6e\x5f" . $_W["\x75\x6e\151\141\x63\x69\144"] . "\x5f\x61\x72\x74\151\x63\x6c\145\137\x63\x61\164\145\x67\x6f\162\171\154\151\163\164"); goto wFqFv; ruQTx: } public function getTeacherCategory() { goto C3s00; MyDTg: if (!empty($category_list)) { goto Gb23y; } goto DsSU2; qX1md: cache_write("\x66\x79\137\154\x65\x73\x73\x6f\156\137" . $_W["\x75\156\151\141\143\x69\x64"] . "\137\164\145\141\143\150\x65\x72\137\143\141\x74\145\x67\157\x72\171\x6c\x69\163\164", $category_list); goto D_HwE; uVxxR: $category_list = cache_load("\146\171\x5f\x6c\x65\x73\163\157\156\x5f" . $_W["\165\x6e\x69\x61\143\151\x64"] . "\137\x74\x65\x61\143\x68\145\x72\137\143\141\164\x65\x67\157\162\x79\x6c\151\x73\164"); goto MyDTg; F4Kdv: return $category_list; goto bz59k; DsSU2: $list = pdo_fetchall("\x53\105\x4c\x45\103\x54\x20\x2a\x20\106\x52\117\115\40" . tablename($this->table_teacher_category) . "\40\x57\110\105\x52\105\x20\x75\156\x69\141\x63\151\144\x3d\x3a\x75\156\151\x61\143\151\x64\40\x41\116\104\40\163\x74\141\x74\x75\x73\x3d\x3a\x73\164\x61\x74\x75\x73\x20\x4f\x52\x44\105\122\x20\102\x59\x20\x64\151\x73\x70\x6c\x61\171\157\162\144\x65\162\40\x44\105\x53\103\x2c\40\151\144\x20\101\x53\103", array("\72\x75\156\151\141\143\x69\x64" => $_W["\165\x6e\x69\x61\143\x69\144"], "\x3a\163\x74\x61\x74\165\x73" => 1)); goto DdkOn; DdkOn: $category_list = array(); goto xV8sI; D_HwE: Gb23y: goto F4Kdv; LpjNC: fcZJx: goto qX1md; C3s00: global $_W; goto uVxxR; xV8sI: foreach ($list as $v) { $category_list[$v["\x69\144"]] = $v["\x6e\141\x6d\x65"]; VTiMa: } goto LpjNC; bz59k: } public function getRandMember($limit = 200) { goto AZBH8; p6kuY: uvnsQ: goto ib6fX; IxKr1: foreach ($member_list as $k => $v) { goto P0GIa; P0GIa: $v["\156\x69\x63\153\156\141\x6d\x65"] = $this->substrCut($v["\x6e\151\x63\x6b\156\x61\155\x65"], 1, 1); goto z0NMA; z0NMA: $list[] = $v["\156\x69\143\153\x6e\x61\x6d\x65"]; goto QgURZ; QgURZ: l50Zd: goto lFP5d; lFP5d: } goto p6kuY; YBdFj: cache_write("\146\171\137\x6c\x65\163\163\157\x6e\x5f" . $_W["\x75\x6e\x69\x61\x63\151\x64"] . "\x5f\x6d\145\x6d\x62\145\162\137\x72\x61\x6e\144\x5f\154\x69\x73\x74", $list); goto bZttY; ib6fX: cache_write("\146\171\x5f\154\145\x73\163\157\156\x5f" . $_W["\x75\x6e\x69\141\143\151\144"] . "\137\x6d\x65\155\142\x65\x72\x5f\x72\x61\x6e\x64\137\x6c\x69\x73\x74\x5f\143\141\x63\x68\145\137\x74\x69\x6d\145", time() + 300); goto YBdFj; PL6pQ: $list = cache_load("\x66\171\x5f\x6c\x65\x73\163\157\x6e\137" . $_W["\165\156\x69\x61\143\x69\x64"] . "\137\155\145\155\142\x65\x72\x5f\162\x61\156\x64\x5f\x6c\x69\163\x74"); goto yq1TZ; V3KIy: if (!(empty($list) || time() > $cache_time)) { goto G2SZv; } goto mic7k; bZttY: G2SZv: goto G2smK; AZBH8: global $_W; goto PL6pQ; yq1TZ: $cache_time = intval(cache_load("\x66\x79\137\x6c\145\x73\163\x6f\x6e\x5f" . $_W["\165\156\x69\x61\143\x69\x64"] . "\x5f\155\145\x6d\142\145\162\x5f\162\141\156\144\x5f\154\x69\163\164\x5f\x63\x61\x63\150\x65\x5f\x74\x69\155\x65")); goto V3KIy; N4si1: $list = array(); goto IxKr1; mic7k: $member_list = pdo_fetchall("\x53\x45\114\x45\x43\124\x20\x6e\x69\x63\x6b\156\141\155\145\x20\x46\122\117\115\40" . tablename($this->table_mc_members) . "\40\127\x48\105\122\105\40\165\x6e\151\141\x63\151\144\75\x3a\165\x6e\x69\141\143\151\x64\40\101\116\x44\x20\x6e\x69\143\153\x6e\141\x6d\145\x21\75\72\156\151\143\x6b\156\x61\155\145\40\117\122\104\105\122\x20\x42\131\x20\122\101\116\x44\x28\x29\40\114\x49\115\x49\x54\x20\60\x2c{$limit}\40", array("\x3a\x75\x6e\x69\x61\143\151\x64" => $_W["\165\x6e\x69\141\143\151\144"], "\72\x6e\x69\143\153\x6e\141\x6d\x65" => '')); goto N4si1; G2smK: return $list; goto dZgpa; dZgpa: } public function substrCut($user_name, $head, $foot) { goto F2rsP; VwpNv: return $strlen == 2 ? $firstStr . "\x2a\52\x2a" : $firstStr . "\52\52\x2a" . $lastStr; goto BGj0_; kAe68: $lastStr = mb_substr($user_name, -$foot, $foot, "\165\x74\146\x2d\x38"); goto VwpNv; wSGbJ: $firstStr = mb_substr($user_name, 0, $head, "\x75\x74\146\55\x38"); goto kAe68; F2rsP: $strlen = mb_strlen($user_name, "\165\164\x66\x2d\x38"); goto wSGbJ; BGj0_: } public function privateDownloadUrl($accessKey, $secretKey, $baseUrl, $expires = 3600) { goto e_KhR; z6sQf: if ($pos !== false) { goto qUjgW; } goto w4n37; hMFsd: goto Iweaf; goto z9gEX; djXwq: Iweaf: goto m3rWt; m3rWt: $baseUrl .= $deadline; goto O6Iad; dbd4L: return "{$baseUrl}\46\x74\157\x6b\145\156\x3d{$token}"; goto LrQOF; L3885: $baseUrl .= "\x26\x65\x3d"; goto djXwq; O6Iad: $hmac = hash_hmac("\x73\150\141\61", $baseUrl, $secretKey, true); goto I0E8y; yrgue: $replace = array("\55", "\x5f"); goto hIDj1; w4n37: $baseUrl .= "\77\x65\x3d"; goto hMFsd; z9gEX: qUjgW: goto L3885; hIDj1: $hmac = str_replace($find, $replace, base64_encode($hmac)); goto RjvpV; e_KhR: $deadline = time() + $expires; goto gIj3W; gIj3W: $pos = strpos($baseUrl, "\77"); goto z6sQf; RjvpV: $token = $accessKey . "\x3a" . $hmac; goto dbd4L; I0E8y: $find = array("\53", "\57"); goto yrgue; LrQOF: } public function tencentDownloadUrl($qcloud, $access_url) { goto dRQpk; nojdo: return $qcloudCos->getJsonSignature($qcloud, $access_url); goto w2T7f; LT5s1: goto fDFEe; goto xBesE; k4_r1: return $qcloudCos->getXmlSignature($qcloud["\163\x65\143\x72\x65\164\151\144"], $qcloud["\x73\145\x63\162\145\164\x6b\145\x79"], $Method = "\x47\105\x54", $access_url); goto OXSFK; w2T7f: fDFEe: goto yUVL3; dRQpk: $qcloudCos = new QcloudCos(); goto r7OCS; xBesE: z631d: goto k4_r1; sMnKV: kpR8K: goto nojdo; OXSFK: goto fDFEe; goto sMnKV; iOXAn: if (empty($qcloud["\x71\x63\154\157\165\x64\x5f\164\x79\x70\145"]) || $qcloud["\x71\143\x6c\x6f\x75\x64\x5f\164\x79\160\145"] == "\x6a\x73\x6f\156") { goto kpR8K; } goto LT5s1; r7OCS: if ($qcloud["\161\x63\x6c\157\165\144\137\x74\x79\x70\145"] == "\x78\155\154") { goto z631d; } goto iOXAn; yUVL3: } public function aliyunOssPlayUrl($default_url, $aliyunoss) { goto vINmc; RV4tJ: if (!$aliyunoss["\x68\164\164\x70\163"]) { goto L9gj6; } goto TysA2; ZeVST: $play_url = "\150\164\x74\160\72\57\x2f" . $aliyunoss["\x62\165\143\153\x65\x74\x5f\x75\162\154"] . $param[1]; goto RV4tJ; kA8y3: L9gj6: goto Tuv5j; Tuv5j: return $play_url; goto rydQp; vINmc: $param = explode($aliyunoss["\x65\156\x64\160\x6f\151\x6e\x74"], $default_url); goto ZeVST; TysA2: $play_url = "\x68\164\x74\160\163\x3a\x2f\57" . $aliyunoss["\142\x75\x63\x6b\x65\x74\x5f\165\x72\x6c"] . $param[1]; goto kA8y3; rydQp: } public function saveImage($url, $image_path, $type = '') { goto n0ySe; QkFg2: curl_setopt($curl, CURLOPT_RETURNTRANSFER, true); goto oGAwI; fmSwS: curl_setopt($curl, CURLOPT_ENCODING, "\x67\172\x69\160"); goto otHRT; otHRT: curl_setopt($curl, CURLOPT_HTTPHEADER, $header); goto EOwFB; KI09U: if (!file_put_contents($new_file, base64_decode(str_replace($result[1], '', $img_content)))) { goto zzVvi; } goto RVoj2; Xymx6: if (!($type == "\x6a\160\x65\x67")) { goto m2OUf; } goto o5Tbe; xpA09: caKiK: goto PrV_3; puyHL: JdGwi: goto UuQZW; PrV_3: Fsz6X: goto fy7Bu; EOwFB: $data = curl_exec($curl); goto IPVLq; JD0DH: curl_setopt($curl, CURLOPT_SSL_VERIFYPEER, false); goto fmSwS; o5Tbe: $type = "\152\x70\147"; goto W8_Gr; eegrR: $header = array("\x55\x73\145\x72\x2d\x41\x67\x65\x6e\164\x3a\40\115\157\172\x69\x6c\154\141\x2f\x35\56\x30\x20\50\127\151\x6e\144\157\167\163\x20\x4e\x54\x20\x36\56\61\x3b\40\x57\x69\x6e\66\x34\x3b\40\x78\66\64\x3b\x20\x72\166\72\x34\65\x2e\x30\x29\40\107\145\x63\x6b\157\x2f\x32\60\x31\x30\x30\x31\x30\x31\x20\106\x69\x72\x65\146\157\x78\57\64\65\x2e\60", "\x41\143\x63\x65\160\164\x2d\x4c\x61\156\147\165\x61\147\x65\x3a\x20\x7a\x68\x2d\103\116\54\x7a\150\x3b\161\75\x30\56\70\54\x65\x6e\x2d\x55\x53\73\x71\x3d\x30\56\65\x2c\x65\x6e\73\x71\75\60\x2e\x33", "\101\143\x63\145\160\x74\55\x45\x6e\x63\157\144\x69\156\147\x3a\40\147\x7a\151\160\x2c\x20\x64\145\x66\154\x61\x74\x65"); goto hha_g; RVoj2: return $type; goto iZZZQ; DatAG: $type = $result[2]; goto Xymx6; iZZZQ: goto Fsz6X; goto r3wbH; ci6YP: return false; goto xpA09; fy7Bu: I5scQ: goto U1K5i; bgq20: curl_setopt($curl, CURLOPT_URL, $url); goto QkFg2; pQgw_: $imgBase64Code = "\x64\141\164\x61\x3a\151\x6d\x61\147\145\57\x6a\x70\x65\147\x3b\x62\x61\x73\145\x36\64\54" . base64_encode($data); goto puyHL; hha_g: $curl = curl_init(); goto bgq20; whuXU: if (!($code == 200)) { goto JdGwi; } goto pQgw_; WXS95: if (!($type == "\x61\x76\x61\164\x61\x72")) { goto caKiK; } goto ci6YP; IPVLq: $code = curl_getinfo($curl, CURLINFO_HTTP_CODE); goto eNxUK; W8_Gr: m2OUf: goto h2Nmi; h2Nmi: $new_file = $image_path . $type; goto KI09U; n0ySe: global $_W; goto eegrR; oGAwI: curl_setopt($curl, CURLOPT_FOLLOWLOCATION, true); goto JD0DH; I32mS: if (!preg_match("\57\136\x28\144\x61\x74\x61\72\134\x73\x2a\151\155\141\147\x65\x5c\57\50\x5c\167\53\x29\x3b\x62\141\x73\x65\x36\64\54\51\x2f", $img_content, $result)) { goto I5scQ; } goto DatAG; eNxUK: curl_close($curl); goto whuXU; UuQZW: $img_content = $imgBase64Code; goto I32mS; r3wbH: zzVvi: goto WXS95; U1K5i: } public function img_water_mark($srcImg, $waterImg, $savepath = null, $savename = null, $x, $y, $alpha = 100) { goto LIFNU; b_EZG: $exte = $temp["\x65\170\164\x65\156\x73\151\x6f\x6e"]; goto AqJfg; a5Xy3: $srcImgObj = $this->image_create_from_ext($srcImg); goto rfDvK; c_Y8f: if ($waterinfo) { goto zf0pD; } goto owM6R; Bekow: d1SK8: goto TlhEe; dtyNO: $waterinfo = @getimagesize($waterImg); goto c_Y8f; TlhEe: $waterImgObj = $this->image_create_from_ext($waterImg); goto YvN6N; n8dEo: return -1; goto AbduM; WS8gL: return $savefile; goto Toz1Y; X61Z3: $savepath = $savepath ? $savepath : $path; goto IZngw; aRe1R: PuIld: goto dgFqP; rfDvK: if ($srcImgObj) { goto d1SK8; } goto A1aIA; IZngw: $savefile = $savepath . "\x2f" . $savename; goto ABTXX; ABTXX: $srcinfo = @getimagesize($srcImg); goto Kso3W; S5q5B: lhwSV: goto bsSw6; dgFqP: c2LIa: goto qNX7_; CFagu: $path = $temp["\x64\151\162\156\x61\155\x65"]; goto b_EZG; ICIKR: return -4; goto S5q5B; A1aIA: return -3; goto Bekow; AbduM: m7Jii: goto dtyNO; YvN6N: if ($waterImgObj) { goto lhwSV; } goto ICIKR; phyBA: zf0pD: goto a5Xy3; bsSw6: imagecopymerge($srcImgObj, $waterImgObj, $x, $y, 0, 0, $waterinfo[0], $waterinfo[1], $alpha); goto NBpGe; NBpGe: switch ($srcinfo[2]) { case 1: imagegif($srcImgObj, $savefile); goto c2LIa; case 2: imagejpeg($srcImgObj, $savefile); goto c2LIa; case 3: imagepng($srcImgObj, $savefile); goto c2LIa; default: return -5; } goto aRe1R; AqJfg: $savename = $savename ? $savename : $name; goto X61Z3; qNX7_: imagedestroy($srcImgObj); goto B2ui3; Kso3W: if ($srcinfo) { goto m7Jii; } goto n8dEo; A15uQ: $name = $temp["\142\x61\x73\x65\x6e\x61\155\145"]; goto CFagu; B2ui3: imagedestroy($waterImgObj); goto WS8gL; owM6R: return -2; goto phyBA; LIFNU: $temp = pathinfo($srcImg); goto A15uQ; Toz1Y: } public function image_create_from_ext($imgfile) { goto PG7ib; U9mtj: $im = null; goto uh3SC; XXQC5: return $im; goto yb2DQ; uh3SC: switch ($info[2]) { case 1: $im = imagecreatefromgif($imgfile); goto iPpUW; case 2: $im = imagecreatefromjpeg($imgfile); goto iPpUW; case 3: $im = imagecreatefrompng($imgfile); goto iPpUW; } goto zifNU; zifNU: HWUz_: goto axxgi; PG7ib: $info = getimagesize($imgfile); goto U9mtj; axxgi: iPpUW: goto XXQC5; yb2DQ: } public function resize($imgsrc, $imgdst, $maxWidth = 1024, $maxHeight = 1024, $imgQuality) { goto C8Ggn; VC3zC: if (!($scale > 1)) { goto iwzCV; } goto d2J2A; d2J2A: return; goto tTCVa; VpJo8: $scale = min($maxWidth / $width, $maxHeight / $height); goto VC3zC; S1JcV: $new_height = floor($scale * $height); goto gTbM6; tTCVa: iwzCV: goto L_c4q; gTbM6: switch ($type) { case 1: goto LXNQf; wGl1U: $image = imagecreatefromgif($imgsrc); goto IDas4; LXNQf: $image_wp = imagecreatetruecolor($new_width, $new_height); goto wGl1U; VtDjW: imagejpeg($image_wp, $imgdst, $imgQuality); goto mFzYt; mFzYt: imagedestroy($image_wp); goto ebr1v; IDas4: imagecopyresampled($image_wp, $image, 0, 0, 0, 0, $new_width, $new_height, $width, $height); goto VtDjW; ebr1v: goto MBcV5; goto tNuIf; tNuIf: case 2: goto I2jny; KlhNA: imagecopyresampled($image_wp, $image, 0, 0, 0, 0, $new_width, $new_height, $width, $height); goto o9FcZ; I2jny: $image_wp = imagecreatetruecolor($new_width, $new_height); goto eEW0h; eEW0h: $image = imagecreatefromjpeg($imgsrc); goto KlhNA; eQmeA: imagedestroy($image_wp); goto jbrF2; o9FcZ: imagejpeg($image_wp, $imgdst, $imgQuality); goto eQmeA; jbrF2: goto MBcV5; goto r4pR0; r4pR0: case 3: goto KPtr_; YJ71h: goto MBcV5; goto QVibm; v6MAl: imagecopyresampled($image_wp, $image, 0, 0, 0, 0, $new_width, $new_height, $width, $height); goto gIyiv; T60bm: imagedestroy($image_wp); goto YJ71h; gIyiv: imagejpeg($image_wp, $imgdst, $imgQuality); goto T60bm; KPtr_: $image_wp = imagecreatetruecolor($new_width, $new_height); goto znNlu; znNlu: $image = imagecreatefrompng($imgsrc); goto v6MAl; QVibm: } goto cgF2T; zLf6N: i4Nvn: goto VpJo8; LR7p7: return; goto zLf6N; f1AFh: if (!($width < $maxWidth || $height < $maxHeight)) { goto i4Nvn; } goto LR7p7; L_c4q: $new_width = floor($scale * $width); goto S1JcV; cgF2T: ZawCa: goto ad3QJ; ad3QJ: MBcV5: goto Va3aM; C8Ggn: list($width, $height, $type) = getimagesize($imgsrc); goto f1AFh; Va3aM: } public function circularImg($imgpath, $savepath) { goto O_InG; pTO4a: $bg = imagecolorallocatealpha($img, 255, 255, 255, 127); goto o_QFp; KTvM4: $y_y = $r; goto PvbO9; Jo0YE: a_8Jq: goto Uk4AD; IBjoE: goto nxFXI; goto yQtU7; aqdpc: imagedestroy($img); goto iqi4K; tkQqZ: $img = imagecreatetruecolor($w, $h); goto Ij2kR; PvbO9: $x = 0; goto H3dbt; O_InG: $ext = pathinfo($imgpath); goto PLqfg; QmNUo: if (!($x < $w)) { goto Y21cc; } goto xhf8P; Mn0nF: $r = $w / 2; goto a83w0; yQtU7: Y21cc: goto XHdJC; afO14: $rgbColor = imagecolorat($src_img, $x, $y); goto yVnW8; ro9TI: $wh = getimagesize($imgpath); goto lv1Fs; qhZxT: tbdGF: goto dWLdO; PLqfg: $src_img = null; goto WbWfX; XHdJC: imagepng($img, $savepath); goto aqdpc; o_QFp: imagefill($img, 0, 0, $bg); goto Mn0nF; Ij2kR: imagesavealpha($img, true); goto pTO4a; H3dbt: nxFXI: goto QmNUo; AIOwQ: JgQOw: goto Jo0YE; WbWfX: switch ($ext["\145\170\164\145\156\163\151\x6f\x6e"]) { case "\x6a\160\147": $src_img = imagecreatefromjpeg($imgpath); goto yXMvx; case "\x70\156\147": $src_img = imagecreatefrompng($imgpath); goto yXMvx; } goto qhZxT; MP9ng: e3bAM: goto zkWz2; Uk4AD: $y++; goto uOgvi; uOgvi: goto e3bAM; goto owELC; xhf8P: $y = 0; goto MP9ng; sumML: imagesetpixel($img, $x, $y, $rgbColor); goto AIOwQ; wzklW: qJG48: goto HAPCz; zkWz2: if (!($y < $h)) { goto El04S; } goto afO14; xrVN0: $h = $w; goto tkQqZ; dWLdO: yXMvx: goto ro9TI; WVKTd: $w = min($w, $h); goto xrVN0; HAPCz: $x++; goto IBjoE; nXV1f: $h = $wh[1]; goto WVKTd; yVnW8: if (!(($x - $r) * ($x - $r) + ($y - $r) * ($y - $r) < $r * $r)) { goto JgQOw; } goto sumML; owELC: El04S: goto wzklW; a83w0: $y_x = $r; goto KTvM4; lv1Fs: $w = $wh[0]; goto nXV1f; iqi4K: } public function mergerImg($bigImgPath, $smallImgPath, $width, $height, $bigImgPaths) { goto bfzxY; XLbPW: imagejpeg($image_3, $bigImgPaths); goto PCLTG; vRgFr: imagecopy($image_3, $image_kuang, $width, $height, 0, 0, imagesx($image_kuang), imagesy($image_kuang)); goto XLbPW; ZciW6: imageColorTransparent($image_3, $color); goto WWODA; UUTRT: $image_3 = imageCreatetruecolor(imagesx($image_photo), imagesy($image_photo)); goto GS1gO; WWODA: imagecopyresampled($image_3, $image_photo, 0, 0, 0, 0, imagesx($image_photo), imagesy($image_photo), imagesx($image_photo), imagesy($image_photo)); goto vRgFr; U4rYI: imagefill($image_3, 0, 0, $color); goto ZciW6; Qt1Mj: $image_photo = imagecreatefromstring(file_get_contents($bigImgPath)); goto UUTRT; PCLTG: return $bigImgPaths; goto LuUnb; GS1gO: $color = imagecolorallocate($image_3, 255, 255, 255); goto U4rYI; bfzxY: $image_kuang = imagecreatefromstring(file_get_contents($smallImgPath)); goto Qt1Mj; LuUnb: } public function checkSystenType() { goto lqYr_; W83mi: fpU1p: goto G0Qlr; qlUYw: return "\151\x6f\163"; goto o0DC9; WUFuR: H9QH8: goto B0DHb; la8zV: goto fpU1p; goto WUFuR; G0Qlr: goto qTNWn; goto epz3r; epz3r: rieFO: goto qlUYw; B0DHb: return "\x61\x6e\x64\x72\x6f\151\144"; goto W83mi; yBsC7: if (strpos($_SERVER["\x48\x54\124\120\x5f\125\123\x45\x52\137\x41\107\x45\x4e\x54"], "\x41\156\x64\162\157\x69\144")) { goto H9QH8; } goto i5cN7; o0DC9: qTNWn: goto irPSX; lqYr_: if (strpos($_SERVER["\x48\124\124\120\x5f\125\123\x45\x52\x5f\101\107\105\116\124"], "\151\120\x68\x6f\156\145") || strpos($_SERVER["\110\x54\124\120\x5f\x55\123\x45\x52\137\x41\107\105\x4e\124"], "\x69\120\x61\x64")) { goto rieFO; } goto yBsC7; i5cN7: return ''; goto la8zV; irPSX: } public function check_black_list($type, $uid = '') { goto FrNCv; Vvg0S: if (!($type == "\x6f\162\144\x65\x72" && $member["\142\154\x61\143\153\x6c\151\163\x74"] == 1)) { goto vYj2_; } goto jyCrw; jyCrw: $stop_order = $common["\x6f\x74\x68\x65\x72\x5f\x70\141\x67\x65"]["\x73\164\x6f\x70\x5f\x6f\162\144\145\162"] ? $common["\157\x74\x68\145\x72\137\x70\x61\147\x65"]["\x73\x74\157\160\137\x6f\162\144\145\x72"] : "\xe5\275\x93\345\x89\215\xe7\x94\250\346\x88\xb7\xe5\267\262\350\242\253\345\201\234\346\xad\242\xe4\xb8\213\xe5\215\225"; goto ozFX4; losnF: return; goto frBPQ; G3ts6: $stop_visit = $common["\x6f\x74\150\x65\x72\x5f\160\x61\147\145"]["\x73\x74\157\x70\137\x76\x69\163\151\164"] ? $common["\157\x74\150\x65\162\x5f\160\x61\x67\145"]["\163\164\x6f\x70\137\166\x69\163\151\x74"] : "\xe5\275\x93\xe5\x89\x8d\xe7\x94\xa8\346\x88\xb7\345\267\262\xe8\xa2\xab\345\x81\x9c\xe6\255\xa2\xe8\xae\xbf\351\227\xae"; goto B10YR; B10YR: message($stop_visit, '', "\x77\141\162\x6e\151\x6e\147"); goto MaSBq; MkOqi: if (!($type == "\166\151\x73\151\x74" && $member["\x62\154\x61\143\x6b\x6c\x69\163\164"] == 2)) { goto xX1jQ; } goto G3ts6; frBPQ: PM641: goto zMbgl; ozFX4: message($stop_order, '', "\167\x61\162\x6e\151\156\147"); goto HsY92; MaSBq: xX1jQ: goto Vvg0S; oExfE: if ($member["\142\154\141\x63\x6b\154\x69\x73\x74"]) { goto PM641; } goto losnF; CWTk2: s1xJu: goto Y0_CT; FrNCv: global $_W; goto Q9nDj; zMbgl: $setting = cache_load("\x66\x79\x5f\x6c\145\x73\163\157\156\x5f" . $_W["\165\x6e\151\x61\x63\x69\144"] . "\137\163\145\x74\164\151\x6e\x67"); goto KYWCX; KYWCX: $common = json_decode($setting["\143\x6f\155\155\x6f\156"], true); goto MkOqi; hrMFH: return; goto CWTk2; HsY92: vYj2_: goto x7cW2; Q9nDj: if ($uid) { goto s1xJu; } goto hrMFH; Y0_CT: $member = pdo_get($this->table_member, array("\165\156\x69\x61\x63\x69\x64" => $_W["\165\x6e\151\x61\x63\151\x64"], "\165\x69\x64" => $uid), array("\x62\x6c\x61\143\153\154\x69\163\164")); goto oExfE; x7cW2: } public function addSysLog($admin_uid, $admin_username, $log_type, $function, $content) { goto Sg74H; bi_3_: $log_data = array("\x75\x6e\151\x61\143\151\144" => $_W["\x75\156\x69\x61\143\x69\144"], "\x61\x64\x6d\151\x6e\x5f\x75\151\x64" => $admin_uid, "\141\144\x6d\x69\156\137\165\163\x65\162\156\141\x6d\x65" => $admin_username, "\154\x6f\x67\x5f\164\171\160\x65" => $log_type, "\x66\x75\156\143\x74\151\157\x6e" => $function, "\143\x6f\156\164\x65\156\x74" => $content, "\x69\x70" => $ip, "\141\144\x64\x74\151\155\145" => time()); goto RVE54; RVE54: return pdo_insert($this->table_syslog, $log_data); goto oL_8L; skjdz: goto twSt1; goto g8XNj; JD5i2: if (getenv("\110\124\x54\120\x5f\x43\114\x49\x45\x4e\124\x5f\x49\x50")) { goto UKewd; } goto iRCRT; K0dcH: UKewd: goto onvYQ; g8XNj: R2v6T: goto j8yWJ; ShfCm: $ip = getenv("\x48\124\124\120\x5f\130\x5f\106\117\x52\127\x41\122\x44\x45\x44\x5f\106\117\122"); goto jCDbc; o4Fg2: EJPK3: goto ShfCm; Sg74H: global $_W; goto JD5i2; pQyD4: goto hnsCD; goto o4Fg2; iRCRT: if (getenv("\x48\124\x54\x50\x5f\x58\137\x46\x4f\122\127\x41\x52\x44\105\x44\137\x46\117\122")) { goto EJPK3; } goto GgUhz; ByBkB: goto hnsCD; goto K0dcH; GgUhz: if (getenv("\x52\105\115\117\x54\x45\137\x41\x44\104\122")) { goto R2v6T; } goto AXSeb; AXSeb: $ip = $_SERVER["\122\105\115\x4f\x54\105\137\x41\x44\104\122"]; goto skjdz; zUPBg: twSt1: goto ByBkB; jCDbc: hnsCD: goto bi_3_; onvYQ: $ip = getenv("\110\124\x54\x50\x5f\103\114\111\x45\116\x54\x5f\111\120"); goto pQyD4; j8yWJ: $ip = getenv("\x52\x45\x4d\x4f\x54\105\x5f\x41\104\104\x52"); goto zUPBg; oL_8L: } public function getAgentLevelName($levelId) { goto V0Xf8; hg_cH: return $level ? $level["\x6c\x65\166\x65\154\156\x61\x6d\145"] : "\351\xbb\x98\350\xae\xa4\347\xba\xa7\xe5\210\253"; goto v0qK3; ngl4l: $level = pdo_fetch("\x53\x45\114\105\x43\x54\x20\x6c\x65\x76\145\x6c\x6e\141\155\x65\40\106\122\x4f\115\40" . tablename($this->table_commission_level) . "\40\x57\110\105\122\105\x20\165\156\151\x61\x63\x69\144\75\72\165\156\x69\x61\143\x69\x64\x20\x41\x4e\104\40\x69\144\75\72\151\x64", array("\72\x75\156\151\x61\143\x69\x64" => $_W["\x75\156\x69\141\143\x69\x64"], "\72\151\x64" => $levelId)); goto hg_cH; V0Xf8: global $_W; goto ngl4l; v0qK3: } public function getFansCount($uid) { global $_W; return pdo_fetchcolumn("\x53\105\x4c\105\x43\124\40\x43\117\125\116\x54\x28\52\51\40\106\x52\x4f\x4d\40" . tablename($this->table_member) . "\40\127\x48\x45\x52\105\40\165\x6e\151\141\x63\151\x64\x3d\72\x75\156\x69\x61\143\x69\144\40\x41\116\104\x20\x70\x61\x72\x65\156\x74\151\x64\x3d\x3a\x70\x61\x72\x65\x6e\164\151\x64", array("\72\x75\156\151\141\x63\151\144" => $_W["\x75\156\151\x61\x63\151\144"], "\72\160\x61\162\x65\156\x74\151\144" => $uid)); } public function getWechatPayNo($tid) { return pdo_fetch("\123\x45\x4c\x45\x43\x54\40\x75\x6e\x69\x6f\156\x74\x69\144\54\x74\141\147\x20\106\122\117\x4d\x20" . tablename("\x63\157\x72\x65\137\160\141\171\154\x6f\147") . "\40\127\x48\105\x52\x45\40\x74\x69\x64\75\x3a\x74\151\144", array("\x3a\x74\151\144" => $tid)); } public function tranTime($time) { goto kOSY0; f5eai: $str = $rtime; goto sR5xR; QONCT: if ($d == 1) { goto u2QrO; } goto Fg4U5; s6PEl: $d = floor($time / (60 * 60 * 24)); goto QONCT; kwDg7: if ($time < 60 * 60 * 24 * 3) { goto imn_0; } goto f5eai; Fg4U5: $str = "\345\x89\x8d\345\244\xa9"; goto gQ7ip; m8p1j: FPEhX: goto NP3nC; xwHOn: $str = "\xe6\230\xa8\xe5\xa4\xa9"; goto xkRDE; jJT31: $str = $min . "\345\x88\206\351\222\x9f\345\x89\215"; goto ASfNh; NP3nC: $str = "\xe5\x88\x9a\xe5\210\x9a"; goto dWDtY; xkRDE: krN1s: goto Q19Xq; ASfNh: goto nHpEo; goto lmO0D; k4hpw: u2QrO: goto xwHOn; B9c5o: if ($time < 60) { goto FPEhX; } goto RQqmA; RQqmA: if ($time < 60 * 60) { goto M7ANi; } goto h2HTg; ooUoG: M7ANi: goto H_AMk; kOSY0: $rtime = date("\155\55\144\40\x48\72\151", $time); goto qF1MO; QRNIu: goto nHpEo; goto h20On; BDoM3: return $str; goto SOArb; H_AMk: $min = floor($time / 60); goto jJT31; gQ7ip: goto krN1s; goto k4hpw; dWDtY: goto nHpEo; goto ooUoG; VaJ3A: $h = floor($time / (60 * 60)); goto s948l; sR5xR: goto nHpEo; goto m8p1j; Q19Xq: nHpEo: goto BDoM3; lmO0D: ANAM7: goto VaJ3A; h2HTg: if ($time < 60 * 60 * 24) { goto ANAM7; } goto kwDg7; Yemv5: $time = time() - $time; goto B9c5o; s948l: $str = $h . "\xe5\260\217\xe6\x97\xb6\xe5\x89\215"; goto QRNIu; qF1MO: $htime = date("\x48\72\151", $time); goto Yemv5; h20On: imn_0: goto s6PEl; SOArb: } public function secToTime($seconds, $show_h = true) { goto pqJnN; xV1SK: return $time; goto zEE4H; gdZrr: $minutes = $seconds % 3600; goto qpzOt; CLVZB: $time = gmstrftime("\45\115\x3a\45\x53", $seconds); goto ECJ9A; w1Kp_: VoFf2: goto xG49q; JgEUu: ho6YB: goto xV1SK; WIc7B: if ($show_h) { goto sebT2; } goto CLVZB; EGftT: $time = gmstrftime("\x25\110\x3a\x25\x4d\x3a\x25\123", $seconds); goto w1Kp_; lcA_F: RSHhr: goto sxEf9; xG49q: goto ho6YB; goto lcA_F; sxEf9: $hours = intval($seconds / 3600) >= 10 ? intval($seconds / 3600) : "\x30" . intval($seconds / 3600); goto gdZrr; ECJ9A: goto VoFf2; goto pPVN6; qpzOt: $time = $hours . "\72" . gmstrftime("\x25\115\x3a\x25\x53", $minutes); goto JgEUu; pqJnN: if ($seconds > 3600) { goto RSHhr; } goto WIc7B; pPVN6: sebT2: goto EGftT; zEE4H: } public function secToTime2($seconds) { goto O3EeG; KRLBg: $h = floor($seconds % (3600 * 24) / 3600); goto x06Gd; Qtax1: goto LlWkE; goto HMhUf; kBiZ5: if ($seconds > 60 && $seconds < 3600) { goto I3go1; } goto t1L9k; jDwSt: goto LlWkE; goto LSVDb; juva2: $time = "\61\xe5\210\x86\60\xe7\247\x92"; goto pCuu1; pCuu1: goto LlWkE; goto MOERo; s2o2y: $time = $h . "\xe6\x97\266" . $m . "\345\x88\x86"; goto efCxC; VL5WH: $time = intval($seconds / 60) . "\xe5\x88\x86" . $seconds % 60 . "\xe7\xa7\x92"; goto jDwSt; MOERo: I3go1: goto VL5WH; LSVDb: OiZPo: goto Ez4eI; pq2VF: if ($seconds == 0) { goto HNv29; } goto dQ1jR; t1L9k: if ($seconds >= 3600) { goto OiZPo; } goto b70_Z; x06Gd: $m = floor($seconds % (3600 * 24) % 3600 / 60); goto pq2VF; lV5ql: HNv29: goto CMr10; O3EeG: $d = floor($seconds / (3600 * 24)); goto KRLBg; HMhUf: WGbJR: goto juva2; CMr10: $time = "\x30\345\x88\x86\60\347\xa7\x92"; goto vI403; b70_Z: goto LlWkE; goto lV5ql; aeXG5: return $time; goto AmvVa; APOxG: aDwp9: goto NHIAP; NHIAP: $time = $d . "\345\xa4\251" . $h . "\xe6\227\xb6" . $m . "\xe5\x88\x86"; goto ZTPQt; NY3U0: $time = "\60\xe5\x88\206" . $seconds . "\347\xa7\222"; goto Qtax1; F8Hdq: if ($seconds == 60) { goto WGbJR; } goto kBiZ5; Ez4eI: if ($d) { goto aDwp9; } goto s2o2y; dQ1jR: if ($seconds < 60) { goto PK0FY; } goto F8Hdq; vI403: goto LlWkE; goto bUqrx; ZTPQt: hTZFA: goto Y7GuF; Y7GuF: LlWkE: goto aeXG5; efCxC: goto hTZFA; goto APOxG; bUqrx: PK0FY: goto NY3U0; AmvVa: } function hexTorgb($hexColor) { goto zvVIN; XtHmm: EBbhg: goto qrHnV; IOaZc: G0DH3: goto i4BYc; i4BYc: return $rgb; goto loVwM; MQP04: if (strlen($color) > 3) { goto EBbhg; } goto ila9E; zvVIN: $color = str_replace("\43", '', $hexColor); goto MQP04; zM4FT: $g = substr($color, 1, 1) . substr($color, 1, 1); goto U5Pf2; JjQiN: $rgb = array("\x72" => hexdec($r), "\147" => hexdec($g), "\x62" => hexdec($b)); goto JVzz8; JVzz8: goto G0DH3; goto XtHmm; ila9E: $color = $hexColor; goto kTsnA; kTsnA: $r = substr($color, 0, 1) . substr($color, 0, 1); goto zM4FT; U5Pf2: $b = substr($color, 2, 1) . substr($color, 2, 1); goto JjQiN; qrHnV: $rgb = array("\162" => hexdec(substr($color, 0, 2)), "\x67" => hexdec(substr($color, 2, 2)), "\142" => hexdec(substr($color, 4, 2))); goto IOaZc; loVwM: } public function char_array($str, $charset = "\x75\164\146\55\x38") { goto sbKCR; RXTSb: $re["\x62\151\147\65"] = "\57\x5b\x1\55\x7f\135\x7c\133\x81\55\376\135\50\x5b\x40\55\x7e\135\174\241\x2d\376\x5d\51\57"; goto xUzbZ; DUuCY: $re["\147\142\153"] = "\57\133\x1\x2d\177\x5d\174\133\201\x2d\xfe\135\x5b\x40\55\376\x5d\57"; goto RXTSb; sbKCR: $re["\x75\x74\146\x2d\70"] = "\57\133\1\x2d\x7f\x5d\x7c\x5b\xc2\x2d\337\135\x5b\x80\55\277\135\174\133\xe0\55\357\135\133\x80\x2d\277\135\173\x32\175\x7c\133\360\55\377\x5d\133\x80\55\xbf\135\173\63\175\57"; goto AfLeo; JYBn9: return $match[0]; goto tcSQE; AfLeo: $re["\x67\x62\x32\x33\x31\x32"] = "\57\x5b\x1\x2d\x7f\135\174\x5b\xb0\x2d\367\x5d\133\240\x2d\xfe\135\57"; goto DUuCY; xUzbZ: preg_match_all($re[$charset], $str, $match); goto JYBn9; tcSQE: } public function downloadFile($fileid) { goto e8IOb; OnPSL: $file = @fopen($file_url, "\162"); goto aHuqk; AKcBc: fclose($fp); goto JxNSd; Y2QZJ: $file_url = ATTACHMENT_ROOT . $document["\x66\x69\154\145\160\141\164\x68"]; goto Ynx_Z; GY6wq: LeMoC: goto JxaYA; HopMN: $document = pdo_get($this->table_document, array("\165\156\151\141\x63\x69\x64" => $_W["\165\156\151\x61\x63\151\x64"], "\151\144" => $fileid)); goto ejxGs; e8xNQ: goto g9vDk; goto GdzEU; F_ROS: header("\x41\x63\x63\145\x70\164\x2d\114\145\x6e\147\164\x68\72{$fileSize}"); goto ZxpDe; EcoMl: $ua = $_SERVER["\x48\124\x54\x50\137\x55\123\x45\122\137\x41\x47\105\x4e\124"]; goto DdO_7; PG39I: exit; goto dLT39; gFByz: header("\x43\x6f\156\164\145\x6e\164\x2d\164\x79\x70\x65\x3a\40\x61\x70\x70\x6c\151\143\x61\x74\151\x6f\x6e\x2f\157\x63\164\145\164\x2d\163\x74\x72\145\x61\x6d"); goto Q3lIh; E0gCR: yWgjH: goto e8xNQ; aHuqk: if ($file) { goto yJUh0; } goto V_Pqn; ZxpDe: if (preg_match("\x2f\x4d\x53\x49\x45\57", $ua) || preg_match("\x2f\x54\x72\x69\144\145\156\164\x5c\57\x37\x2e\60\57", $ua) || preg_match("\x2f\105\144\147\x65\x2f", $ua)) { goto iiDq9; } goto EWQ_x; F5y4_: zxDyK: goto RFNqu; rgIaU: qWuew: goto fU_Or; SjqR7: $fileData = ''; goto F5y4_; ejxGs: if (!empty($document)) { goto tISPm; } goto HnS00; au98m: EiIdX: goto k3fRk; DdO_7: $filename = $document["\x74\151\x74\154\x65"]; goto xS4RP; V_Pqn: message("\xe8\xbf\234\xe7\xa8\213\346\x96\207\xe4\xbb\266\344\xb8\215\345\255\x98\345\234\250"); goto nx_Do; Ynx_Z: if (file_exists($file_url)) { goto XTCA1; } goto AgktE; KIAMk: m06A4: goto i1lsU; I2kZd: header("\x43\141\143\x68\x65\x2d\x43\157\156\164\162\157\154\x3a\40\x70\x75\142\x6c\x69\143"); goto gc21y; WDRTQ: $filename = rawurlencode($filename); goto S_V5F; A0HnU: header("\x45\x78\160\151\x72\145\x73\x3a\x20\60"); goto GgL1Z; uEh2_: header("\x43\157\156\x74\145\156\164\x2d\x44\151\163\160\x6f\x73\x69\x74\x69\x6f\x6e\72\x20\x61\164\x74\x61\x63\x68\x6d\x65\156\x74\73\x20\146\x69\154\145\x6e\x61\155\x65\75\x22" . $filename . "\42"); goto Qs2L3; EWQ_x: if (preg_match("\57\106\151\162\145\x66\x6f\x78\57", $ua)) { goto agTIe; } goto VVoE5; dLT39: goto PPjrH; goto u5nxj; HYiQP: xbcxg: goto AKcBc; GgL1Z: header("\x43\x61\143\150\x65\55\103\x6f\156\x74\162\157\154\72\x20\x6d\165\x73\164\x2d\x72\145\x76\141\154\x69\144\141\x74\x65\x2c\40\x70\157\x73\164\x2d\x63\x68\x65\143\153\75\60\54\40\x70\162\145\55\143\150\145\x63\x6b\x3d\x30"); goto I2kZd; u5nxj: uBdFj: goto DBDJi; fU_Or: PPjrH: goto PgBBo; xS4RP: $encoded_filename = urlencode($filename); goto FsZ8T; Q5kwN: echo fread($file, $buffer); goto wJEg9; sDbJG: agTIe: goto aKHLV; oJsgy: if (!empty($_W["\x73\145\x74\164\x69\156\147"]["\162\145\x6d\157\x74\145"]["\164\171\160\145"])) { goto uBdFj; } goto Y2QZJ; wJEg9: goto EiIdX; goto WlOix; HnS00: message("\346\x96\207\344\273\266\350\256\xb0\345\275\x95\xe4\270\215\345\xad\x98\345\234\250"); goto MhbI_; a7J_2: if (preg_match("\57\x46\151\x72\145\x66\157\170\57", $ua)) { goto LeMoC; } goto WDRTQ; rwk8M: iiDq9: goto xd56m; GdzEU: bQr7k: goto yzW89; Q3lIh: if (preg_match("\x2f\115\x53\111\105\x2f", $ua) || preg_match("\57\124\x72\x69\x64\145\x6e\x74\134\57\67\56\60\x2f", $ua) || preg_match("\x2f\105\x64\147\x65\x2f", $ua)) { goto bQr7k; } goto a7J_2; AgktE: message("\346\234\xac\345\234\xb0\xe6\226\207\344\273\xb6\xe4\270\x8d\xe5\255\230\345\x9c\xa8"); goto bqSa4; T4_EG: yJUh0: goto gFByz; WlOix: wIdIt: goto jscu4; YqisY: goto zxDyK; goto HYiQP; VVoE5: $filename = rawurlencode($filename); goto uEh2_; Qs2L3: goto RxveR; goto sDbJG; Bt1Qj: header("\x41\x63\143\x65\160\x74\55\x52\x61\x6e\147\x65\x73\x3a\142\171\x74\145\163"); goto F_ROS; RFNqu: if (feof($fp)) { goto xbcxg; } goto zzkXf; aKHLV: header("\103\157\156\164\x65\x6e\164\55\104\x69\163\x70\x6f\x73\151\164\151\157\156\x3a\40\x61\164\164\141\x63\150\x6d\145\x6e\x74\73\40\x66\x69\154\x65\156\141\x6d\145\x2a\75\x22\165\x74\x66\x38\47\x27" . $filename . "\x22"); goto hdEtT; JxNSd: header("\x50\162\x61\x67\x6d\x61\x3a\40\160\165\142\x6c\151\x63"); goto A0HnU; zzkXf: $fileData .= fread($fp, $buffer); goto YqisY; i1lsU: header("\103\x6f\x6e\x74\145\156\x74\55\x54\162\141\x6e\x73\x66\x65\162\x2d\x45\156\143\157\x64\151\x6e\147\x3a\40\x62\151\x6e\141\162\171"); goto kkboh; kkboh: echo $fileData; goto PG39I; DBDJi: $file_url = $_W["\141\164\164\x61\143\150\x75\162\154"] . $document["\146\151\154\145\x70\x61\x74\150"]; goto OnPSL; DsRs3: $buffer = 102400; goto EcoMl; e8IOb: global $_W; goto HopMN; yzW89: header("\x43\x6f\156\164\x65\x6e\164\55\104\151\x73\x70\157\163\151\x74\151\157\156\x3a\40\x61\164\164\141\143\150\x6d\145\x6e\x74\x3b\40\x66\151\154\x65\x6e\x61\x6d\x65\75\x22" . $encoded_filename . "\x22"); goto iPLiA; nx_Do: goto qWuew; goto T4_EG; xd56m: header("\x43\x6f\156\x74\145\156\164\55\x44\x69\x73\x70\x6f\x73\x69\164\x69\157\x6e\x3a\40\x61\164\x74\141\143\x68\x6d\x65\156\164\x3b\40\x66\151\x6c\x65\x6e\141\155\145\75\42" . $encoded_filename . "\x22"); goto KIAMk; iPLiA: g9vDk: goto au98m; rfOwG: goto yWgjH; goto GY6wq; jscu4: fclose($file); goto TzEKN; hdEtT: RxveR: goto JQ1Qu; k3fRk: if (feof($file)) { goto wIdIt; } goto Q5kwN; bqSa4: XTCA1: goto IaUv5; FsZ8T: $encoded_filename = str_replace("\x2b", "\45\62\x30", $encoded_filename); goto oJsgy; eSgJE: $fileSize = filesize($file_url); goto SjqR7; Ge0GD: header("\x43\157\x6e\x74\145\x6e\x74\55\x74\x79\160\145\72\x61\x70\160\154\151\x63\141\x74\x69\x6f\x6e\57\x6f\x63\164\x65\164\55\x73\164\162\x65\141\x6d\73"); goto Bt1Qj; MhbI_: tISPm: goto DsRs3; JQ1Qu: goto m06A4; goto rwk8M; gc21y: header("\x43\x6f\156\164\145\x6e\164\55\104\x65\x73\143\162\151\x70\164\x69\157\156\72\x20\106\x69\x6c\x65\x20\124\x72\141\x6e\x73\146\x65\162"); goto Ge0GD; IaUv5: $fp = fopen($file_url, "\162"); goto eSgJE; TzEKN: exit; goto rgIaU; S_V5F: header("\x43\157\156\164\x65\156\x74\55\104\x69\163\x70\157\x73\x69\164\x69\157\156\x3a\x20\141\164\164\141\143\150\x6d\x65\156\x74\x3b\x20\x66\151\154\x65\156\141\155\145\75\x22" . $filename . "\x22"); goto rfOwG; JxaYA: header("\103\157\156\164\145\x6e\164\x2d\104\x69\x73\x70\x6f\163\x69\x74\151\157\156\x3a\x20\141\x74\164\x61\x63\150\155\x65\x6e\164\73\x20\146\x69\x6c\145\x6e\x61\x6d\145\x2a\75\x22\x75\x74\x66\70\x27\47" . $filename . "\42"); goto E0gCR; PgBBo: } public function getLiveHistoryChar($lessonid, $roomid, $limit = 150) { goto NmpZG; c3zTG: return; goto sGatV; PDbh5: $list = pdo_fetchall("\123\x45\114\x45\x43\x54\x20\52\x20\106\x52\x4f\x4d\40" . tablename($this->table_live_chatrecord) . "\x20\127\x48\x45\122\x45\40\x75\x6e\151\141\143\151\144\75\x3a\165\x6e\151\x61\143\x69\144\x20\101\x4e\x44\x20\154\145\163\x73\x6f\x6e\x69\144\x3d\x3a\x6c\x65\x73\x73\157\x6e\x69\144\x20\101\x4e\104\40\x72\157\157\155\x69\144\75\x3a\162\157\x6f\155\x69\x64\40\101\116\x44\x20\x73\164\x61\164\x75\x73\75\72\163\x74\141\164\165\x73\x20\x41\116\x44\40\164\x69\155\145\76\x3d\x3a\154\x61\x73\x74\137\155\x6f\x6e\164\x68\40\117\x52\x44\105\122\40\102\x59\x20\151\144\40\x44\105\123\x43\x20\x4c\x49\115\x49\x54\x20\60\54{$limit}", array("\x3a\x75\x6e\151\x61\143\x69\x64" => $uniacid, "\72\154\145\163\163\x6f\x6e\x69\144" => $lessonid, "\x3a\162\x6f\x6f\155\151\x64" => $roomid, "\x3a\x73\x74\141\x74\165\x73" => 1, "\72\154\x61\163\x74\137\155\157\156\x74\x68" => $last_month)); goto EncWI; ndXX3: $last_month = strtotime("\55\x31\x20\155\157\156\164\x68"); goto PDbh5; FlrN2: return $list; goto KPtPY; nw0xT: $end_time = 0; goto V8Xoo; sGatV: U4Odl: goto EAJ7f; EAJ7f: if ($roomid) { goto A_LgS; } goto kIlPk; ZLRiH: jFH0n: goto FlrN2; EncWI: $list = array_reverse($list); goto nw0xT; rXTt_: $uniacid = $_W["\x75\x6e\151\141\x63\151\x64"]; goto aqb8E; kIlPk: return; goto DmyJq; aqb8E: if ($lessonid) { goto U4Odl; } goto c3zTG; V8Xoo: foreach ($list as $k => $v) { goto BVca7; wqPHY: $list[$k] = $v; goto MQJ_C; ImH6L: $v["\164\151\x6d\145"] = ''; goto ih1KR; MQJ_C: oCn3b: goto QWzuW; AlmjJ: D5z2C: goto poQaV; fmNTI: if ($v["\x74\151\155\x65"] - $end_time > 60) { goto D5z2C; } goto ImH6L; ds7Vc: MFiri: goto wqPHY; poQaV: $end_time = $v["\x74\x69\x6d\145"]; goto MzHEH; MzHEH: $v["\164\x69\x6d\145"] = date("\x6d\55\x64\x20\110\x3a\151", $v["\x74\151\155\145"]); goto ds7Vc; ih1KR: goto MFiri; goto AlmjJ; BVca7: $v["\x62\x6f\x64\x79"] = urldecode($v["\142\157\x64\171"]); goto fmNTI; QWzuW: } goto ZLRiH; DmyJq: A_LgS: goto ndXX3; NmpZG: global $_W; goto rXTt_; KPtPY: } public function getLiveUrl($setting, $live_info, $play_type = "\x6d\x6f\142\151\x6c\145") { goto scBeM; C68LO: Sr65X: goto SFGSz; pW8Be: goto AnXcL; goto m8lJr; MBGRF: $uri .= "\56\x6d\x33\165\x38"; goto sHore; HdUch: $appName = "\x2f\154\151\x76\145\57"; goto AIJKC; nZg5u: $live_info["\166\151\x64\x65\157\165\x72\x6c"] = str_replace("\x2e\x6d\63\x75\70", "\56\146\x6c\166", $live_info["\166\x69\144\x65\157\x75\x72\154"]); goto Q5ZGq; TwrZi: FhpYi: goto NsHom; rBB68: $video_live = json_decode($setting["\166\x69\x64\145\x6f\137\154\151\x76\145"], true); goto D6iUP; ssBFt: $uri .= "\137" . $video_live["\141\154\151\171\x75\x6e"]["\x74\162\141\156\x73\143\x6f\144\151\x6e\x67\137\151\144"]; goto C68LO; Ceg3j: goto mI47U; goto W2XlL; Naftr: if ($play_type == "\x70\143") { goto KqUQj; } goto MBGRF; HCWPE: return $live_info["\166\x69\144\x65\x6f\x75\x72\154"]; goto pW8Be; sHore: goto L5z_o; goto IpbL2; xX9SQ: $uri .= "\x2e\146\x6c\x76"; goto vDNOJ; IpbL2: KqUQj: goto xX9SQ; Q5ZGq: LBeuq: goto HCWPE; xVZ5A: $timestamp = time() + 60 * $video_live["\x61\154\151\171\x75\x6e"]["\160\x6c\141\171\137\x76\141\x6c\x69\144\x69\x74\171"]; goto M8UCs; E9rSa: AnXcL: goto CYEjH; Yd34A: AQfZm: goto ITVXV; scBeM: global $_W; goto rBB68; ITVXV: return $live_info["\166\151\x64\x65\x6f\x75\162\154"]; goto S9Xgz; HyjmY: if ($live_info["\x74\171\x70\145"] == "\62") { goto p1y4v; } goto WzjCW; m8lJr: p1y4v: goto HdUch; SFGSz: if (!$live_info["\154\x69\x76\145\137\x73\160\x65\x65\144"]) { goto IM9Rm; } goto dFkao; x1_5M: if ($live_info["\164\171\160\145"] == "\x31") { goto FhpYi; } goto HyjmY; M8UCs: $rand = random(32, true); goto Eddvo; Hr_Kh: $protocols = $_W["\x73\151\x74\x65\163\x63\x68\x65\155\145"]; goto ynZM0; ynZM0: mI47U: goto xVZ5A; NsHom: if (!($play_type == "\160\143" && $live_info["\x6c\151\x76\145\x5f\163\160\145\x65\144"] == "\60")) { goto LBeuq; } goto nZg5u; XwrmD: return $play_url; goto E9rSa; iESo7: $play_url = $protocols . $video_live["\x61\154\151\x79\165\156"]["\x70\x6c\141\171\137\x64\157\x6d\x61\x69\156"] . $uri . "\77\x61\165\164\150\x5f\153\145\x79\75" . $timestamp . "\55" . $rand . "\x2d" . $uid . "\55" . $hashValue; goto XwrmD; S9Xgz: goto AnXcL; goto TwrZi; D6iUP: if ($live_info["\164\171\x70\145"] == "\x30") { goto AQfZm; } goto x1_5M; dFkao: $protocols = "\141\162\x74\143\72\x2f\57"; goto Ceg3j; AIJKC: $uri = $appName . $live_info["\x73\164\x72\x65\141\x6d\137\156\141\155\145"]; goto FhDr9; vDNOJ: L5z_o: goto Hr_Kh; Eddvo: $uid = 0; goto KfC3L; W2XlL: IM9Rm: goto Naftr; KfC3L: $hashValue = md5($uri . "\55" . $timestamp . "\55" . $rand . "\x2d" . $uid . "\x2d" . $video_live["\x61\154\x69\171\165\156"]["\160\154\x61\171\137\x6b\x65\171"]); goto iESo7; FhDr9: if (!$video_live["\141\154\x69\x79\x75\x6e"]["\x74\162\x61\156\163\143\x6f\144\151\156\x67\137\x69\144"]) { goto Sr65X; } goto ssBFt; WzjCW: goto AnXcL; goto Yd34A; CYEjH: } function autoLineSplit($str, $fontFamily, $fontSize, $charset, $width) { goto D1LJH; F6jjV: $textWidth = abs($dimensions[4] - $dimensions[0]); goto QvsjS; k5QP8: $result[] = mb_strimwidth($str, 0, $maxCount, '', $charset); goto FYqK_; VsufU: deBz_: goto XTExv; L6nev: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto mQVyB; PLWqr: goto deBz_; goto CYWWg; AYwJI: $result[] = $str; goto gsFBL; FYqK_: $str = str_replace($result[count($result) - 1], '', $str); goto LBXTm; D1LJH: $result = []; goto L6nev; LBXTm: $len = (strlen($str) + mb_strlen($str, $charset)) / 2; goto PLWqr; CYWWg: dNUsB: goto AYwJI; QvsjS: $singleW = $textWidth / $len; goto pbW2H; pbW2H: $maxCount = floor($width / $singleW); goto VsufU; XTExv: if (!($len > $maxCount)) { goto dNUsB; } goto k5QP8; mQVyB: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto F6jjV; gsFBL: return $result; goto TY4ZJ; TY4ZJ: } function getFontWidth($str, $fontFamily, $fontSize, $charset, $left, $boxWidth) { goto PnpXd; JB_Fw: $result_left = $left + ($boxWidth - $textWidth) / 2; goto SEfgJ; dJNh7: $result_left = $left - ($textWidth - $boxWidth) / 2; goto icibd; SEfgJ: nq0Jc: goto ejktx; PnpXd: $dimensions = imagettfbbox($fontSize, 0, $fontFamily, $str); goto DQVzX; icibd: goto nq0Jc; goto KptSg; CvLST: if ($boxWidth >= $textWidth) { goto Frgwq; } goto dJNh7; ejktx: return $result_left; goto RXpqM; DQVzX: $textWidth = abs($dimensions[4] - $dimensions[0]); goto CvLST; KptSg: Frgwq: goto JB_Fw; RXpqM: } public function exportCSV($data = array(), $headlist = array(), $fileName) { goto fnaVc; D2TTy: if (!($i < $count)) { goto QGUNC; } goto hlo3z; ZAgDd: fputcsv($fp, $row); goto WDFgm; hlo3z: $num++; goto Qbasn; dFMMc: fputcsv($fp, $headlist); goto HXXYG; lsf64: header("\103\x6f\156\x74\145\156\164\x2d\x44\x69\x73\160\157\x73\x69\x74\x69\157\156\72\40\141\x74\164\x61\143\150\155\x65\156\164\73\x66\x69\154\145\x6e\x61\x6d\x65\x3d\42" . $fileName . "\56\x63\x73\x76\42"); goto vZX0Y; JdA3F: flush(); goto lzRYc; vZX0Y: header("\103\141\x63\x68\x65\x2d\103\x6f\x6e\x74\162\157\154\x3a\x20\155\x61\x78\55\141\147\145\75\60"); goto Nn7jH; fnaVc: header("\x43\157\x6e\164\145\156\164\x2d\124\x79\160\x65\x3a\40\141\160\160\x6c\151\x63\141\164\151\157\x6e\x2f\x76\156\x64\x2e\155\x73\x2d\145\x78\143\x65\154"); goto lsf64; Nn7jH: $fp = fopen("\160\x68\x70\x3a\57\57\x6f\165\164\160\x75\164", "\x61"); goto Jq8WD; WDFgm: IlodK: goto STrpC; xw47y: Fvi0e: goto CxTrf; kgcxw: exit; goto z_F36; blWnZ: IyjIM: goto ZAgDd; lzRYc: $num = 0; goto xw47y; CxTrf: $row = $data[$i]; goto HhRiG; Jq8WD: foreach ($headlist as $key => $value) { $headlist[$key] = iconv("\x75\164\x66\55\x38", "\x67\x62\x6b", $value); Lzsy2: } goto C3RsB; F0LXt: dkslt: goto D2TTy; C3RsB: gmPH1: goto dFMMc; Qbasn: if (!(10000 == $num)) { goto Fvi0e; } goto Y904p; STrpC: $i++; goto DX8Zt; Y904p: ob_flush(); goto JdA3F; HXXYG: $num = 0; goto StIKf; EFUkN: $i = 0; goto F0LXt; Skc8G: QGUNC: goto kgcxw; DX8Zt: goto dkslt; goto Skc8G; HhRiG: foreach ($row as $key => $value) { $row[$key] = iconv("\x75\x74\x66\x2d\70", "\x67\142\x6b", $value); b5aDf: } goto blWnZ; StIKf: $count = count($data); goto EFUkN; z_F36: } public function getLessonsLikeById($id) { goto t5xS5; znvfl: R96LG: goto O9hxL; PhY1D: foreach ($lesson_ids as $v) { $list[] = pdo_get($this->table_lesson_parent, array("\x75\x6e\151\141\143\151\144" => $_W["\x75\156\151\x61\143\151\144"], "\x69\144" => $v)); U0VZM: } goto rd7DU; XGP_a: if (!empty($list)) { goto R96LG; } goto KvZ9k; VR7L1: $list = array(); goto PhY1D; iiUt5: $list = cache_load("\x66\x79\137\154\145\x73\163\x6f\x6e\137" . $_W["\165\156\x69\141\143\151\x64"] . "\x5f\x6c\x69\x6b\145\x5f\x6c\x65\163\163\x6f\156\137" . $id); goto XGP_a; KvZ9k: $lesson = pdo_get($this->table_lesson_parent, array("\x75\x6e\151\x61\143\x69\x64" => $_W["\165\x6e\x69\141\143\151\x64"], "\x69\x64" => $id), array("\x6c\x69\x6b\145\x5f\x6c\145\x73\163\157\156\x5f\x63\x6f\156\x74\x65\x6e\164")); goto FTcT_; t5xS5: global $_W; goto iiUt5; O9hxL: return $list; goto Ohxmb; FTcT_: $lesson_ids = json_decode($lesson["\154\x69\x6b\145\137\x6c\x65\163\163\157\156\137\x63\x6f\156\x74\145\x6e\x74"], true); goto VR7L1; Ce8mQ: cache_write("\146\x79\x5f\154\x65\x73\x73\157\x6e\x5f" . $_W["\165\156\151\141\x63\151\x64"] . "\x5f\x6c\x69\x6b\145\137\x6c\x65\x73\163\x6f\156\137" . $id, $list); goto znvfl; rd7DU: lMxRY: goto Ce8mQ; Ohxmb: } public function getVideoCategoryList($teacherid = 0) { goto zAdI6; gUIoA: $params["\72\165\156\x69\x61\143\151\x64"] = $_W["\165\x6e\151\141\x63\151\x64"]; goto sYaop; a6_ga: $condition = "\40\165\156\x69\x61\143\151\144\x3d\72\165\x6e\151\141\x63\x69\144\40\x41\116\x44\40\160\x61\162\145\156\x74\x69\144\75\72\160\x61\x72\x65\x6e\x74\x69\x64\x20\101\x4e\x44\40\164\x65\x61\x63\x68\x65\162\x69\x64\x3d\x3a\164\145\x61\x63\x68\x65\162\151\144\x20"; goto gUIoA; sqc7s: $list = cache_load("\146\171\137\x6c\x65\x73\163\157\x6e\x5f" . $_W["\x75\156\x69\141\143\151\x64"] . "\137\166\x69\x64\x65\157\x5f\x63\141\x74\145\x67\x6f\x72\171\x5f" . $teacherid); goto vpfS3; vpfS3: if (!empty($list)) { goto BKsi3; } goto a6_ga; K0k78: $list = pdo_fetchall("\x53\x45\x4c\105\x43\124\40\52\40\x46\122\117\x4d\x20" . tablename($this->table_video_category) . "\x20\127\x48\105\x52\105\40{$condition}\40\x4f\x52\x44\105\x52\40\x42\x59\40\144\151\163\160\154\141\x79\157\162\144\x65\162\40\104\105\123\103\x2c\40\151\144\40\101\123\x43", $params); goto sff2p; sYaop: $params["\72\x70\141\x72\x65\156\164\151\144"] = 0; goto kMxAZ; dqwjs: BKsi3: goto e80eE; e80eE: return $list; goto UoD2i; kMxAZ: $params["\72\x74\145\141\x63\150\145\x72\x69\x64"] = $teacherid; goto K0k78; MPH1v: cache_write("\146\171\137\x6c\145\163\x73\157\156\x5f" . $_W["\x75\x6e\x69\x61\x63\x69\x64"] . "\137\x76\x69\x64\x65\157\137\x63\x61\164\145\x67\157\x72\x79\137" . $teacherid, $list); goto dqwjs; IE25c: r111_: goto MPH1v; zAdI6: global $_W; goto sqc7s; sff2p: foreach ($list as $k1 => $v1) { goto vZeAQ; mdWY5: $list[$k1] = $v1; goto sTDBC; sTDBC: OvJTl: goto J5jnM; CbCK0: BjGfj: goto mdWY5; vZeAQ: $v1["\x73\145\x63\x6f\x6e\x64"] = pdo_fetchall("\x53\x45\x4c\105\103\124\40\52\x20\106\122\117\x4d\40" . tablename($this->table_video_category) . "\x20\127\x48\105\x52\x45\x20\165\x6e\x69\141\x63\151\x64\x3d\x3a\x75\x6e\151\141\x63\x69\144\x20\x41\116\104\40\160\141\162\x65\156\164\151\144\75\72\160\141\x72\145\156\164\x69\144\40\101\x4e\x44\40\164\x65\141\x63\x68\x65\162\151\144\75\72\164\x65\141\143\150\145\162\x69\144\40\117\x52\x44\105\x52\40\x42\131\40\144\151\163\x70\154\141\171\157\x72\x64\145\162\40\104\x45\x53\x43\54\40\151\144\x20\x41\123\103", array("\72\x75\x6e\151\x61\143\151\144" => $_W["\x75\156\x69\141\x63\x69\144"], "\72\x70\141\x72\x65\x6e\164\151\144" => $v1["\x69\144"], "\72\164\x65\141\143\x68\145\x72\151\x64" => $teacherid)); goto pmER2; pmER2: foreach ($v1["\163\145\x63\x6f\x6e\x64"] as $k2 => $v2) { goto APqxq; jb3lD: $v1["\x73\x65\143\157\156\144"][$k2] = $v2; goto m8XOS; APqxq: $v2["\164\150\151\162\144"] = pdo_fetchall("\123\105\x4c\105\x43\x54\40\52\x20\x46\122\x4f\x4d\40" . tablename($this->table_video_category) . "\40\x57\x48\x45\x52\105\x20\x75\x6e\x69\141\143\x69\144\75\72\165\156\151\x61\x63\151\x64\x20\x41\116\x44\x20\160\x61\x72\145\156\164\x69\x64\x3d\x3a\160\x61\x72\145\x6e\164\x69\144\x20\x41\116\104\x20\x74\x65\x61\143\x68\145\162\151\144\75\x3a\x74\x65\x61\x63\150\x65\x72\151\144\x20\117\122\x44\x45\x52\x20\x42\x59\x20\x64\151\163\x70\154\141\x79\157\162\x64\x65\162\x20\x44\x45\x53\x43\x2c\x20\151\144\40\x41\123\103", array("\x3a\x75\156\x69\x61\143\x69\144" => $_W["\x75\x6e\x69\x61\143\151\x64"], "\72\x70\141\x72\145\x6e\x74\151\x64" => $v2["\x69\144"], "\72\x74\x65\x61\143\150\x65\x72\151\144" => $teacherid)); goto jb3lD; m8XOS: ix9v0: goto eyBIB; eyBIB: } goto CbCK0; J5jnM: } goto IE25c; UoD2i: } public function isMobile() { goto jeeKE; V8fHv: return true; goto hL_23; bmVbo: if (!(strpos($_SERVER["\x48\124\x54\x50\x5f\101\x43\x43\105\x50\x54"], "\x76\x6e\x64\56\167\x61\x70\56\167\155\154") !== false && (strpos($_SERVER["\x48\x54\124\x50\137\101\103\x43\x45\120\x54"], "\164\x65\170\164\x2f\150\x74\155\154") === false || strpos($_SERVER["\110\124\124\x50\x5f\x41\x43\103\105\120\x54"], "\x76\x6e\144\56\x77\x61\x70\x2e\167\x6d\x6c") < strpos($_SERVER["\x48\x54\x54\120\137\x41\x43\x43\105\120\x54"], "\x74\145\170\x74\57\150\x74\x6d\154")))) { goto Czm6V; } goto wJCZI; RtB3X: if (!isset($_SERVER["\110\x54\x54\x50\137\101\103\x43\105\x50\124"])) { goto hSpvv; } goto bmVbo; ie_sG: return true; goto LvAOk; hL_23: hIUgK: goto auNP0; wJCZI: return true; goto STNaR; STNaR: Czm6V: goto I6uqu; LvAOk: BTAFL: goto BEAV4; L_7NW: $clientkeywords = array("\156\x6f\153\x69\141", "\163\x6f\156\x79", "\x65\162\x69\143\163\x73\157\x6e", "\x6d\157\x74", "\163\x61\x6d\x73\165\156\147", "\x68\164\x63", "\x73\147\x68", "\x6c\147", "\163\150\141\x72\160", "\x73\x69\x65\55", "\x70\x68\x69\154\151\x70\163", "\x70\x61\156\x61\163\x6f\x6e\x69\143", "\141\154\x63\141\x74\145\x6c", "\x6c\x65\156\157\166\157", "\x69\x70\150\x6f\x6e\145", "\x69\160\x6f\144", "\142\154\141\143\153\142\x65\162\x72\171", "\155\145\x69\172\165", "\x61\156\x64\x72\157\151\144", "\x6e\x65\164\x66\162\157\x6e\x74", "\x73\171\x6d\142\x69\x61\x6e", "\165\143\167\x65\142", "\x77\x69\x6e\x64\x6f\167\x73\143\x65", "\x70\141\154\x6d", "\x6f\x70\145\x72\141\x6d\151\156\x69", "\x6f\x70\x65\x72\x61\155\x6f\142\x69", "\x6f\x70\145\156\x77\141\166\145", "\x6e\145\170\x75\163\x6f\156\145", "\x63\154\x64\143", "\155\x69\144\160", "\x77\141\x70", "\x6d\157\x62\x69\x6c\x65"); goto qRSEb; I6uqu: hSpvv: goto gcLtK; Xtexh: dgzND: goto i8M4l; qRSEb: if (!preg_match("\x2f\x28" . implode("\x7c", $clientkeywords) . "\x29\x2f\x69", strtolower($_SERVER["\110\124\124\120\x5f\125\x53\x45\122\137\101\107\x45\116\124"]))) { goto BTAFL; } goto ie_sG; jeeKE: if (!isset($_SERVER["\110\124\124\120\137\x58\x5f\x57\101\120\x5f\120\122\x4f\x46\x49\114\105"])) { goto hIUgK; } goto V8fHv; auNP0: if (!isset($_SERVER["\x48\124\124\x50\137\x56\x49\101"])) { goto dgzND; } goto cAwuV; cAwuV: return stristr($_SERVER["\110\124\x54\x50\x5f\126\111\101"], "\x77\x61\160") ? true : false; goto Xtexh; BEAV4: CDLzV: goto RtB3X; gcLtK: return false; goto kBa2u; i8M4l: if (!isset($_SERVER["\110\124\124\120\137\125\123\105\122\137\x41\107\105\116\124"])) { goto CDLzV; } goto L_7NW; kBa2u: } }