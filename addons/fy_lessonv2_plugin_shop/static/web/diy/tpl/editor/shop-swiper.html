<script>
    Diy.Editor.defaultData.swiper = {
        style: {
			show_background: 0,
            background: '#FFFFFF',
			show_slider_background: 1,
            slider_background: '#fd5a45',
			speed: 5,
			vertical_padding: '10px',
            horizontal_padding: '10px',
            image_radius: '15px',
			offset_x: '0px',
			offset_y: '0px',
			blur_radius: '0px',
			spread_radius: '0px',
        },
        data: [
            {
                imgsrc: '{MODULE_URL}static/web/diy/img/banner.jpg',
                imgurl: '{MODULE_URL}static/web/diy/img/banner.jpg',
                link: '',
            }
        ]
    };
</script>
<script type="text/template" class="editor_params" data-name="swiper">
    <div class="editor-swiper">
        <div class="alert alert-info">
            <i class="fa fa-info-circle"></i> 建议图片尺寸：750 * 400px
        </div>
		<div class="form-group">
            <div class="col-sm-2 control-label text-right">全背景选择</div>
            <div class="col-sm-8">
                <label class="radio-inline">
                    <input type="radio" name="show_background" class="input_binding show_background" value="0" data-type="style" data-key="show_background" data-name="<%= name %>" data-guid="<%= guid %>" data-toggle="params"  <% if(style.show_background!=1){ %>checked<% } %>> 无背景色
                </label>
                <label class="radio-inline">
                    <input type="radio" name="show_background" class="input_binding show_background" value="1" data-type="style" data-key="show_background" data-name="<%= name %>" data-guid="<%= guid %>" data-toggle="params"  <% if(style.show_background==1){ %>checked<% } %>> 有背景颜色
                </label>
            </div>
        </div>
        <div class="form-group" style="display:<% if(style.show_background==1){ %>block<% }else{ %>none<% } %>;">
            <div class="col-sm-2 control-label text-right">全背景色</div>
            <div class="col-sm-4">
                <div class="input-group input-group-sm">
                    <input type="color" class="form-control input-sm input_color input_binding" value="<%= style.background %>" data-type="style" data-key="background" data-name="<%= name %>" data-guid="<%= guid %>">
                    <span class="btn btn-default input-group-addon" onclick="$(this).prev().val('#FFFFFF').trigger('change')">
                        <i class="fa fa-remove"></i>
                    </span>
                </div>
            </div>
        </div>
		<div class="form-group">
            <div class="col-sm-2 control-label text-right">延伸背景选择</div>
            <div class="col-sm-8">
                <label class="radio-inline">
                    <input type="radio" name="show_slider_background" class="input_binding show_slider_background" id="none_slider_background" value="0" data-type="style" data-key="show_slider_background" data-name="<%= name %>" data-guid="<%= guid %>" data-toggle="params"  <% if(style.show_slider_background!=1){ %>checked<% } %>> 无背景色
                </label>
                <label class="radio-inline">
                    <input type="radio" name="show_slider_background" class="input_binding show_slider_background" value="1" data-type="style" data-key="show_slider_background" data-name="<%= name %>" data-guid="<%= guid %>" data-toggle="params"  <% if(style.show_slider_background==1){ %>checked<% } %>> 有背景颜色
                </label>
            </div>
        </div>
        <div class="form-group" style="display:<% if(style.show_slider_background==1){ %>block<% }else{ %>none<% } %>;">
            <div class="col-sm-2 control-label text-right">延伸背景色</div>
            <div class="col-sm-4">
                <div class="input-group input-group-sm">
                    <input type="color" class="form-control input-sm input_color input_binding" value="<%= style.slider_background %>" data-type="style" data-key="slider_background" data-name="<%= name %>" data-guid="<%= guid %>">
                    <span class="btn btn-default input-group-addon" onclick="$(this).prev().val('#fd5a45').trigger('change')">
                        <i class="fa fa-remove"></i>
                    </span>
                </div>
            </div>
        </div>
		<div class="form-group">
            <div class="col-sm-2 control-label text-right">滚动间隔</div>
            <div class="col-sm-5">
                <input type="hidden" value="<%= style.speed %>" data-type="style" data-key="speed">
                <div class="ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content highlight" data-value="<%= style.speed %>" data-unit="秒" data-min="1" data-max="10" data-name="<%= name %>" data-guid="<%= guid %>">
                    <span class="ui-slider-handle ui-corner-all ui-state-default"></span>
                </div>
            </div>
            <div class="col-sm-2 slider_counter">
                <small class="text-muted"><%= style.speed %></small>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-2 control-label text-right">上下边距</div>
            <div class="col-sm-5">
                <input type="hidden" value="<%= style.vertical_padding %>" data-type="style" data-key="vertical_padding">
                <div class="ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content highlight" data-value="<%= style.vertical_padding %>" data-unit="px" data-min="0" data-max="30" data-name="<%= name %>" data-guid="<%= guid %>">
                    <span class="ui-slider-handle ui-corner-all ui-state-default"></span>
                </div>
            </div>
            <div class="col-sm-2 slider_counter">
                <small class="text-muted"><%= style.vertical_padding %></small>
            </div>
        </div>
        <div class="form-group">
            <div class="col-sm-2 control-label text-right">左右边距</div>
            <div class="col-sm-5">
                <input type="hidden" value="<%= style.horizontal_padding %>" data-type="style" data-key="horizontal_padding">
                <div class="ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content highlight" data-value="<%= style.horizontal_padding %>" data-unit="px" data-min="0" data-max="30" data-name="<%= name %>" data-guid="<%= guid %>">
                    <span class="ui-slider-handle ui-corner-all ui-state-default"></span>
                </div>
            </div>
            <div class="col-sm-2 slider_counter">
                <small class="text-muted"><%= style.horizontal_padding %></small>
            </div>
        </div>
		<div class="form-group">
            <div class="col-sm-2 control-label text-right">图片圆角</div>
            <div class="col-sm-5">
                <input type="hidden" value="<%= style.image_radius %>" data-type="style" data-key="image_radius">
                <div class="ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content highlight" data-value="<%= style.image_radius %>" data-unit="px" data-min="0" data-max="100" data-name="<%= name %>" data-guid="<%= guid %>">
                    <span class="ui-slider-handle ui-corner-all ui-state-default"></span>
                </div>
            </div>
            <div class="col-sm-2 slider_counter">
                <small class="text-muted"><%= style.image_radius %></small>
            </div>			
        </div>
		<div class="form-group">
            <div class="col-sm-2 control-label text-right">阴影参数</div>
            <div class="col-sm-5">
            </div>		
        </div>
		<div class="form-group">
            <div class="col-sm-2 control-label text-right"></div>
			<div class="col-sm-2 slider_counter w_auto ">
                <small class="text-muted p-r-0">X轴偏移</small>
            </div>
            <div class="col-sm-5">
                <input type="hidden" value="<%= style.offset_x %>" data-type="style" data-key="offset_x">
                <div class="ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content highlight" data-value="<%= style.offset_x %>" data-unit="px" data-min="0" data-max="50" data-name="<%= name %>" data-guid="<%= guid %>">
                    <span class="ui-slider-handle ui-corner-all ui-state-default"></span>
                </div>
            </div>
            <div class="col-sm-2 slider_counter">
                <small class="text-muted"><%= style.offset_x %></small>
            </div>
        </div>
		<div class="form-group">
            <div class="col-sm-2 control-label text-right"></div>
			<div class="col-sm-2 slider_counter w_auto ">
                <small class="text-muted p-r-0">Y轴偏移</small>
            </div>
            <div class="col-sm-5">
                <input type="hidden" value="<%= style.offset_y %>" data-type="style" data-key="offset_y">
                <div class="ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content highlight" data-value="<%= style.offset_y %>" data-unit="px" data-min="0" data-max="50" data-name="<%= name %>" data-guid="<%= guid %>">
                    <span class="ui-slider-handle ui-corner-all ui-state-default"></span>
                </div>
            </div>
            <div class="col-sm-2 slider_counter">
                <small class="text-muted"><%= style.offset_y %></small>
            </div>
        </div>
		<div class="form-group">
            <div class="col-sm-2 control-label text-right"></div>
			<div class="col-sm-2 slider_counter w_auto ">
                <small class="text-muted p-r-0">模糊面积</small>
            </div>
            <div class="col-sm-5">
                <input type="hidden" value="<%= style.blur_radius %>" data-type="style" data-key="blur_radius">
                <div class="ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content highlight" data-value="<%= style.blur_radius %>" data-unit="px" data-min="0" data-max="50" data-name="<%= name %>" data-guid="<%= guid %>">
                    <span class="ui-slider-handle ui-corner-all ui-state-default"></span>
                </div>
            </div>
            <div class="col-sm-2 slider_counter">
                <small class="text-muted"><%= style.blur_radius %></small>
            </div>
        </div>
		<div class="form-group">
            <div class="col-sm-2 control-label text-right"></div>
			<div class="col-sm-2 slider_counter w_auto ">
                <small class="text-muted p-r-0">阴影面积</small>
            </div>
            <div class="col-sm-5">
                <input type="hidden" value="<%= style.spread_radius %>" data-type="style" data-key="spread_radius">
                <div class="ui-slider ui-corner-all ui-slider-horizontal ui-widget ui-widget-content highlight" data-value="<%= style.spread_radius %>" data-unit="px" data-min="0" data-max="50" data-name="<%= name %>" data-guid="<%= guid %>">
                    <span class="ui-slider-handle ui-corner-all ui-state-default"></span>
                </div>
            </div>
            <div class="col-sm-2 slider_counter">
                <small class="text-muted"><%= style.spread_radius %></small>
            </div>
        </div>
        <hr/>
        <div class="form-group ui-sortable ep-item-sortable">
            <% _.each(data, function(item) { %>
            <div class="swiper-item ep-item">
                <div class="swiper-image">
                    <img src="<%= item.imgurl %>" data-type="data" data-key="imgurl" data-name="<%= name %>" data-guid="<%= guid %>"/>
                </div>
                <div class="swiper-params">
                    <div class="input-group" style="margin-bottom: .8rem">
                        <input type="text" class="form-control input-sm" value="<%= item.imgsrc %>" data-type="data" data-key="imgsrc" data-name="<%= name %>" data-guid="<%= guid %>" readonly>
                        <span class="input-group-addon btn btn-default ep-select-image">选择图片</span>
                    </div>
                    <div class="input-group">
						<span class="input-group-addon">链接</span>
                        <input type="text" class="form-control input-sm input_binding" value="<%= item.link %>" placeholder="跳转链接以http://或https://开头" data-type="data" data-key="link" data-name="<%= name %>" data-guid="<%= guid %>"/>
						<span class="input-group-addon hide"></span>
                    </div>
                </div>
                <span class="ep-item-delete fa fa-times-circle" data-name="<%= name %>" data-guid="<%= guid %>" data-item-min="1"></span>
            </div>
            <% }); %>
        </div>
        <div class="form-group text-center">
            <button class="btn btn-default btn-block ep-item-add" type="button" data-name="<%= name %>" data-guid="<%= guid %>">
                <i class="fa fa-plus-circle"></i> 新增图片位置
            </button>
        </div>
    </div>
</script>

<script type="text/javascript">
	$(document).on('click', '.show_background',function () {
	   if ($(this).val()=='0') {
			$(this).parent().parent().parent().next().hide();
			$("input[name=show_slider_background]").removeAttr('disabled');
		} else {
			$(this).parent().parent().parent().next().show();
			document.getElementById("none_slider_background").click();
			$("input[name=show_slider_background]").attr('disabled', true);
		}
	});
	$(document).on('click', '.show_slider_background',function () {
	   if ($(this).val()=='0') {
			$(this).parent().parent().parent().next().hide();
		} else {
			$(this).parent().parent().parent().next().show();
		}
	});
</script>