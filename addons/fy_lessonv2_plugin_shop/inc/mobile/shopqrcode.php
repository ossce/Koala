<?php
 goto dOlXa; mtDdl: $site_common->saveImage($_W["\141\164\x74\x61\x63\150\x75\x72\x6c"] . $goods["\x70\157\x73\x74\145\162\x5f\142\x67"], $dirpath . "\147\x6f\x6f\x64\163\137{$id}\137\160\157\163\164\145\162\142\x67\x2e", ''); goto bv9Fn; q7jii: if (file_exists($bgimg)) { goto WG2GR; } goto mtDdl; lqGX9: goto SEZJ_; goto yR0Xc; EMH6I: if (empty($member["\141\166\141\x74\x61\x72"])) { goto N8ZDs; } goto Tzndr; QFSkL: if (!$poster_qr) { goto xsDFu; } goto ieVuL; pTgBp: goto Gdhvi; goto kRiag; hFKTy: $savefield = $site_common->img_water_mark($bgimg, $qrcode, $dirpath, "\x67\157\157\144\163\x5f{$id}\x5f\165\151\144\137{$uid}\137\x6f\x6b\x2e\x70\x6e\147", $poster_qr["\154\145\146\x74"], $poster_qr["\164\157\x70"]); goto TUb4K; ZbcxZ: $goodsUrl = $_W["\163\151\x74\145\x72\x6f\157\x74"] . "\141\160\160\x2f" . $this->createMobileUrl("\163\150\157\160\x67\157\x6f\x64\163", array("\151\144" => $id, "\165\x69\144" => $uid)); goto iMDoc; VTTIF: $site_common->resize($qrcode, $qrcode, $poster_qr["\x77\x69\144\164\x68"], $poster_qr["\x68\x65\x69\x67\150\164"], "\61\60\60"); goto hFKTy; ZV2Wz: t7p6s: goto HjmGI; f9hv5: foreach ($files as $file) { goto wA3LI; FeTQy: MRi72: goto yFwJn; wA3LI: if (!strstr($file, "\147\157\157\x64\x73\137{$id}\137")) { goto PenJ0; } goto B1eX1; B1eX1: unlink($file); goto RjVKo; RjVKo: PenJ0: goto FeTQy; yFwJn: } goto Ow4KJ; V7B3U: imagettftext($image, $poster_name["\x73\x69\x7a\145"], 0, $result_left, $poster_name["\x74\x6f\160"] + 20, $color, $font, $member["\x6e\151\x63\153\x6e\x61\155\x65"]); goto MalX8; eMrbD: $result_left = $site_common->getFontWidth($member["\x6e\151\143\x6b\x6e\x61\x6d\145"], $font, $poster_name["\x73\x69\172\145"], "\x75\x74\146\x2d\70", $poster_name["\x6c\x65\x66\164"], $poster_name["\167\x69\x64\164\x68"]); goto zCGai; rkJcw: $site_common->circularImg($dirpath . "\x61\x76\141\164\x61\x72\x5f{$uid}\56{$suffix}", $dirpath . "\141\x76\141\164\141\x72\137{$uid}\56{$suffix}"); goto ul9Py; LFwTt: $im = imagecreatefrompng($dirpath . "\141\166\x61\x74\x61\x72\x5f{$uid}\x2e" . $suffix); goto pTgBp; wPjny: message("\xe5\225\206\345\223\x81\346\262\241\xe6\x9c\x89\xe8\256\xbe\xe7\xbd\256\346\xb5\267\346\212\xa5", '', "\167\x61\162\156\x69\x6e\x67"); goto clpwa; KNDbV: $poster_setting = json_decode($goods["\160\x6f\163\164\145\162\137\x73\x65\x74\x74\151\156\147"], true); goto PzTfw; BcKzp: unlink($dirpath . "\141\x76\141\x74\141\162\137{$uid}\56" . $suffix); goto JVPWZ; A4EiX: $share_goods["\x74\151\164\154\x65"] = $share_goods["\x74\151\164\x6c\145"] ? $share_goods["\x74\x69\x74\x6c\145"] : $goods["\x74\151\x74\x6c\x65"]; goto yvkeN; hLHOx: $qrcode = $dirpath . "\147\157\157\144\163\x5f{$id}\137\165\x69\144\137{$uid}\x2e\x70\156\147"; goto ZbcxZ; AqAHX: $share_goods = json_decode($goods["\x73\x68\141\162\x65"], true); goto A4EiX; iMDoc: include IA_ROOT . "\57\x66\162\141\155\145\167\157\x72\x6b\x2f\154\151\x62\162\141\162\171\x2f\161\x72\143\157\144\145\57\160\x68\160\x71\x72\143\x6f\x64\145\x2e\x70\150\160"; goto MvY2g; Ow4KJ: Zz5_9: goto LCIx0; TUb4K: xsDFu: goto dzwLp; K0aeC: $imagepath = $dirpath . "\147\157\157\x64\x73\137{$id}\137\165\x69\144\x5f{$uid}\x5f\157\153\56\x70\156\147"; goto gLjZH; PQXSZ: if (!$poster_name) { goto C365K; } goto eMrbD; zCGai: $color = imagecolorallocatealpha($image, $poster_name["\x72\147\142"]["\162"], $poster_name["\162\x67\142"]["\x67"], $poster_name["\x72\147\x62"]["\x62"], 0); goto V7B3U; ieVuL: $errorCorrectionLevel = "\x4c"; goto hLHOx; rfgBp: $okfield = $dirpath . "\x67\157\x6f\x64\163\x5f{$id}\137\165\x69\144\137{$uid}\x5f\x6f\x6b\56\160\x6e\x67"; goto LlH2S; BdzPC: $share_goods["\x6c\151\156\x6b"] = $_W["\163\151\x74\x65\162\157\x6f\164"] . "\x61\x70\x70\x2f" . str_replace("\x2e\57", '', $this->createMobileUrl("\163\x68\x6f\x70\147\157\x6f\x64\163", array("\x69\x64" => $id, "\x75\151\144" => $uid))); goto vCTty; dOlXa: $title = "\350\xaf\276\xe7\250\x8b\346\265\xb7\xe6\x8a\xa5"; goto tDtnr; SBT62: $glo_share_goods = json_decode($shop_setting["\x73\150\x61\x72\x65\x5f\147\x6f\157\144\x73"], true); goto AqAHX; Wi_BS: ImWse: goto X29oE; iOxHV: $site_common->resize($dirpath . "\x61\166\x61\x74\x61\x72\137{$uid}\x2e{$suffix}", $dirpath . "\x61\166\x61\x74\x61\162\x5f{$uid}\x2e{$suffix}", $poster_head["\167\x69\144\x74\150"], $poster_head["\150\145\151\147\150\164"], "\61\60\x30"); goto rkJcw; LlH2S: $fun($image, $okfield); goto BzHi4; lVEY5: $share_goods["\143\157\166\145\162"] = $share_goods["\x63\x6f\166\145\x72"] ? $share_goods["\x63\157\166\x65\x72"] : $goods["\143\x6f\x76\145\x72"]; goto BdzPC; wB9Vi: message("\xe5\225\x86\345\x93\x81\345\xb7\xb2\344\270\x8b\346\236\xb6\xe6\x88\x96\344\270\x8d\345\xad\230\xe5\x9c\xa8", '', "\x77\x61\x72\156\x69\156\147"); goto vceu6; clpwa: UtGyq: goto CcvVR; KX0aI: imagejpeg($im, $dirpath . "\141\x76\x61\164\x61\x72\x5f{$uid}\56\152\160\x67"); goto jndUg; gUFEi: KE2Tq: goto LFwTt; IIowA: message("\350\x8e\xb7\345\217\226\345\244\264\xe5\x83\217\xe5\244\261\350\264\xa5\357\274\x8c\xe8\xaf\267\345\234\xa8\344\xb8\xaa\xe4\xba\xba\344\270\xad\345\277\x83\347\x82\271\345\x87\xbb\345\xa4\xb4\345\203\217\xe6\x9b\xb4\346\x96\xb0", $_W["\x73\x69\164\145\x72\157\157\x74"] . "\x61\x70\x70\x2f\x69\156\144\145\170\56\160\150\x70\x3f\x69\x3d{$uniacid}\46\143\75\145\156\x74\x72\171\x26\x64\x6f\x3d\163\145\x6c\146\46\155\75\146\171\137\154\x65\163\x73\x6f\156\x76\62", "\x77\141\162\156\151\x6e\147"); goto Cf8jB; LCIx0: header("\x4c\x6f\143\x61\x74\x69\x6f\156\x3a" . $this->createMobileUrl("\163\150\x6f\160\161\x72\x63\157\144\x65", array("\x69\144" => $id))); goto sGNW2; DtHOk: CjHng: goto k8Iut; F0fc_: $avatar = $inc ? $member["\x61\x76\x61\x74\141\162"] : $_W["\141\164\x74\x61\x63\x68\x75\x72\x6c"] . $member["\141\x76\141\x74\x61\x72"]; goto lqGX9; FBYIo: $goods = pdo_get($this->table_shop_goods, array("\165\x6e\x69\x61\x63\x69\144" => $uniacid, "\151\x64" => $id)); goto ijlzn; nEDlP: $files = glob(ATTACHMENT_ROOT . "\x69\x6d\141\147\145\163\57{$uniacid}\57\x66\x79\x5f\x6c\x65\163\x73\x6f\156\x76\62\137\160\154\165\x67\151\156\137\163\x68\x6f\x70\x2f\x2a"); goto f9hv5; k8Iut: $info = getimagesize($savefield); goto DVxPd; lEuHY: if ($suffix == "\x70\156\x67") { goto KE2Tq; } goto fhuBh; HkLrU: $member = pdo_get($this->table_mc_members, array("\x75\156\x69\x61\x63\151\x64" => $uniacid, "\x75\x69\144" => $uid), array("\x6e\x69\143\x6b\156\141\x6d\145", "\x61\166\141\x74\x61\x72")); goto EMH6I; bv9Fn: WG2GR: goto QFSkL; kRiag: zZxSu: goto qCkN5; ASItw: $bgimg = $dirpath . "\147\157\157\x64\163\x5f{$id}\137\x70\157\163\164\x65\x72\x62\x67\x2e\x6a\x70\147"; goto q7jii; ul9Py: $savefield = $site_common->mergerImg($savefield, $dirpath . "\141\x76\x61\x74\141\x72\x5f{$uid}\x2e{$suffix}", $poster_head["\154\145\x66\x74"], $poster_head["\x74\x6f\x70"], $savefield); goto DtHOk; CcvVR: if (!($_GPC["\157\x70"] == "\144\x65\x6c\x65\164\x65")) { goto mZdwY; } goto nEDlP; gdsuR: $avatar = MODULE_URL . "\x73\164\x61\164\151\x63\x2f\155\157\x62\x69\x6c\x65\x2f\x69\155\x61\x67\x65\x73\57\144\x65\x66\141\x75\154\164\x5f\141\x76\141\164\141\x72\x2e\152\x70\x67"; goto oe9F8; MvY2g: QRcode::png($goodsUrl, $qrcode, $errorCorrectionLevel, $poster_qr["\163\x69\x7a\x65"] = 5, 3); goto VTTIF; X29oE: $font = MODULE_ROOT . "\57\56\x2e\57\146\171\137\154\145\x73\x73\x6f\x6e\166\62\x2f\x73\x74\x61\164\151\x63\57\160\x75\x62\154\x69\x63\57\x74\x74\x66\57\101\154\x69\142\141\x62\x61\x2d\x50\x75\110\x75\151\124\151\55\122\145\147\165\x6c\141\162\56\164\164\x66"; goto OIGPH; DVxPd: $type = image_type_to_extension($info[2], false); goto Ct4Zj; Ct4Zj: if ($type == "\x6a\x70\147" || $type == "\152\x70\145\147") { goto t7p6s; } goto MUFD8; FEBHX: Gdhvi: goto KX0aI; D1gMp: ignore_user_abort(true); goto ASItw; zBkXN: set_time_limit(60); goto D1gMp; HjmGI: $image = imagecreatefromjpeg($savefield); goto Juh10; Yxs7C: if (!($avatar_size == 0)) { goto SDyJL; } goto IIowA; qCkN5: $im = imagecreatefromjpeg($dirpath . "\x61\166\x61\x74\141\162\137{$uid}\x2e" . $suffix); goto FEBHX; MUFD8: $image = imagecreatefrompng($savefield); goto bXc4m; Tzndr: $inc = strstr($member["\141\x76\141\164\141\x72"], "\x68\164\x74\x70\x3a\57\57") || strstr($member["\141\x76\141\x74\141\162"], "\x68\x74\164\160\x73\72\x2f\57"); goto F0fc_; Cf8jB: SDyJL: goto lEuHY; PzTfw: foreach ($poster_setting as $item) { goto DcXRF; kJvfe: $poster_name["\x6c\x65\146\164"] = $item["\x6c\145\x66\x74"] * 2; goto rDal6; LVhTA: $poster_name["\167\151\144\x74\x68"] = $item["\x77\x69\144\x74\150"] * 2; goto VBMDV; VBMDV: $poster_name["\150\x65\151\x67\150\164"] = $item["\x68\x65\x69\147\150\x74"] * 2; goto LCZOL; LCZOL: $poster_name["\162\x67\142"] = $site_common->hexTorgb($item["\143\157\x6c\157\162"]); goto Eli2Z; aCdyj: $poster_name["\x73\x69\x7a\x65"] = intval($item["\x73\151\172\145"]) * 1.5; goto LVhTA; CyFv2: $poster_head["\x68\145\151\147\x68\164"] = $item["\150\145\x69\x67\150\164"] * 2; goto TP0X8; qyueT: $poster_qr["\x77\x69\x64\x74\x68"] = $item["\x77\x69\x64\164\150"] * 2; goto urTtK; dhyvC: $poster_head["\x6c\x65\146\x74"] = $item["\154\x65\x66\164"] * 2; goto qm9OH; kCboP: GwUjm: goto VLRt2; TP0X8: WxsxL: goto Q39xw; rDal6: $poster_name["\164\157\x70"] = $item["\164\x6f\160"] * 2; goto aCdyj; Q39xw: if (!($item["\x74\171\160\x65"] == "\x6e\x69\143\x6b\x6e\x61\x6d\145")) { goto TAfnc; } goto kJvfe; y5SOH: $poster_qr["\164\157\x70"] = $item["\x74\x6f\160"] * 2; goto qyueT; urTtK: $poster_qr["\150\x65\x69\x67\x68\164"] = $item["\150\145\x69\147\x68\164"] * 2; goto kCboP; qm9OH: $poster_head["\164\157\160"] = $item["\164\x6f\x70"] * 2; goto wnDlU; dAV2v: if (!($item["\164\171\160\145"] == "\x71\x72")) { goto GwUjm; } goto MdHsD; wnDlU: $poster_head["\x77\151\144\x74\150"] = $item["\167\x69\144\164\x68"] * 2; goto CyFv2; Eli2Z: TAfnc: goto dAV2v; DcXRF: if (!($item["\x74\171\x70\x65"] == "\x68\x65\141\144")) { goto WxsxL; } goto dhyvC; VLRt2: iOdUu: goto kyyzy; MdHsD: $poster_qr["\154\145\x66\x74"] = $item["\154\145\x66\x74"] * 2; goto y5SOH; kyyzy: } goto Wi_BS; cdj0z: $suffix = $site_common->saveImage($avatar, $dirpath . "\x61\x76\x61\x74\141\x72\x5f{$uid}\56", "\141\x76\141\x74\x61\162"); goto OkJxp; Itn5N: if (!empty($goods["\160\x6f\x73\x74\x65\x72\x5f\x62\x67"])) { goto UtGyq; } goto wPjny; gLjZH: if (!(!file_exists($imagepath) || filectime($imagepath) < time() - 86400)) { goto WkpmY; } goto zBkXN; pndgZ: $share_goods["\143\157\x76\x65\162"] = $share_goods["\151\x6d\x61\147\145\163"] ? $share_goods["\151\x6d\x61\x67\145\163"] : $glo_share_goods["\151\x6d\141\x67\x65\x73"]; goto lVEY5; sGNW2: mZdwY: goto HkLrU; ITrsk: $im = imagecreatefromjpeg(MODULE_URL . "\x73\164\141\164\151\x63\x2f\x6d\157\142\x69\x6c\145\x2f\151\155\x61\x67\145\x73\57\x64\x65\146\141\x75\x6c\x74\137\x61\166\141\x74\141\162\56\152\x70\147"); goto y4w6_; WWV_p: $this->checkdir($dirpath); goto K0aeC; OkJxp: $avatar_size = filesize($dirpath . "\x61\x76\x61\x74\141\162\x5f{$uid}\x2e" . $suffix); goto Yxs7C; oe9F8: SEZJ_: goto KNDbV; Juh10: H6CC5: goto PQXSZ; OIGPH: $dirpath = "\x2e\56\x2f\x61\x74\164\141\x63\x68\x6d\x65\x6e\164\x2f\151\155\141\147\x65\163\x2f{$uniacid}\x2f\x66\x79\x5f\x6c\145\163\163\157\156\x76\x32\x5f\160\x6c\165\147\151\x6e\x5f\x73\150\157\x70\57"; goto WWV_p; BzHi4: imagedestroy($image); goto yae_2; jndUg: imagedestroy($im); goto iOxHV; yae_2: unlink($dirpath . "\x67\157\157\144\163\137{$id}\x5f\x75\x69\144\137{$uid}\56\x70\156\x67"); goto BcKzp; MalX8: C365K: goto YCsbu; ijlzn: if (!empty($goods)) { goto PSYfb; } goto wB9Vi; bXc4m: goto H6CC5; goto ZV2Wz; vceu6: PSYfb: goto Itn5N; dzwLp: if (!$poster_head) { goto CjHng; } goto cdj0z; y4w6_: goto Gdhvi; goto gUFEi; ipFZY: $imagepath .= "\x3f\x76\75" . time(); goto SBT62; fhuBh: if ($suffix == "\x6a\160\145\147" || $suffix == "\x6a\160\147") { goto zZxSu; } goto ITrsk; yvkeN: $share_goods["\144\145\x73\143"] = $share_goods["\x64\145\x73\143"] ? $share_goods["\144\x65\x73\x63"] : str_replace("\xe3\200\x90\xe5\x95\x86\xe5\x93\201\345\x90\x8d\xe7\xa7\260\xe3\200\x91", $goods["\x74\x69\164\x6c\145"], $glo_share_goods["\144\x65\x73\143"]); goto pndgZ; JVPWZ: WkpmY: goto ipFZY; yR0Xc: N8ZDs: goto gdsuR; YCsbu: $fun = "\x69\155\141\x67\x65" . $type; goto rfgBp; tDtnr: $id = intval($_GPC["\151\x64"]); goto FBYIo; vCTty: include $this->template("\56\56\x2f\155\x6f\142\x69\x6c\145\57\163\x68\x6f\x70\x71\162\143\x6f\144\x65");