<?php
 goto tvXEY; fQvz1: $live_info["\x74\171\160\x65"] = 1; goto RIkmY; ri6bF: $push_txSecret = md5($video_live["\161\143\154\157\x75\144"]["\160\x75\163\x68\137\153\145\x79"] . $stream_name . $txTime); goto fjtTi; LNay0: message("\xe7\224\x9f\346\x88\x90\347\233\264\346\x92\255\xe6\265\x81\345\244\xb1\350\xb4\xa5\xef\274\214\350\257\xb7\xe7\xa8\x8d\xe5\x80\231\351\x87\215\xe8\xaf\x95"); goto c5Cxk; qQ2EX: MyP9J: goto kEL_c; VbRlA: $live_info["\166\x69\x64\145\x6f\165\x72\x6c"] = $play_url; goto w7cKZ; UDMZS: $stream_pre = trim($_GPC["\163\164\x72\145\141\x6d\x5f\160\x72\x65"]) ? trim($_GPC["\163\164\x72\x65\141\155\137\x70\x72\x65"]) : random(6); goto yds3X; eo8So: if ($res) { goto MyP9J; } goto LNay0; w7cKZ: $live_info["\165\x70\x64\x61\164\145\137\164\151\x6d\145"] = time(); goto MYQC9; Wj7g7: $data = array("\165\x6e\151\x61\x63\x69\x64" => $uniacid, "\164\x79\x70\145" => 1, "\154\x69\166\x65\137\163\x70\x65\145\x64" => intval($video_live["\x6c\x69\166\145\137\x73\160\145\x65\144"]), "\163\164\x72\145\141\155\137\x6e\141\x6d\145" => $stream_name, "\163\145\162\166\145\162\x5f\x75\x72\x6c" => $server_url, "\163\x74\x72\x65\x61\x6d\137\163\x69\x67\156" => $stream_sign, "\x70\154\x61\x79\x5f\x75\x72\154" => $play_url, "\166\141\x6c\x69\x64\x69\x74\x79" => $validity, "\x61\x64\144\x74\x69\155\145" => time()); goto Jd6TR; pjS3P: IFA8Q: goto UDMZS; fjtTi: $pushext_str = "\77" . http_build_query(array("\x74\x78\123\145\x63\162\145\x74" => $push_txSecret, "\x74\x78\124\151\x6d\145" => $txTime)); goto LgY2H; tvXEY: if (!checksubmit()) { goto Hju3Z; } goto DzWTP; oWzId: message("\350\257\xb7\xe9\x80\x89\346\x8b\xa9\xe7\233\264\xe6\x92\255\350\xaf\276\xe7\250\x8b"); goto pjS3P; xE3RY: QqsUV: goto Qoktv; LFAH0: bqWxD: goto Wj7g7; RIkmY: $live_info["\154\151\x76\145\x5f\163\x70\145\145\144"] = intval($video_live["\x6c\x69\x76\145\x5f\x73\x70\x65\x65\x64"]); goto VbRlA; rnEo4: $txTime = strtoupper(base_convert($validity, 10, 16)); goto ri6bF; SLsrZ: $play_url = $_W["\x73\151\164\x65\163\143\x68\145\x6d\x65"] . $video_live["\161\143\154\x6f\165\144"]["\x70\154\x61\171\137\144\157\155\x61\151\x6e"] . "\57\154\151\x76\145\x2f" . $stream_name . "\x2e\x6d\63\x75\70" . $playext_str; goto a3OB1; GofKL: Lb9NY: goto vLac3; TEeOC: message("\xe7\224\x9f\xe6\210\x90\347\x9b\264\xe6\x92\xad\xe6\265\x81\346\210\x90\xe5\212\x9f", $this->createWebUrl("\154\x69\x76\145", array("\157\160" => "\163\x74\162\x65\141\155\x44\145\x74\x61\x69\154\163", "\x69\x64" => $id)), "\x73\165\x63\x63\145\x73\x73"); goto GofKL; ojVas: $stream_sign = $stream_name . (isset($pushext_str) ? $pushext_str : ''); goto IMk3m; GgiZQ: if (!($validity <= time())) { goto cL7rH; } goto G48oN; MYQC9: pdo_update($this->table_lesson_parent, array("\x6c\x69\166\x65\x5f\x69\x6e\x66\157" => json_encode($live_info)), array("\151\x64" => $lessonid)); goto TEeOC; MKr0y: $lesson = pdo_get($this->table_lesson_parent, array("\165\156\x69\x61\143\151\144" => $uniacid, "\x69\144" => $lessonid, "\x6c\x65\x73\163\157\x6e\137\164\171\x70\145" => 3), array("\154\x69\166\x65\137\151\x6e\146\x6f")); goto Cy04A; Kq9rO: $validity = strtotime($_GPC["\166\141\x6c\151\x64\151\164\x79"]); goto GgiZQ; kEL_c: $live_info = json_decode($lesson["\154\151\166\x65\137\151\x6e\146\x6f"], true); goto fQvz1; Cy04A: if (!empty($lesson)) { goto IFA8Q; } goto oWzId; Jd6TR: $res = pdo_insert($this->table_live_stream, $data); goto BTp_s; a3OB1: goto bqWxD; goto xE3RY; c5Cxk: goto Lb9NY; goto qQ2EX; kMprB: if ($video_live["\154\151\166\145\x5f\163\x70\x65\145\144"]) { goto QqsUV; } goto SLsrZ; BTp_s: $id = pdo_insertid(); goto eo8So; Qoktv: $play_url = "\167\x65\x62\x72\x74\x63\72\x2f\x2f" . $video_live["\161\x63\x6c\157\x75\144"]["\x70\154\141\x79\x5f\144\x6f\x6d\x61\151\x6e"] . "\x2f\154\151\x76\x65\57" . $stream_name . $playext_str; goto LFAH0; C0I7_: cL7rH: goto rnEo4; LgY2H: $server_url = "\x72\x74\155\160\72\x2f\x2f" . $video_live["\161\143\x6c\x6f\165\x64"]["\x70\165\163\x68\137\x64\157\155\141\x69\x6e"] . "\57\x6c\x69\166\145\x2f"; goto ojVas; WEG3y: $playext_str = "\77" . http_build_query(array("\164\x78\123\145\x63\162\145\164" => $play_txSecret, "\x74\x78\124\x69\x6d\145" => $txTime)); goto kMprB; IMk3m: $play_txSecret = md5($video_live["\x71\143\154\x6f\165\x64"]["\160\x6c\x61\x79\137\x6b\x65\171"] . $stream_name . $txTime); goto WEG3y; yds3X: $stream_name = $stream_pre . "\137" . $uniacid . "\137" . $lessonid; goto Kq9rO; DzWTP: $lessonid = intval($_GPC["\154\x65\163\163\157\x6e\x69\144"]); goto MKr0y; G48oN: message("\350\xbf\x87\346\x9c\237\xe6\227\266\xe9\x97\xb4\xe4\xb8\215\350\x83\xbd\345\260\217\344\272\216\345\275\x93\345\x89\215\xe6\x97\xb6\351\x97\264"); goto C0I7_; vLac3: Hju3Z: